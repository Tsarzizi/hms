/*
 Navicat Premium Dump SQL

 Source Server         : 192.168.20.73_5432
 Source Server Type    : PostgreSQL
 Source Server Version : 160008 (160008)
 Source Host           : 192.168.20.73:5432
 Source Catalog        : miasv2
 Source Schema         : public

 Target Server Type    : PostgreSQL
 Target Server Version : 160008 (160008)
 File Encoding         : 65001

 Date: 20/11/2025 14:36:31
*/


-- ----------------------------
-- Type structure for breakpoint
-- ----------------------------
DROP TYPE IF EXISTS "public"."breakpoint";
CREATE TYPE "public"."breakpoint" AS (
  "func" oid,
  "linenumber" int4,
  "targetname" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."breakpoint" OWNER TO "postgres";

-- ----------------------------
-- Type structure for dblink_pkey_results
-- ----------------------------
DROP TYPE IF EXISTS "public"."dblink_pkey_results";
CREATE TYPE "public"."dblink_pkey_results" AS (
  "position" int4,
  "colname" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."dblink_pkey_results" OWNER TO "postgres";

-- ----------------------------
-- Type structure for frame
-- ----------------------------
DROP TYPE IF EXISTS "public"."frame";
CREATE TYPE "public"."frame" AS (
  "level" int4,
  "targetname" text COLLATE "pg_catalog"."default",
  "func" oid,
  "linenumber" int4,
  "args" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."frame" OWNER TO "postgres";

-- ----------------------------
-- Type structure for proxyinfo
-- ----------------------------
DROP TYPE IF EXISTS "public"."proxyinfo";
CREATE TYPE "public"."proxyinfo" AS (
  "serverversionstr" text COLLATE "pg_catalog"."default",
  "serverversionnum" int4,
  "proxyapiver" int4,
  "serverprocessid" int4
);
ALTER TYPE "public"."proxyinfo" OWNER TO "postgres";

-- ----------------------------
-- Type structure for tablefunc_crosstab_2
-- ----------------------------
DROP TYPE IF EXISTS "public"."tablefunc_crosstab_2";
CREATE TYPE "public"."tablefunc_crosstab_2" AS (
  "row_name" text COLLATE "pg_catalog"."default",
  "category_1" text COLLATE "pg_catalog"."default",
  "category_2" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."tablefunc_crosstab_2" OWNER TO "postgres";

-- ----------------------------
-- Type structure for tablefunc_crosstab_3
-- ----------------------------
DROP TYPE IF EXISTS "public"."tablefunc_crosstab_3";
CREATE TYPE "public"."tablefunc_crosstab_3" AS (
  "row_name" text COLLATE "pg_catalog"."default",
  "category_1" text COLLATE "pg_catalog"."default",
  "category_2" text COLLATE "pg_catalog"."default",
  "category_3" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."tablefunc_crosstab_3" OWNER TO "postgres";

-- ----------------------------
-- Type structure for tablefunc_crosstab_4
-- ----------------------------
DROP TYPE IF EXISTS "public"."tablefunc_crosstab_4";
CREATE TYPE "public"."tablefunc_crosstab_4" AS (
  "row_name" text COLLATE "pg_catalog"."default",
  "category_1" text COLLATE "pg_catalog"."default",
  "category_2" text COLLATE "pg_catalog"."default",
  "category_3" text COLLATE "pg_catalog"."default",
  "category_4" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."tablefunc_crosstab_4" OWNER TO "postgres";

-- ----------------------------
-- Type structure for targetinfo
-- ----------------------------
DROP TYPE IF EXISTS "public"."targetinfo";
CREATE TYPE "public"."targetinfo" AS (
  "target" oid,
  "schema" oid,
  "nargs" int4,
  "argtypes" "pg_catalog"."oidvector",
  "targetname" "pg_catalog"."name" COLLATE "pg_catalog"."C",
  "argmodes" "char"[],
  "argnames" text[] COLLATE "pg_catalog"."default",
  "targetlang" oid,
  "fqname" text COLLATE "pg_catalog"."default",
  "returnsset" bool,
  "returntype" oid,
  "isfunc" bool,
  "pkg" oid,
  "argdefvals" text[] COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."targetinfo" OWNER TO "postgres";

-- ----------------------------
-- Type structure for var
-- ----------------------------
DROP TYPE IF EXISTS "public"."var";
CREATE TYPE "public"."var" AS (
  "name" text COLLATE "pg_catalog"."default",
  "varclass" char(1) COLLATE "pg_catalog"."default",
  "linenumber" int4,
  "isunique" bool,
  "isconst" bool,
  "isnotnull" bool,
  "dtype" oid,
  "value" text COLLATE "pg_catalog"."default"
);
ALTER TYPE "public"."var" OWNER TO "postgres";

-- ----------------------------
-- Sequence structure for dept_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."dept_id_seq";
CREATE SEQUENCE "public"."dept_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1000
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_analysis_intface_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_analysis_intface_id_seq";
CREATE SEQUENCE "public"."t_workload_analysis_intface_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_dep_def_dept_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_dep_def_dept_id_seq";
CREATE SEQUENCE "public"."t_workload_dep_def_dept_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1000
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_dep_def_绩效科室id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_dep_def_绩效科室id_seq";
CREATE SEQUENCE "public"."t_workload_dep_def_绩效科室id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1000
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_log_log_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_log_log_id_seq";
CREATE SEQUENCE "public"."t_workload_log_log_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_modification_log_log_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_modification_log_log_id_seq";
CREATE SEQUENCE "public"."t_workload_modification_log_log_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_point_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_point_seq";
CREATE SEQUENCE "public"."t_workload_point_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Sequence structure for t_workload_rewards_序号_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "public"."t_workload_rewards_序号_seq";
CREATE SEQUENCE "public"."t_workload_rewards_序号_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;

-- ----------------------------
-- Table structure for V_人员信息
-- ----------------------------
DROP TABLE IF EXISTS "public"."V_人员信息";
CREATE TABLE "public"."V_人员信息" (
  "发薪组织" varchar(255) COLLATE "pg_catalog"."default",
  "员工状态" varchar(255) COLLATE "pg_catalog"."default",
  "科室编码" varchar(255) COLLATE "pg_catalog"."default",
  "科室" varchar(255) COLLATE "pg_catalog"."default",
  "年" int4,
  "月" int4,
  "发薪次数" int4,
  "员工编码" varchar(255) COLLATE "pg_catalog"."default",
  "员工姓名" varchar(255) COLLATE "pg_catalog"."default",
  "实发工资" float8,
  "住房公积金-院部" float8,
  "住房公积金-个人" float8,
  "养老金-个人" float8,
  "养老金-院部" float8,
  "医保-个人" float8,
  "医保-院部" float8,
  "失业保险-个人" float8,
  "失业保险-院部" float8
)
;

-- ----------------------------
-- Table structure for V_人员信息_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."V_人员信息_f";
CREATE FOREIGN TABLE "public"."V_人员信息_f" (
  "发薪组织" varchar(255) COLLATE "pg_catalog"."default",
  "员工状态" varchar(255) COLLATE "pg_catalog"."default",
  "科室编码" varchar(255) COLLATE "pg_catalog"."default",
  "科室" varchar(255) COLLATE "pg_catalog"."default",
  "年" int4,
  "月" int4,
  "发薪次数" int4,
  "员工编码" varchar(255) COLLATE "pg_catalog"."default",
  "员工姓名" varchar(255) COLLATE "pg_catalog"."default",
  "实发工资" float8,
  "住房公积金-院部" float8,
  "住房公积金-个人" float8,
  "养老金-个人" float8,
  "养老金-院部" float8,
  "医保-个人" float8,
  "医保-院部" float8,
  "失业保险-个人" float8,
  "失业保险-院部" float8
)
SERVER "mssql_foreign_server"
OPTIONS ("table_name" 'dbo.V_人员信息')
;

-- ----------------------------
-- Table structure for V_人员变动
-- ----------------------------
DROP TABLE IF EXISTS "public"."V_人员变动";
CREATE TABLE "public"."V_人员变动" (
  "日期" timestamp(6),
  "ID" varchar(255) COLLATE "pg_catalog"."default",
  "工号" varchar(255) COLLATE "pg_catalog"."default",
  "姓名" varchar(255) COLLATE "pg_catalog"."default",
  "原科室编码" varchar(255) COLLATE "pg_catalog"."default",
  "原科室名称" varchar(255) COLLATE "pg_catalog"."default",
  "调入科室编码" varchar(255) COLLATE "pg_catalog"."default",
  "调入科室名称" varchar(255) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for V_科室全成本
-- ----------------------------
DROP TABLE IF EXISTS "public"."V_科室全成本";
CREATE TABLE "public"."V_科室全成本" (
  "期间" varchar(255) COLLATE "pg_catalog"."default",
  "年" int4,
  "月" int4,
  "科室分类" varchar(255) COLLATE "pg_catalog"."default",
  "科室编码" varchar(255) COLLATE "pg_catalog"."default",
  "科室名称" varchar(255) COLLATE "pg_catalog"."default",
  "人员经费_直接" float8,
  "人员经费_间接" float8,
  "人员经费_全成本" float8,
  "卫生材料费_直接" float8,
  "卫生材料费_间接" float8,
  "卫生材料费_全成本" float8,
  "药品费_直接" float8,
  "药品费_间接" float8,
  "药品费_全成本" float8,
  "固定资产折旧_直接" float8,
  "固定资产折旧_间接" float8,
  "固定资产折旧_全成本" float8,
  "无形资产摊销_直接" int4,
  "无形资产摊销_间接" int4,
  "无形资产摊销_全成本" int4,
  "计提医疗风险金_直接" float8,
  "计提医疗风险金_间接" float8,
  "计提医疗风险金_全成本" float8,
  "其他费用_直接" int4,
  "其他费用_间接" float8,
  "其他费用_全成本" float8
)
;

-- ----------------------------
-- Table structure for V_科室直接成本
-- ----------------------------
DROP TABLE IF EXISTS "public"."V_科室直接成本";
CREATE TABLE "public"."V_科室直接成本" (
  "期间" varchar(255) COLLATE "pg_catalog"."default",
  "年" int4,
  "月" int4,
  "科室分类" varchar(255) COLLATE "pg_catalog"."default",
  "科室编码" varchar(255) COLLATE "pg_catalog"."default",
  "科室名称" varchar(255) COLLATE "pg_catalog"."default",
  "人员经费" float8,
  "卫生材料费" float8,
  "药品费" float8,
  "固定资产折旧" float8,
  "无形资产摊销" int4,
  "计提医疗风险金" float8,
  "其他费用" float8
)
;

-- ----------------------------
-- Table structure for ai_chat_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."ai_chat_detail";
CREATE TABLE "public"."ai_chat_detail" (
  "chat_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "ai_chat_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chat_no" int4 NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(100) COLLATE "pg_catalog"."default",
  "note" varchar(2000) COLLATE "pg_catalog"."default",
  "chat_role" varchar(100) COLLATE "pg_catalog"."default",
  "chat_detail" text COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."ai_chat_detail"."chat_detail_id" IS '用户对话内容id';
COMMENT ON COLUMN "public"."ai_chat_detail"."ai_chat_id" IS '用户对话记录id';
COMMENT ON COLUMN "public"."ai_chat_detail"."chat_no" IS '用户对话内容顺序';
COMMENT ON COLUMN "public"."ai_chat_detail"."create_user_id" IS '创建人id';
COMMENT ON COLUMN "public"."ai_chat_detail"."create_user" IS '创建人';
COMMENT ON COLUMN "public"."ai_chat_detail"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."ai_chat_detail"."modify_user_id" IS '修改人id';
COMMENT ON COLUMN "public"."ai_chat_detail"."modify_user" IS '修改人';
COMMENT ON COLUMN "public"."ai_chat_detail"."modify_dt" IS '修改日期';
COMMENT ON COLUMN "public"."ai_chat_detail"."status" IS '状态';
COMMENT ON COLUMN "public"."ai_chat_detail"."note" IS '备注';
COMMENT ON COLUMN "public"."ai_chat_detail"."chat_role" IS '对话角色';
COMMENT ON COLUMN "public"."ai_chat_detail"."chat_detail" IS '对话内容';
COMMENT ON TABLE "public"."ai_chat_detail" IS '用户对话内容记录';

-- ----------------------------
-- Table structure for ai_chat_history
-- ----------------------------
DROP TABLE IF EXISTS "public"."ai_chat_history";
CREATE TABLE "public"."ai_chat_history" (
  "ai_chat_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "ai_service_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(100) COLLATE "pg_catalog"."default",
  "note" varchar(2000) COLLATE "pg_catalog"."default",
  "ai_chat_code" varchar(100) COLLATE "pg_catalog"."default",
  "ai_chat_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."ai_chat_history"."ai_chat_id" IS '用户对话记录id';
COMMENT ON COLUMN "public"."ai_chat_history"."user_id" IS '用户id';
COMMENT ON COLUMN "public"."ai_chat_history"."ai_service_id" IS '服务提供商id';
COMMENT ON COLUMN "public"."ai_chat_history"."create_user_id" IS '创建人id';
COMMENT ON COLUMN "public"."ai_chat_history"."create_user" IS '创建人';
COMMENT ON COLUMN "public"."ai_chat_history"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."ai_chat_history"."modify_user_id" IS '修改人id';
COMMENT ON COLUMN "public"."ai_chat_history"."modify_user" IS '修改人';
COMMENT ON COLUMN "public"."ai_chat_history"."modify_dt" IS '修改日期';
COMMENT ON COLUMN "public"."ai_chat_history"."status" IS '状态';
COMMENT ON COLUMN "public"."ai_chat_history"."note" IS '备注';
COMMENT ON COLUMN "public"."ai_chat_history"."ai_chat_code" IS '用户对话编号';
COMMENT ON COLUMN "public"."ai_chat_history"."ai_chat_name" IS '用户对话名称';
COMMENT ON TABLE "public"."ai_chat_history" IS '用户对话记录';

-- ----------------------------
-- Table structure for ai_service
-- ----------------------------
DROP TABLE IF EXISTS "public"."ai_service";
CREATE TABLE "public"."ai_service" (
  "ai_service_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(100) COLLATE "pg_catalog"."default",
  "note" varchar(2000) COLLATE "pg_catalog"."default",
  "ai_service_code" varchar(100) COLLATE "pg_catalog"."default",
  "ai_service_name" varchar(200) COLLATE "pg_catalog"."default",
  "ai_service_url" varchar(200) COLLATE "pg_catalog"."default",
  "ai_service_key" varchar(100) COLLATE "pg_catalog"."default",
  "ai_service_params" varchar(100) COLLATE "pg_catalog"."default",
  "ai_service_avatar" varchar(200) COLLATE "pg_catalog"."default",
  "ai_service_modal" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."ai_service"."ai_service_id" IS '服务提供商id';
COMMENT ON COLUMN "public"."ai_service"."create_user_id" IS '创建人id';
COMMENT ON COLUMN "public"."ai_service"."create_user" IS '创建人';
COMMENT ON COLUMN "public"."ai_service"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."ai_service"."modify_user_id" IS '修改人id';
COMMENT ON COLUMN "public"."ai_service"."modify_user" IS '修改人';
COMMENT ON COLUMN "public"."ai_service"."modify_dt" IS '修改日期';
COMMENT ON COLUMN "public"."ai_service"."status" IS '状态';
COMMENT ON COLUMN "public"."ai_service"."note" IS '备注';
COMMENT ON COLUMN "public"."ai_service"."ai_service_code" IS '服务提供商编号';
COMMENT ON COLUMN "public"."ai_service"."ai_service_name" IS '服务提供商名称';
COMMENT ON COLUMN "public"."ai_service"."ai_service_url" IS '服务提供商URL';
COMMENT ON COLUMN "public"."ai_service"."ai_service_key" IS '服务提供商KEY';
COMMENT ON COLUMN "public"."ai_service"."ai_service_params" IS '服务提供商参数';
COMMENT ON COLUMN "public"."ai_service"."ai_service_avatar" IS '服务提供商头像';
COMMENT ON COLUMN "public"."ai_service"."ai_service_modal" IS '服务提供商模型编号';
COMMENT ON TABLE "public"."ai_service" IS 'AI服务提供商';

-- ----------------------------
-- Table structure for column_count
-- ----------------------------
DROP TABLE IF EXISTS "public"."column_count";
CREATE TABLE "public"."column_count" (
  "count" int8
)
;

-- ----------------------------
-- Table structure for t_analysis_condition
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_condition";
CREATE TABLE "public"."t_analysis_condition" (
  "condition_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "condition_code" varchar(50) COLLATE "pg_catalog"."default",
  "condition_name" varchar(200) COLLATE "pg_catalog"."default",
  "condition_type" varchar(50) COLLATE "pg_catalog"."default",
  "field_name" varchar(200) COLLATE "pg_catalog"."default",
  "field_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_condition"."condition_id" IS '统计条件id';
COMMENT ON COLUMN "public"."t_analysis_condition"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_analysis_condition"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_analysis_condition"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_analysis_condition"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_analysis_condition"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_analysis_condition"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_analysis_condition"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_analysis_condition"."note" IS '说明';
COMMENT ON COLUMN "public"."t_analysis_condition"."condition_code" IS '统计条件编号';
COMMENT ON COLUMN "public"."t_analysis_condition"."condition_name" IS '统计条件名称';
COMMENT ON COLUMN "public"."t_analysis_condition"."condition_type" IS '统计条件选择项类别';
COMMENT ON COLUMN "public"."t_analysis_condition"."field_name" IS '字段名';
COMMENT ON COLUMN "public"."t_analysis_condition"."field_type" IS '统计条件字段类型:文字、选择项、日期、日期范围';
COMMENT ON TABLE "public"."t_analysis_condition" IS '统计条件';

-- ----------------------------
-- Table structure for t_analysis_cube
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_cube";
CREATE TABLE "public"."t_analysis_cube" (
  "cube_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "cube_code" varchar(50) COLLATE "pg_catalog"."default",
  "cube_name" varchar(200) COLLATE "pg_catalog"."default",
  "field_name" varchar(200) COLLATE "pg_catalog"."default",
  "display_label" varchar(1000) COLLATE "pg_catalog"."default",
  "display_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_cube"."cube_id" IS '统计维度id';
COMMENT ON COLUMN "public"."t_analysis_cube"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_analysis_cube"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_analysis_cube"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_analysis_cube"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_analysis_cube"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_analysis_cube"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_analysis_cube"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_analysis_cube"."note" IS '说明';
COMMENT ON COLUMN "public"."t_analysis_cube"."cube_code" IS '统计维度编号';
COMMENT ON COLUMN "public"."t_analysis_cube"."cube_name" IS '统计维度名称';
COMMENT ON COLUMN "public"."t_analysis_cube"."field_name" IS '字段名';
COMMENT ON COLUMN "public"."t_analysis_cube"."display_label" IS '展示标签，分级用逗号分隔开，如 总费用,药品费';
COMMENT ON COLUMN "public"."t_analysis_cube"."display_type" IS '展示类型，字符串、金额、数字';
COMMENT ON TABLE "public"."t_analysis_cube" IS '统计维度';

-- ----------------------------
-- Table structure for t_analysis_indicator
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_indicator";
CREATE TABLE "public"."t_analysis_indicator" (
  "analysis_indicator_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "indicator_code" varchar(50) COLLATE "pg_catalog"."default",
  "indicator_name" varchar(200) COLLATE "pg_catalog"."default",
  "field_name" varchar(200) COLLATE "pg_catalog"."default",
  "display_label" varchar(1000) COLLATE "pg_catalog"."default",
  "display_type" varchar(50) COLLATE "pg_catalog"."default",
  "denominator_id" varchar(50) COLLATE "pg_catalog"."default",
  "cal_express" varchar(200) COLLATE "pg_catalog"."default",
  "cal_type" varchar(50) COLLATE "pg_catalog"."default",
  "format" varchar(50) COLLATE "pg_catalog"."default",
  "align" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_indicator"."analysis_indicator_id" IS '统计指标id';
COMMENT ON COLUMN "public"."t_analysis_indicator"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_analysis_indicator"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_analysis_indicator"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_analysis_indicator"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_analysis_indicator"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_analysis_indicator"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_analysis_indicator"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_analysis_indicator"."note" IS '说明';
COMMENT ON COLUMN "public"."t_analysis_indicator"."indicator_code" IS '医院统计指标编号';
COMMENT ON COLUMN "public"."t_analysis_indicator"."indicator_name" IS '医院统计指标名称';
COMMENT ON COLUMN "public"."t_analysis_indicator"."field_name" IS '字段名';
COMMENT ON COLUMN "public"."t_analysis_indicator"."display_label" IS '展示标签，分级用逗号分隔开，如 总费用,药品费';
COMMENT ON COLUMN "public"."t_analysis_indicator"."display_type" IS '展示类型，字符串、金额、数字';
COMMENT ON COLUMN "public"."t_analysis_indicator"."denominator_id" IS '比例分母指标id';
COMMENT ON COLUMN "public"."t_analysis_indicator"."cal_express" IS '计算表达式';
COMMENT ON COLUMN "public"."t_analysis_indicator"."cal_type" IS '计算方式:合计、平均、最大、最小、计数、计算';
COMMENT ON COLUMN "public"."t_analysis_indicator"."format" IS '显示格式';
COMMENT ON COLUMN "public"."t_analysis_indicator"."align" IS '排列方式（靠左、右等）';
COMMENT ON TABLE "public"."t_analysis_indicator" IS '统计指标';

-- ----------------------------
-- Table structure for t_analysis_model
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_model";
CREATE TABLE "public"."t_analysis_model" (
  "analysis_model_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "model_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_model"."analysis_model_id" IS '统计模块配置id';
COMMENT ON COLUMN "public"."t_analysis_model"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_analysis_model"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_analysis_model"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_analysis_model"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_analysis_model"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_analysis_model"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_analysis_model"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_analysis_model"."note" IS '说明';
COMMENT ON TABLE "public"."t_analysis_model" IS '统计模块配置';

-- ----------------------------
-- Table structure for t_analysis_model_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_model_result";
CREATE TABLE "public"."t_analysis_model_result" (
  "model_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "analysis_model_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "row" int4,
  "span" int4,
  "rel_model_code" varchar(50) COLLATE "pg_catalog"."default",
  "display_type" varchar(50) COLLATE "pg_catalog"."default",
  "result_no" int4,
  "echart_style" text COLLATE "pg_catalog"."default",
  "result_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_model_result"."model_result_id" IS '统计模块结果集配置id';
COMMENT ON COLUMN "public"."t_analysis_model_result"."analysis_model_id" IS '统计模块配置id';
COMMENT ON COLUMN "public"."t_analysis_model_result"."result_id" IS '统计结果集合id';
COMMENT ON COLUMN "public"."t_analysis_model_result"."row" IS '行数';
COMMENT ON COLUMN "public"."t_analysis_model_result"."span" IS '列宽度(1~24)';
COMMENT ON COLUMN "public"."t_analysis_model_result"."rel_model_code" IS '跳转模块编号';
COMMENT ON COLUMN "public"."t_analysis_model_result"."display_type" IS '展示类型，表格，图表，统计值等';
COMMENT ON COLUMN "public"."t_analysis_model_result"."result_no" IS '序号';
COMMENT ON COLUMN "public"."t_analysis_model_result"."echart_style" IS '图表展示样式json';
COMMENT ON COLUMN "public"."t_analysis_model_result"."result_name" IS '数据集名称';
COMMENT ON TABLE "public"."t_analysis_model_result" IS '统计模块结果集配置';

-- ----------------------------
-- Table structure for t_analysis_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_result";
CREATE TABLE "public"."t_analysis_result" (
  "result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "source_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_code" varchar(50) COLLATE "pg_catalog"."default",
  "result_name" varchar(200) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_result"."source_id" IS '统计数据源id';
COMMENT ON TABLE "public"."t_analysis_result" IS '统计结果集合';

-- ----------------------------
-- Table structure for t_analysis_result_condition
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_result_condition";
CREATE TABLE "public"."t_analysis_result_condition" (
  "result_condition_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "condition_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_no" int4,
  "required" int4
)
;
COMMENT ON COLUMN "public"."t_analysis_result_condition"."condition_id" IS '统计条件id';
COMMENT ON COLUMN "public"."t_analysis_result_condition"."required" IS '是否必填';
COMMENT ON TABLE "public"."t_analysis_result_condition" IS '统计结果条件';

-- ----------------------------
-- Table structure for t_analysis_result_cube
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_result_cube";
CREATE TABLE "public"."t_analysis_result_cube" (
  "result_cube_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "cube_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_no" int4,
  "field_name" varchar(200) COLLATE "pg_catalog"."default",
  "display_label" varchar(1000) COLLATE "pg_catalog"."default",
  "display_type" varchar(50) COLLATE "pg_catalog"."default",
  "visible" int4
)
;
COMMENT ON COLUMN "public"."t_analysis_result_cube"."cube_id" IS '统计维度id';
COMMENT ON COLUMN "public"."t_analysis_result_cube"."field_name" IS '字段名';
COMMENT ON COLUMN "public"."t_analysis_result_cube"."display_label" IS '展示标签，分级用逗号分隔开，如 总费用,药品费';
COMMENT ON COLUMN "public"."t_analysis_result_cube"."display_type" IS '展示类型，字符串、金额、数字';
COMMENT ON COLUMN "public"."t_analysis_result_cube"."visible" IS '是否显示';
COMMENT ON TABLE "public"."t_analysis_result_cube" IS '统计结果维度';

-- ----------------------------
-- Table structure for t_analysis_result_indicator
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_result_indicator";
CREATE TABLE "public"."t_analysis_result_indicator" (
  "result_indicator_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "analysis_indicator_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "result_no" int4,
  "field_name" varchar(200) COLLATE "pg_catalog"."default",
  "display_label" varchar(1000) COLLATE "pg_catalog"."default",
  "display_type" varchar(50) COLLATE "pg_catalog"."default",
  "visible" int4,
  "format" varchar(50) COLLATE "pg_catalog"."default",
  "align" varchar(50) COLLATE "pg_catalog"."default",
  "span" int4
)
;
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."analysis_indicator_id" IS '统计指标id';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."field_name" IS '字段名';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."display_label" IS '展示标签，分级用逗号分隔开，如 总费用,药品费';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."display_type" IS '展示类型，字符串、金额、数字';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."visible" IS '是否显示';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."format" IS '显示格式';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."align" IS '排列方式（靠左、右等）';
COMMENT ON COLUMN "public"."t_analysis_result_indicator"."span" IS 'span值';
COMMENT ON TABLE "public"."t_analysis_result_indicator" IS '统计结果指标';

-- ----------------------------
-- Table structure for t_analysis_source
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_analysis_source";
CREATE TABLE "public"."t_analysis_source" (
  "source_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "source_code" varchar(50) COLLATE "pg_catalog"."default",
  "source_name" varchar(200) COLLATE "pg_catalog"."default",
  "table_name" varchar(200) COLLATE "pg_catalog"."default",
  "sql" text COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_analysis_source"."source_id" IS '统计数据源id';
COMMENT ON COLUMN "public"."t_analysis_source"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_analysis_source"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_analysis_source"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_analysis_source"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_analysis_source"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_analysis_source"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_analysis_source"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_analysis_source"."note" IS '说明';
COMMENT ON COLUMN "public"."t_analysis_source"."source_code" IS '统计数据源编号';
COMMENT ON COLUMN "public"."t_analysis_source"."source_name" IS '统计数据源名称';
COMMENT ON COLUMN "public"."t_analysis_source"."table_name" IS '统计数据源表名';
COMMENT ON COLUMN "public"."t_analysis_source"."sql" IS 'SQL语句';
COMMENT ON TABLE "public"."t_analysis_source" IS '统计数据源';

-- ----------------------------
-- Table structure for t_chs_drug_form
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_drug_form";
CREATE TABLE "public"."t_chs_drug_form" (
  "drug_mi_form_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "drug_mi_form_code" varchar(50) COLLATE "pg_catalog"."default",
  "drug_mi_form_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_drug_form"."drug_mi_form_id" IS '医保药物剂型ID';
COMMENT ON COLUMN "public"."t_chs_drug_form"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_drug_form"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_drug_form"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_drug_form"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_drug_form"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_drug_form"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_drug_form"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_drug_form"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_drug_form"."drug_mi_form_code" IS '医保药品剂型编号';
COMMENT ON COLUMN "public"."t_chs_drug_form"."drug_mi_form_name" IS '医保药物剂型名称';

-- ----------------------------
-- Table structure for t_chs_drug_form_rel
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_drug_form_rel";
CREATE TABLE "public"."t_chs_drug_form_rel" (
  "drug_form_rel_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_form_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_mi_form_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_chs_drug_form_rel"."drug_form_rel_id" IS '药物医保剂型关系ID';
COMMENT ON COLUMN "public"."t_chs_drug_form_rel"."drug_form_id" IS '药物剂型ID';
COMMENT ON COLUMN "public"."t_chs_drug_form_rel"."drug_mi_form_id" IS '医保药物剂型ID';

-- ----------------------------
-- Table structure for t_chs_org
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_org";
CREATE TABLE "public"."t_chs_org" (
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_org"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_chs_org"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_org"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_org"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_org"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_org"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_org"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_org"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_org"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_org"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_chs_org"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_chs_org"."parent_id" IS '上级分类ID';

-- ----------------------------
-- Table structure for t_chs_org_paymtd
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_org_paymtd";
CREATE TABLE "public"."t_chs_org_paymtd" (
  "org_paymtd_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_chs_org_paymtd"."org_paymtd_id" IS '医保统筹区支付方式ID';
COMMENT ON COLUMN "public"."t_chs_org_paymtd"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_chs_org_paymtd"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_chs_org_paymtd"."org_id" IS '医保统筹区ID';

-- ----------------------------
-- Table structure for t_chs_org_ver
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_org_ver";
CREATE TABLE "public"."t_chs_org_ver" (
  "org_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "year" int4
)
;
COMMENT ON COLUMN "public"."t_chs_org_ver"."org_ver_id" IS '统筹区使用版本ID';
COMMENT ON COLUMN "public"."t_chs_org_ver"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_chs_org_ver"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_chs_org_ver"."year" IS '年度';

-- ----------------------------
-- Table structure for t_chs_paymtd
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_paymtd";
CREATE TABLE "public"."t_chs_paymtd" (
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_paymtd"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_chs_paymtd"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_paymtd"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_paymtd"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_paymtd"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_paymtd"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_paymtd"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_paymtd"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_paymtd"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_paymtd"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_chs_paymtd"."paymtd_name" IS '医保支付方式名称';

-- ----------------------------
-- Table structure for t_chs_psn_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_psn_type";
CREATE TABLE "public"."t_chs_psn_type" (
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_psn_type"."psn_type_id" IS '医保人员类别id';
COMMENT ON COLUMN "public"."t_chs_psn_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_psn_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_psn_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_psn_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_psn_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_psn_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_psn_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_psn_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_psn_type"."psn_type_code" IS '医保人员类别编号';
COMMENT ON COLUMN "public"."t_chs_psn_type"."psn_type_name" IS '医保人员类别名称';

-- ----------------------------
-- Table structure for t_chs_rule
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_rule";
CREATE TABLE "public"."t_chs_rule" (
  "rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "rule_code" varchar(50) COLLATE "pg_catalog"."default",
  "rule_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_source" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type" varchar(50) COLLATE "pg_catalog"."default",
  "enable_pres" int2,
  "enable_before" int2,
  "enable_during" int2,
  "enable_after" int2,
  "vola_evid" varchar(4000) COLLATE "pg_catalog"."default",
  "sev_deg" varchar(50) COLLATE "pg_catalog"."default",
  "is_deduc" int2,
  "rule_class_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_rule"."rule_id" IS '审核规则ID';
COMMENT ON COLUMN "public"."t_chs_rule"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_rule"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_rule"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_rule"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_rule"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_rule"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_rule"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_rule"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_rule"."rule_code" IS '审核规则编号';
COMMENT ON COLUMN "public"."t_chs_rule"."rule_name" IS '审核规则名称';
COMMENT ON COLUMN "public"."t_chs_rule"."fee_item_type" IS '费用项目类别，全部、药品、医疗服务、医用耗材';
COMMENT ON COLUMN "public"."t_chs_rule"."vola_evid" IS '违规依据';
COMMENT ON COLUMN "public"."t_chs_rule"."sev_deg" IS '严重程度';
COMMENT ON COLUMN "public"."t_chs_rule"."is_deduc" IS '是否扣款';

-- ----------------------------
-- Table structure for t_chs_rule_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_rule_class";
CREATE TABLE "public"."t_chs_rule_class" (
  "rule_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "rule_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "rule_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_rule_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_rule_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_rule_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_rule_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_rule_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_rule_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_rule_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_rule_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_rule_class"."rule_class_code" IS '审核规则编号';
COMMENT ON COLUMN "public"."t_chs_rule_class"."rule_class_name" IS '审核规则名称';
COMMENT ON COLUMN "public"."t_chs_rule_class"."parent_id" IS '上级分类ID';

-- ----------------------------
-- Table structure for t_chs_si_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_si_type";
CREATE TABLE "public"."t_chs_si_type" (
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_si_type"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_chs_si_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_si_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_si_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_si_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_si_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_si_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_si_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_si_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_si_type"."si_type_code" IS '医保险种类别编号';
COMMENT ON COLUMN "public"."t_chs_si_type"."si_type_name" IS '医保险种类别名称';

-- ----------------------------
-- Table structure for t_chs_ver
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_chs_ver";
CREATE TABLE "public"."t_chs_ver" (
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "chs_ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_chs_ver"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_chs_ver"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_chs_ver"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_chs_ver"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_chs_ver"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_chs_ver"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_chs_ver"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_chs_ver"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_chs_ver"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_chs_ver"."note" IS '说明';
COMMENT ON COLUMN "public"."t_chs_ver"."chs_ver_code" IS '医保版本号';
COMMENT ON COLUMN "public"."t_chs_ver"."chs_ver_name" IS '医保版本名称';
COMMENT ON COLUMN "public"."t_chs_ver"."chs_ver_type" IS 'DIP
            DRG
            ICD10
            ICD9
            药品
            医疗服务项目
            医保版本类别，如医用耗材';

-- ----------------------------
-- Table structure for t_data_check_appeal
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_check_appeal";
CREATE TABLE "public"."t_data_check_appeal" (
  "appeal_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_check_rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "appeal_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_dr_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_dr_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_dt" timestamp(6),
  "appeal_detail" varchar(4000) COLLATE "pg_catalog"."default",
  "appeal_check_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_check_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_check_dt" timestamp(6),
  "appeal_check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_check_detail" varchar(4000) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_id" IS '申诉id';
COMMENT ON COLUMN "public"."t_data_check_appeal"."inbed_check_rule_id" IS '审核结果规则id';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_dep_code" IS '申诉科室编号';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_dep_name" IS '申诉科室名称';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_dr_code" IS '申诉医生编号';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_dr_name" IS '申诉医生名称';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_dt" IS '申诉日期';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_detail" IS '申诉内容';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_check_code" IS '申诉审核人编号';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_check_name" IS '申诉审核人姓名';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_check_dt" IS '申诉审核日期';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_check_result" IS '申诉审核结果(通过/不通过)';
COMMENT ON COLUMN "public"."t_data_check_appeal"."check_result_id" IS '智能审核结果数据ID';
COMMENT ON COLUMN "public"."t_data_check_appeal"."inbed_reg_id" IS '住院登记id';
COMMENT ON COLUMN "public"."t_data_check_appeal"."dep_id" IS '科室id';
COMMENT ON COLUMN "public"."t_data_check_appeal"."psn_id" IS '医生id';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_psn_id" IS '审核人id';
COMMENT ON COLUMN "public"."t_data_check_appeal"."appeal_check_detail" IS '审核内容';
COMMENT ON TABLE "public"."t_data_check_appeal" IS '审核结果申诉管理';

-- ----------------------------
-- Table structure for t_data_check_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_check_detail";
CREATE TABLE "public"."t_data_check_detail" (
  "check_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "check_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_check_rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "fee_item_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_cnt" numeric(12,4),
  "fee_item_price" numeric(12,4),
  "fee_item_amt" numeric(12,4),
  "fee_item_unit" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_self_amt" numeric(12,4),
  "fee_item_dt" timestamp(6),
  "doubt_amt" numeric(12,2),
  "doubt_msg" varchar(4000) COLLATE "pg_catalog"."default",
  "deduc_amt" numeric(12,2),
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_check_detail"."check_detail_id" IS '智能审核结果明细记录ID';
COMMENT ON COLUMN "public"."t_data_check_detail"."check_result_id" IS '智能审核结果数据ID';
COMMENT ON COLUMN "public"."t_data_check_detail"."inbed_bill_detail_id" IS '住院费用明细ID';
COMMENT ON COLUMN "public"."t_data_check_detail"."inbed_reg_id" IS '住院登记id';
COMMENT ON COLUMN "public"."t_data_check_detail"."inbed_check_rule_id" IS '审核结果规则id';
COMMENT ON COLUMN "public"."t_data_check_detail"."doubt_amt" IS '疑点金额';
COMMENT ON COLUMN "public"."t_data_check_detail"."doubt_msg" IS '疑点说明';
COMMENT ON COLUMN "public"."t_data_check_detail"."deduc_amt" IS '扣款金额';
COMMENT ON COLUMN "public"."t_data_check_detail"."dep_code" IS '开单科室编号';
COMMENT ON COLUMN "public"."t_data_check_detail"."dep_name" IS '开单科室名称';
COMMENT ON COLUMN "public"."t_data_check_detail"."dr_resid_name" IS '开单医生编号';
COMMENT ON COLUMN "public"."t_data_check_detail"."dr_resid_code" IS '开单医生名称';
COMMENT ON TABLE "public"."t_data_check_detail" IS '审核明细记录，允许为空，如合计数量超限，则不确定某条记录时';

-- ----------------------------
-- Table structure for t_data_check_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_check_result";
CREATE TABLE "public"."t_data_check_result" (
  "check_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" text COLLATE "pg_catalog"."default",
  "fee_source" varchar(50) COLLATE "pg_catalog"."default",
  "check_type" varchar(50) COLLATE "pg_catalog"."default",
  "exec_dt" timestamp(6),
  "doubt_cnt" int4,
  "doubt_amt" numeric(12,2),
  "deduc_amt" numeric(12,2),
  "deduc_cnt" int4,
  "total_amt" numeric(12,2),
  "bill_cnt" int4,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6),
  "inbed_days" int4,
  "inbed_status" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "medical_number" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_cnt" int4,
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(255) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(255) COLLATE "pg_catalog"."default",
  "psn_id" varchar(255) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_check_result"."check_result_id" IS '智能审核结果数据ID';
COMMENT ON COLUMN "public"."t_data_check_result"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_check_result"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_check_result"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_check_result"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_check_result"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_check_result"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_check_result"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_check_result"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_check_result"."status" IS '正常 作废';
COMMENT ON COLUMN "public"."t_data_check_result"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_check_result"."fee_source" IS '费用来源（门诊/住院）';
COMMENT ON COLUMN "public"."t_data_check_result"."check_type" IS '医保智审/自查自纠';
COMMENT ON COLUMN "public"."t_data_check_result"."exec_dt" IS '执行日期';
COMMENT ON COLUMN "public"."t_data_check_result"."doubt_cnt" IS '疑点明细笔数';
COMMENT ON COLUMN "public"."t_data_check_result"."doubt_amt" IS '疑点金额';
COMMENT ON COLUMN "public"."t_data_check_result"."deduc_amt" IS '扣款金额';
COMMENT ON COLUMN "public"."t_data_check_result"."deduc_cnt" IS '扣款明细笔数';
COMMENT ON COLUMN "public"."t_data_check_result"."total_amt" IS '费用总额';
COMMENT ON COLUMN "public"."t_data_check_result"."bill_cnt" IS '明细笔数';
COMMENT ON COLUMN "public"."t_data_check_result"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_check_result"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_check_result"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_check_result"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_check_result"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_check_result"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_check_result"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_check_result"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_check_result"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_check_result"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_data_check_result"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_check_result"."outbed_dt" IS '出院日期';
COMMENT ON COLUMN "public"."t_data_check_result"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_check_result"."inbed_status" IS '在院状态';
COMMENT ON COLUMN "public"."t_data_check_result"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_check_result"."medical_number" IS '病案号';
COMMENT ON COLUMN "public"."t_data_check_result"."inbed_cnt" IS '住院次数';
COMMENT ON COLUMN "public"."t_data_check_result"."dep_code" IS '科室病区编号';
COMMENT ON COLUMN "public"."t_data_check_result"."dep_name" IS '科室病区名称';
COMMENT ON COLUMN "public"."t_data_check_result"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_check_result"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_check_result"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_check_result"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_check_result"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_check_result"."patient_no" IS '患者编号';
COMMENT ON TABLE "public"."t_data_check_result" IS '1、包括门诊和住院审核结果2、只保留最新记录，之前记录见日志';

-- ----------------------------
-- Table structure for t_data_check_result_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_check_result_log";
CREATE TABLE "public"."t_data_check_result_log" (
  "check_result_log_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" text COLLATE "pg_catalog"."default",
  "fee_source" varchar(50) COLLATE "pg_catalog"."default",
  "check_type" varchar(50) COLLATE "pg_catalog"."default",
  "exec_dt" timestamp(6),
  "exec_params_in" text COLLATE "pg_catalog"."default",
  "exec_params_out" text COLLATE "pg_catalog"."default",
  "exec_cost" int4,
  "exec_msg" varchar(4000) COLLATE "pg_catalog"."default",
  "doubt_cnt" int4,
  "doubt_amt" numeric(12,2),
  "deduc_amt" numeric(12,2),
  "deduc_cnt" int4,
  "total_amt" numeric(12,2),
  "bill_cnt" int4,
  "check_result_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_check_result_log"."exec_params_in" IS '入参';
COMMENT ON COLUMN "public"."t_data_check_result_log"."exec_params_out" IS '出参';
COMMENT ON COLUMN "public"."t_data_check_result_log"."exec_cost" IS '耗时';
COMMENT ON COLUMN "public"."t_data_check_result_log"."exec_msg" IS '执行结果信息';
COMMENT ON COLUMN "public"."t_data_check_result_log"."deduc_cnt" IS '扣款明细笔数';
COMMENT ON COLUMN "public"."t_data_check_result_log"."check_result_id" IS '审核结果id';

-- ----------------------------
-- Table structure for t_data_check_rule
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_check_rule";
CREATE TABLE "public"."t_data_check_rule" (
  "inbed_check_rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "rule_code" varchar(50) COLLATE "pg_catalog"."default",
  "rule_name" varchar(200) COLLATE "pg_catalog"."default",
  "sev_deg" varchar(50) COLLATE "pg_catalog"."default",
  "doubt_amt" numeric(12,2),
  "doubt_msg" varchar(4000) COLLATE "pg_catalog"."default",
  "deduc_amt" numeric(12,2),
  "doubt_lev" varchar(50) COLLATE "pg_catalog"."default",
  "doubt_cnt" int4,
  "deduc_cnt" int4,
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" text COLLATE "pg_catalog"."default",
  "check_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_data_check_rule"."inbed_check_rule_id" IS '住院审核规则id';
COMMENT ON COLUMN "public"."t_data_check_rule"."inbed_reg_id" IS '住院登记id';
COMMENT ON COLUMN "public"."t_data_check_rule"."rule_id" IS '审核规则ID';
COMMENT ON COLUMN "public"."t_data_check_rule"."doubt_amt" IS '疑点金额';
COMMENT ON COLUMN "public"."t_data_check_rule"."doubt_msg" IS '疑点说明';
COMMENT ON COLUMN "public"."t_data_check_rule"."deduc_amt" IS '扣款金额';
COMMENT ON COLUMN "public"."t_data_check_rule"."doubt_lev" IS '疑点等级:疑似，高度疑似，违规';
COMMENT ON COLUMN "public"."t_data_check_rule"."doubt_cnt" IS '疑点明细笔数';
COMMENT ON COLUMN "public"."t_data_check_rule"."deduc_cnt" IS '扣款明细笔数';
COMMENT ON COLUMN "public"."t_data_check_rule"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_data_check_rule"."mi_item_name" IS '医保项目名称';
COMMENT ON COLUMN "public"."t_data_check_rule"."hosp_item_code" IS '医院项目编码';
COMMENT ON COLUMN "public"."t_data_check_rule"."hosp_item_name" IS '医院项目名称';
COMMENT ON COLUMN "public"."t_data_check_rule"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_check_rule"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_check_rule"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_check_rule"."modify_user_id" IS '关闭操作员ID';
COMMENT ON COLUMN "public"."t_data_check_rule"."modify_user" IS '关闭操作员名称';
COMMENT ON COLUMN "public"."t_data_check_rule"."modify_dt" IS '关闭日期';
COMMENT ON COLUMN "public"."t_data_check_rule"."status" IS '正常/关闭';
COMMENT ON COLUMN "public"."t_data_check_rule"."note" IS '备注（再次审核未找到，自动关闭）';
COMMENT ON COLUMN "public"."t_data_check_rule"."check_result_id" IS '智能审核结果数据ID';

-- ----------------------------
-- Table structure for t_data_check_rule_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_check_rule_detail";
CREATE TABLE "public"."t_data_check_rule_detail" (
  "check_rule_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "check_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_check_rule_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_cnt" numeric(12,4),
  "fee_item_price" numeric(12,4),
  "fee_item_amt" numeric(12,4),
  "fee_item_unit" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_self_amt" numeric(12,4),
  "fee_item_dt" timestamp(6),
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."check_rule_detail_id" IS '智能审核结果明细规则记录ID';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."check_detail_id" IS '智能审核结果明细记录ID(具体关联的主明细记录)';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."inbed_reg_id" IS '住院登记id';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."inbed_bill_detail_id" IS '费用明细id';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."inbed_check_rule_id" IS '审核结果规则id';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."dep_code" IS '开单科室编号';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."dep_name" IS '开单科室名称';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."dr_resid_name" IS '开单医生编号';
COMMENT ON COLUMN "public"."t_data_check_rule_detail"."dr_resid_code" IS '开单医生名称';
COMMENT ON TABLE "public"."t_data_check_rule_detail" IS '每笔审核规则（t_data_check_rule）或审核明细（t_data_check_detail）关联的相关明细记录';

-- ----------------------------
-- Table structure for t_data_group_indicator
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_group_indicator";
CREATE TABLE "public"."t_data_group_indicator" (
  "group_code" varchar(50) COLLATE "pg_catalog"."default",
  "group_name" varchar(1000) COLLATE "pg_catalog"."default",
  "is_key_group" int2,
  "rw" float8,
  "inbed_days_avg" float8,
  "total_amt_avg" float8,
  "group_adjust" float8,
  "fee_cost_factor" float8,
  "time_cost_factor" float8,
  "org_code" varchar(6) COLLATE "pg_catalog"."default" NOT NULL,
  "yearly" varchar(4) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_data_group_indicator"."is_key_group" IS '是否重点病组 1：是';
COMMENT ON COLUMN "public"."t_data_group_indicator"."inbed_days_avg" IS '平均住院日';
COMMENT ON COLUMN "public"."t_data_group_indicator"."total_amt_avg" IS '平均费用';
COMMENT ON COLUMN "public"."t_data_group_indicator"."group_adjust" IS '拨付系数';

-- ----------------------------
-- Table structure for t_data_group_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_group_result";
CREATE TABLE "public"."t_data_group_result" (
  "group_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "self_amt" numeric(12,2),
  "mi_pay_amt" numeric(12,2),
  "self_pay_amt" numeric(12,2),
  "acct_pay_amt" numeric(12,2),
  "cash_pay_amt" numeric(12,2),
  "drug_amt" numeric(12,2),
  "diag_amt" numeric(12,2),
  "med_sup_amt" numeric(12,2),
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_days" int4,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_type" varchar(50) COLLATE "pg_catalog"."default",
  "group_dt" timestamp(6),
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_code" varchar(50) COLLATE "pg_catalog"."default",
  "group_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_point" float4,
  "group_value" numeric(12,4),
  "group_adjust" float4,
  "group_pay_std" numeric(12,2),
  "main_diag" varchar(200) COLLATE "pg_catalog"."default",
  "main_opt" varchar(200) COLLATE "pg_catalog"."default",
  "disease_type" varchar(50) COLLATE "pg_catalog"."default",
  "si_case_type" varchar(50) COLLATE "pg_catalog"."default",
  "exec_dt" timestamp(6),
  "exec_params_in" text COLLATE "pg_catalog"."default",
  "exec_params_out" text COLLATE "pg_catalog"."default",
  "exec_cost" int4,
  "exec_msg" varchar(4000) COLLATE "pg_catalog"."default",
  "def_pay_amt" numeric(12,2),
  "inbed_status" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_id" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "high_rate" numeric(12,4),
  "low_rate" numeric(12,4),
  "high_std" numeric(12,2),
  "low_std" numeric(12,2),
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6),
  "inbed_result" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_psn_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_group_result"."group_result_id" IS '分组结果数据ID';
COMMENT ON COLUMN "public"."t_data_group_result"."mdc_id" IS 'DRG的MDC分组ID';
COMMENT ON COLUMN "public"."t_data_group_result"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_group_result"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_group_result"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_group_result"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_data_group_result"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_data_group_result"."dep_id" IS '科室id';
COMMENT ON COLUMN "public"."t_data_group_result"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_data_group_result"."psn_id" IS '管床医生id';
COMMENT ON COLUMN "public"."t_data_group_result"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_group_result"."bill_no" IS '结算单号';
COMMENT ON COLUMN "public"."t_data_group_result"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_data_group_result"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_data_group_result"."self_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_data_group_result"."mi_pay_amt" IS '医保支付金额';
COMMENT ON COLUMN "public"."t_data_group_result"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_data_group_result"."acct_pay_amt" IS '个账金额';
COMMENT ON COLUMN "public"."t_data_group_result"."cash_pay_amt" IS '现金金额';
COMMENT ON COLUMN "public"."t_data_group_result"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_data_group_result"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_data_group_result"."med_sup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_data_group_result"."dep_code" IS '科室病区编号';
COMMENT ON COLUMN "public"."t_data_group_result"."dep_name" IS '科室病区名称';
COMMENT ON COLUMN "public"."t_data_group_result"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_group_result"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_group_result"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_data_group_result"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_data_group_result"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_group_result"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_group_result"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_group_result"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_group_result"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_group_result"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_group_result"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_group_result"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_group_result"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_group_result"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_data_group_result"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_group_result"."idcard" IS '患者身份证号';
COMMENT ON COLUMN "public"."t_data_group_result"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_group_result"."psn_age_day" IS '年龄(天)';
COMMENT ON COLUMN "public"."t_data_group_result"."psn_age" IS '年龄(岁)';
COMMENT ON COLUMN "public"."t_data_group_result"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_data_group_result"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_group_result"."psn_type_id" IS '医保人员类别ID';
COMMENT ON COLUMN "public"."t_data_group_result"."psn_type_code" IS '人员类别编号';
COMMENT ON COLUMN "public"."t_data_group_result"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_data_group_result"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_group_result"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_group_result"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_group_result"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_group_result"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_group_result"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_group_result"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_group_result"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_group_result"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_group_result"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_group_result"."chs_ver_code" IS '医保版本号';
COMMENT ON COLUMN "public"."t_data_group_result"."chs_ver_name" IS '医保版本名称';
COMMENT ON COLUMN "public"."t_data_group_result"."chs_ver_type" IS '医保版本类别';
COMMENT ON COLUMN "public"."t_data_group_result"."group_dt" IS '分组日期';
COMMENT ON COLUMN "public"."t_data_group_result"."mdc_code" IS 'MDC编号';
COMMENT ON COLUMN "public"."t_data_group_result"."mdc_name" IS 'MDC名称';
COMMENT ON COLUMN "public"."t_data_group_result"."adrg_code" IS 'ADRG编号';
COMMENT ON COLUMN "public"."t_data_group_result"."adrg_name" IS 'ADRG名称';
COMMENT ON COLUMN "public"."t_data_group_result"."group_code" IS '分组编号';
COMMENT ON COLUMN "public"."t_data_group_result"."group_name" IS '分组名称';
COMMENT ON COLUMN "public"."t_data_group_result"."group_point" IS '分组点值';
COMMENT ON COLUMN "public"."t_data_group_result"."group_value" IS '分组费率';
COMMENT ON COLUMN "public"."t_data_group_result"."group_adjust" IS '分组调整系数';
COMMENT ON COLUMN "public"."t_data_group_result"."group_pay_std" IS '分组支付标准';
COMMENT ON COLUMN "public"."t_data_group_result"."main_diag" IS '主要诊断';
COMMENT ON COLUMN "public"."t_data_group_result"."main_opt" IS '主要手术操作';
COMMENT ON COLUMN "public"."t_data_group_result"."disease_type" IS '病种类别';
COMMENT ON COLUMN "public"."t_data_group_result"."si_case_type" IS '清算病例类型:高倍率、低倍率、正常倍率';
COMMENT ON COLUMN "public"."t_data_group_result"."exec_dt" IS '执行日期';
COMMENT ON COLUMN "public"."t_data_group_result"."exec_params_in" IS '执行入参';
COMMENT ON COLUMN "public"."t_data_group_result"."exec_params_out" IS '执行出参';
COMMENT ON COLUMN "public"."t_data_group_result"."exec_cost" IS '执行时间（毫秒）';
COMMENT ON COLUMN "public"."t_data_group_result"."exec_msg" IS '结果信息';
COMMENT ON COLUMN "public"."t_data_group_result"."def_pay_amt" IS '支付差异金额';
COMMENT ON COLUMN "public"."t_data_group_result"."inbed_status" IS '在院状态';
COMMENT ON COLUMN "public"."t_data_group_result"."main_diag_code" IS '主要诊断编码ICD10编码';
COMMENT ON COLUMN "public"."t_data_group_result"."main_opt_code" IS '主要手术操作编码ICD9的编码';
COMMENT ON COLUMN "public"."t_data_group_result"."main_diag_id" IS '主要诊断编码ICD10的ID';
COMMENT ON COLUMN "public"."t_data_group_result"."main_opt_id" IS '主要手术操作编码ICD9的ID';
COMMENT ON COLUMN "public"."t_data_group_result"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_data_group_result"."high_rate" IS '高倍率系数';
COMMENT ON COLUMN "public"."t_data_group_result"."low_rate" IS '低倍率系数';
COMMENT ON COLUMN "public"."t_data_group_result"."high_std" IS '高倍率标准';
COMMENT ON COLUMN "public"."t_data_group_result"."low_std" IS '低倍率标准';
COMMENT ON COLUMN "public"."t_data_group_result"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_group_result"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_group_result"."outbed_dt" IS '出院日期';
COMMENT ON COLUMN "public"."t_data_group_result"."dr_atten_psn_id" IS '主管医生id';

-- ----------------------------
-- Table structure for t_data_group_result_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_group_result_log";
CREATE TABLE "public"."t_data_group_result_log" (
  "group_result_id" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "self_amt" numeric(12,2),
  "mi_pay_amt" numeric(12,2),
  "self_pay_amt" numeric(12,2),
  "acct_pay_amt" numeric(12,2),
  "cash_pay_amt" numeric(12,2),
  "drug_amt" numeric(12,2),
  "diag_amt" numeric(12,2),
  "med_sup_amt" numeric(12,2),
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_days" int4,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_type" varchar(50) COLLATE "pg_catalog"."default",
  "group_dt" timestamp(6),
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_code" varchar(50) COLLATE "pg_catalog"."default",
  "group_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_point" float4,
  "group_value" numeric(12,4),
  "group_adjust" float4,
  "group_pay_std" numeric(12,2),
  "main_diag" varchar(200) COLLATE "pg_catalog"."default",
  "main_opt" varchar(200) COLLATE "pg_catalog"."default",
  "disease_type" varchar(50) COLLATE "pg_catalog"."default",
  "si_case_type" varchar(50) COLLATE "pg_catalog"."default",
  "exec_dt" timestamp(6),
  "exec_params_in" text COLLATE "pg_catalog"."default",
  "exec_params_out" text COLLATE "pg_catalog"."default",
  "exec_cost" int4,
  "exec_msg" varchar(4000) COLLATE "pg_catalog"."default",
  "def_pay_amt" numeric(12,2),
  "inbed_status" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_id" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_no" varchar(50) COLLATE "pg_catalog"."default",
  "high_rate" numeric(12,4),
  "low_rate" numeric(12,4),
  "group_result_log_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "high_std" numeric(12,2),
  "low_std" numeric(12,2),
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6),
  "inbed_result" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_psn_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_group_result_log"."dep_id" IS '科室id';
COMMENT ON COLUMN "public"."t_data_group_result_log"."psn_id" IS '管床医生id';
COMMENT ON COLUMN "public"."t_data_group_result_log"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_group_result_log"."inbed_status" IS '在院状态';
COMMENT ON COLUMN "public"."t_data_group_result_log"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_group_result_log"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_group_result_log"."outbed_dt" IS '出院日期';
COMMENT ON COLUMN "public"."t_data_group_result_log"."inbed_result" IS '出院情况';
COMMENT ON COLUMN "public"."t_data_group_result_log"."dr_atten_psn_id" IS '主管医生id';

-- ----------------------------
-- Table structure for t_data_inbed_bill_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_bill_d";
CREATE TABLE "public"."t_data_inbed_bill_d" (
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "self_amt" numeric(12,2),
  "mi_pay_amt" numeric(12,2),
  "self_pay_amt" numeric(12,2),
  "acct_pay_amt" numeric(12,2),
  "cash_pay_amt" numeric(12,2),
  "drug_amt" numeric(12,2),
  "diag_amt" numeric(12,2),
  "med_sup_amt" numeric(12,2),
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_dt" timestamp(6),
  "inbed_days" int4,
  "outbed_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_area_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_area_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_bed_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_result" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_psn_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."idcard" IS '患者身份证号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."psn_age_day" IS '年龄(天)';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."psn_age" IS '年龄(岁)';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."psn_type_id" IS '医保人员类别ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."psn_type_code" IS '人员类别编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."bill_no" IS '结算单号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."self_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."mi_pay_amt" IS '医保支付金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."acct_pay_amt" IS '个账金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."cash_pay_amt" IS '现金金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."med_sup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."outbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."outbed_dep_code" IS '出院科室编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."outbed_dep_name" IS '出院科室名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."outbed_area_code" IS '出院病区编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."outbed_area_name" IS '出院病区名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."outbed_bed_code" IS '出院病区床号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."inbed_result" IS '出院情况';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."dep_id" IS '科室id';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."psn_id" IS '管床医生id';
COMMENT ON COLUMN "public"."t_data_inbed_bill_d"."dr_atten_psn_id" IS '主管医生id';
COMMENT ON TABLE "public"."t_data_inbed_bill_d" IS '出院科室=结算科室';

-- ----------------------------
-- Table structure for t_data_inbed_bill_detail_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_bill_detail_d";
CREATE TABLE "public"."t_data_inbed_bill_detail_d" (
  "inbed_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "fee_item_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_cnt" numeric(12,4),
  "fee_item_price" numeric(12,4),
  "fee_item_amt" numeric(12,4),
  "fee_item_unit" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_self_amt" numeric(12,4),
  "fee_item_dt" timestamp(6),
  "fee_item_spec" varchar(200) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_rel_cnt" numeric(12,4),
  "fee_item_rel_amt" numeric(12,4),
  "fee_item_rel_self_amt" numeric(12,4),
  "group_no" varchar(50) COLLATE "pg_catalog"."default",
  "fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_flag" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."inbed_bill_detail_id" IS '住院费用明细ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."drug_id" IS '药品ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."diag_id" IS '医疗服务项目ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_id" IS '收费明细唯一号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_type" IS '收费项目类别:药品/医疗服务/医用耗材';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."mi_fee_type" IS '医保费用类别';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."mi_item_name" IS '医保项目名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."hosp_item_code" IS '医院项目编码';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."hosp_item_name" IS '医院项目名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_cnt" IS '收费项目数量';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_price" IS '收费项目单价';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_amt" IS '收费项目金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_unit" IS '收费项目计价单位';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_self_amt" IS '收费项目自费金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_dt" IS '收费项目发生日期';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_spec" IS '收费项目规格';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."factory_name" IS '生产厂家名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_rel_cnt" IS '收费项目实际数量';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_rel_amt" IS '收费项目实际金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_item_rel_self_amt" IS '收费项目实际自费金额';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."group_no" IS '分组号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_type" IS '用于统计的费用归类，如手术费、治疗费等';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."dep_code" IS '开单科室编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."dep_name" IS '开单科室名称';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."fee_flag" IS '特殊标志';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."dep_id" IS '科室id';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."psn_id" IS '医生id';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."dr_resid_name" IS '开单医生编号';
COMMENT ON COLUMN "public"."t_data_inbed_bill_detail_d"."dr_resid_code" IS '开单医生名称';

-- ----------------------------
-- Table structure for t_data_inbed_diag_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_diag_d";
CREATE TABLE "public"."t_data_inbed_diag_d" (
  "inbed_diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd_no" int4,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "main_flag" int2,
  "dise_date" timestamp(6),
  "med_diag" varchar(200) COLLATE "pg_catalog"."default",
  "diag_type" varchar(50) COLLATE "pg_catalog"."default",
  "diag_class" varchar(50) COLLATE "pg_catalog"."default",
  "adm_cond" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."inbed_diag_id" IS '住院诊断记录ID';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."icd_no" IS 'ICD编码序号';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."main_flag" IS '主要标志';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."dise_date" IS '诊断日期';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."med_diag" IS '临床诊断内容';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."diag_type" IS '诊断类别:入院诊断/出院诊断/...';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."diag_class" IS '诊断分类:西医诊断/中医诊断';
COMMENT ON COLUMN "public"."t_data_inbed_diag_d"."adm_cond" IS '入院病情';

-- ----------------------------
-- Table structure for t_data_inbed_diag_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_diag_f";
CREATE FOREIGN TABLE "public"."t_data_inbed_diag_f" (
  "mdtrt_id" varchar COLLATE "pg_catalog"."default",
  "hosp_code" varchar COLLATE "pg_catalog"."default",
  "inbed_status" varchar COLLATE "pg_catalog"."default",
  "dise_id" varchar COLLATE "pg_catalog"."default",
  "inout_dise_type" varchar COLLATE "pg_catalog"."default",
  "diag_type" varchar COLLATE "pg_catalog"."default",
  "maindise_flag" numeric,
  "dias_srt_no" numeric,
  "dise_code" varchar COLLATE "pg_catalog"."default",
  "dise_name" varchar COLLATE "pg_catalog"."default",
  "cli_diag" varchar COLLATE "pg_catalog"."default",
  "dise_date" varchar COLLATE "pg_catalog"."default"
)
SERVER "oracle_ybdb"
OPTIONS ("schema" 'YBDB', "table" 'V_DATA_INBED_DIAG')
;

-- ----------------------------
-- Table structure for t_data_inbed_diag_file
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_diag_file";
CREATE TABLE "public"."t_data_inbed_diag_file" (
  "inbed_diag_id" numeric(16,0) NOT NULL,
  "inbed_reg_id" numeric(16,0),
  "hosp_id" numeric(16,0) NOT NULL,
  "org_id" numeric(16,0) NOT NULL,
  "icd_order" numeric(2,0),
  "si_type_id" numeric(16,0) NOT NULL,
  "batch_id" numeric(16,0),
  "hosp_owner_id" varchar(50) COLLATE "pg_catalog"."default",
  "clic_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "clic_diag" varchar(300) COLLATE "pg_catalog"."default",
  "clic_diag_type" varchar(50) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(300) COLLATE "pg_catalog"."default",
  "situation" varchar(10) COLLATE "pg_catalog"."default",
  "inhosp_situation" varchar(10) COLLATE "pg_catalog"."default",
  "status" varchar(20) COLLATE "pg_catalog"."default",
  "modify_user_name" varchar(255) COLLATE "pg_catalog"."default",
  "modify_user_id" varchar(255) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(20) COLLATE "pg_catalog"."default",
  "create_time" timestamp(6),
  "api_type" varchar(4) COLLATE "pg_catalog"."default",
  "insured_org_id" numeric(16,0),
  "desease_result" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."inbed_diag_id" IS '住院诊断序号';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."inbed_reg_id" IS '病案首页主键';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."org_id" IS '机构ID';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."icd_order" IS '诊断顺序号';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."hosp_owner_id" IS '医疗机构内部码';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."clic_diag_code" IS '医院给出的诊断编码';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."clic_diag" IS '诊断内容';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."clic_diag_type" IS '门诊诊断
入院诊断
出院诊断';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."situation" IS '出院情况';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."inhosp_situation" IS '入院情况';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."status" IS '状态0 正常 1 删除';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."modify_user_name" IS '修改人
';
COMMENT ON COLUMN "public"."t_data_inbed_diag_file"."inbed_code" IS '医疗就诊ID（住院号）';
COMMENT ON TABLE "public"."t_data_inbed_diag_file" IS '住院疾病诊断修改结果表';

-- ----------------------------
-- Table structure for t_data_inbed_emr
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_emr";
CREATE TABLE "public"."t_data_inbed_emr" (
  "inbed_emr_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "emr_code" varchar(50) COLLATE "pg_catalog"."default",
  "emr_type" varchar(50) COLLATE "pg_catalog"."default",
  "emr_detail" bytea,
  "emr_dt" timestamp(6)
)
;
COMMENT ON COLUMN "public"."t_data_inbed_emr"."inbed_emr_id" IS '住院病历文书ID';
COMMENT ON COLUMN "public"."t_data_inbed_emr"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_emr"."emr_code" IS '病历文书编号';
COMMENT ON COLUMN "public"."t_data_inbed_emr"."emr_type" IS '病历文书类别';
COMMENT ON COLUMN "public"."t_data_inbed_emr"."emr_detail" IS '病历文书内容';
COMMENT ON COLUMN "public"."t_data_inbed_emr"."emr_dt" IS '病历文书日期';

-- ----------------------------
-- Table structure for t_data_inbed_medical_record
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_medical_record";
CREATE TABLE "public"."t_data_inbed_medical_record" (
  "inbed_reg_id" numeric(16,0) NOT NULL,
  "hosp_id" numeric(16,0),
  "inbed_bill_code" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(20) COLLATE "pg_catalog"."default",
  "fill_medical_department" varchar(80) COLLATE "pg_catalog"."default",
  "fill_medical_person" varchar(30) COLLATE "pg_catalog"."default",
  "org_id" varchar(100) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(3) COLLATE "pg_catalog"."default",
  "psn_code" varchar(50) COLLATE "pg_catalog"."default",
  "health_card_number" varchar(20) COLLATE "pg_catalog"."default",
  "medical_number" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_cnt" numeric(4,0),
  "psn_name" varchar(100) COLLATE "pg_catalog"."default",
  "gender_code" numeric(1,0),
  "gender_name" varchar(50) COLLATE "pg_catalog"."default",
  "birthdate" timestamp(6),
  "age" numeric(3,0),
  "dayage" numeric(5,0),
  "national" varchar(100) COLLATE "pg_catalog"."default",
  "birth_detail_address" varchar(100) COLLATE "pg_catalog"."default",
  "native_place" varchar(50) COLLATE "pg_catalog"."default",
  "nation" varchar(100) COLLATE "pg_catalog"."default",
  "marriage" varchar(2) COLLATE "pg_catalog"."default",
  "accountant" varchar(100) COLLATE "pg_catalog"."default",
  "current_detail_address" varchar(100) COLLATE "pg_catalog"."default",
  "current_tel" varchar(40) COLLATE "pg_catalog"."default",
  "current_post_code" varchar(100) COLLATE "pg_catalog"."default",
  "census_detail_address" varchar(100) COLLATE "pg_catalog"."default",
  "census_post_code" varchar(10) COLLATE "pg_catalog"."default",
  "employer_name" varchar(256) COLLATE "pg_catalog"."default",
  "company_detail_address" varchar(100) COLLATE "pg_catalog"."default",
  "company_tel" varchar(100) COLLATE "pg_catalog"."default",
  "contact_person" varchar(100) COLLATE "pg_catalog"."default",
  "contact_person_relation" varchar(100) COLLATE "pg_catalog"."default",
  "contact_person_detail_address" varchar(100) COLLATE "pg_catalog"."default",
  "contact_person_tel" varchar(100) COLLATE "pg_catalog"."default",
  "id_type" varchar(3) COLLATE "pg_catalog"."default",
  "id_no" varchar(100) COLLATE "pg_catalog"."default",
  "new_born_admission_type" varchar(20) COLLATE "pg_catalog"."default",
  "birth_weight" numeric(12,2),
  "birth_inhospital_weight" numeric(12,2),
  "hospitalization_type" varchar(50) COLLATE "pg_catalog"."default",
  "therapeutic_class" varchar(20) COLLATE "pg_catalog"."default",
  "inhosp_dept" varchar(12) COLLATE "pg_catalog"."default",
  "inhosp_dept_name" varchar(80) COLLATE "pg_catalog"."default",
  "inhosp_way" numeric(1,0),
  "inhosp_date" timestamp(6),
  "inhosp_ward" varchar(32) COLLATE "pg_catalog"."default",
  "trans_dept" varchar(200) COLLATE "pg_catalog"."default",
  "trans_dept_name" varchar(200) COLLATE "pg_catalog"."default",
  "outhosp_dept" varchar(20) COLLATE "pg_catalog"."default",
  "outhosp_dept_name" varchar(80) COLLATE "pg_catalog"."default",
  "outhosp_date" timestamp(6),
  "outhosp_ward" varchar(32) COLLATE "pg_catalog"."default",
  "inbed_days" numeric(4,0),
  "inhosp_original_diag_code" varchar(100) COLLATE "pg_catalog"."default",
  "inhosp_original_diag_name" varchar(300) COLLATE "pg_catalog"."default",
  "tcm_diag_name" varchar(200) COLLATE "pg_catalog"."default",
  "tcm_diag_code" varchar(100) COLLATE "pg_catalog"."default",
  "is_clinic_path" varchar(1) COLLATE "pg_catalog"."default",
  "exter_original_injury_factor" varchar(200) COLLATE "pg_catalog"."default",
  "exter_original_diag_code" varchar(20) COLLATE "pg_catalog"."default",
  "is_modern_clinic_nursing" varchar(1) COLLATE "pg_catalog"."default",
  "pathological_diag_factor" varchar(4000) COLLATE "pg_catalog"."default",
  "pathological_diag_code" varchar(100) COLLATE "pg_catalog"."default",
  "pathological_num" varchar(100) COLLATE "pg_catalog"."default",
  "is_drug_allergic" varchar(1) COLLATE "pg_catalog"."default",
  "allergic_drug" varchar(200) COLLATE "pg_catalog"."default",
  "is_autopsy" varchar(1) COLLATE "pg_catalog"."default",
  "blood_type" numeric(1,0),
  "rh" varchar(1) COLLATE "pg_catalog"."default",
  "director_name" varchar(50) COLLATE "pg_catalog"."default",
  "director_code" varchar(20) COLLATE "pg_catalog"."default",
  "deputy_director_name" varchar(50) COLLATE "pg_catalog"."default",
  "deputy_director_code" varchar(20) COLLATE "pg_catalog"."default",
  "attending_physician_name" varchar(50) COLLATE "pg_catalog"."default",
  "attending_physician_code" varchar(30) COLLATE "pg_catalog"."default",
  "resident_name" varchar(50) COLLATE "pg_catalog"."default",
  "resident_code" varchar(30) COLLATE "pg_catalog"."default",
  "primary_nurse_name" varchar(50) COLLATE "pg_catalog"."default",
  "refresher_doctor_name" varchar(50) COLLATE "pg_catalog"."default",
  "intern_doctor_name" varchar(50) COLLATE "pg_catalog"."default",
  "coder_name" varchar(50) COLLATE "pg_catalog"."default",
  "medical_quality" varchar(1) COLLATE "pg_catalog"."default",
  "quality_doctor_name" varchar(50) COLLATE "pg_catalog"."default",
  "quality_nurse_name" varchar(50) COLLATE "pg_catalog"."default",
  "quality_date" timestamp(6),
  "ventilator_use_date" numeric(4,0),
  "ventilator_use_hour" numeric(10,0),
  "ventilator_use_minute" numeric(10,0),
  "before_inhosp_coma_days" numeric(10,0),
  "before_inhosp_coma_hours" numeric(10,0),
  "before_inhosp_coma_min" numeric(10,0),
  "after_inhosp_coma_days" numeric(10,0),
  "after_inhosp_coma_hours" numeric(10,0),
  "after_inhosp_coma_min" numeric(10,0),
  "transfusion_breed" varchar(3) COLLATE "pg_catalog"."default",
  "transfusion_breed_erythrocyte" numeric(4,0),
  "transfusion_breed_soterocyte" numeric(4,0),
  "transfusion_breed_plasma" numeric(4,0),
  "transfusion_breed_whole_blood" numeric(4,0),
  "transfusion_breed_other" numeric(4,0),
  "transfusion_volume" numeric(10,0),
  "transfusion_dose_unit" varchar(20) COLLATE "pg_catalog"."default",
  "special_nurse_days" numeric(5,0),
  "first_nurse_days" numeric(5,0),
  "second_nurse_days" numeric(5,0),
  "third_nurse_days" numeric(5,0),
  "is_rescue" varchar(2) COLLATE "pg_catalog"."default",
  "rescue_times" numeric(2,0),
  "rescue_success_times" numeric(2,0),
  "receive_org_name" varchar(200) COLLATE "pg_catalog"."default",
  "receive_org_code" varchar(200) COLLATE "pg_catalog"."default",
  "is_again_inhospital" varchar(1) COLLATE "pg_catalog"."default",
  "is_31days_diagnosis" varchar(100) COLLATE "pg_catalog"."default",
  "outhosp_31days_rehosp_flag" varchar(1) COLLATE "pg_catalog"."default",
  "outhosp_way" numeric(1,0),
  "bill_code" varchar(50) COLLATE "pg_catalog"."default",
  "total_amount" numeric(10,2),
  "self_amount" numeric(10,2),
  "medical_service_fee" numeric(10,2),
  "treatmentoperating_fee" numeric(10,2),
  "nursing_fee" numeric(10,2),
  "other_fee" numeric(10,2),
  "pathology_diagnosis_fee" numeric(10,2),
  "laboratory_diagnosis_fee" numeric(10,2),
  "imaging_diagnosis_fee" numeric(10,2),
  "diagnosis_project_fee" numeric(10,2),
  "nosurgical_treatpro_fee" numeric(10,2),
  "physiotherapy_fee" numeric(10,2),
  "surgical_treatment_fee" numeric(10,2),
  "anesthesia_fee" numeric(10,2),
  "surgical_fee" numeric(18,2),
  "rehabilitation_fee" numeric(10,2),
  "tcm_fee" numeric(10,2),
  "west_medicine_fee" numeric(10,2),
  "antibiotics_fee" numeric(10,2),
  "chinese_patent_med_fee" numeric(10,2),
  "chinese_herbal_med_fee" numeric(10,2),
  "blood_fee" numeric(10,2),
  "albumin_products_fee" numeric(10,2),
  "globulin_products_fee" numeric(10,2),
  "blood_clotting_factors_fee" numeric(10,2),
  "cytokine_product_fee" numeric(10,2),
  "check_oneoff_medmat_fee" numeric(10,2),
  "treat_oneoff_medmat_fee" numeric(10,2),
  "oper_oneoff_medmat_fee" numeric(10,2),
  "other_oneoff_medmat_fee" numeric(10,2),
  "first_page_print_date" varchar(30) COLLATE "pg_catalog"."default",
  "company_post_code" varchar(100) COLLATE "pg_catalog"."default",
  "create_time" timestamp(6)
)
;
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inbed_reg_id" IS '病案首页主键';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inbed_bill_code" IS '业务流水号';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inbed_code" IS '医疗就诊ID（住院号）';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."fill_medical_department" IS '医疗机构填报部门';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."fill_medical_person" IS '医疗机构填报人';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."org_id" IS '医保机构';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."si_type_id" IS '医疗付款方式';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."psn_code" IS '医保个人编号';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."health_card_number" IS '健康卡号';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."medical_number" IS '病案号';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inbed_cnt" IS '第N次住院 当前患者在当前医疗机构的住院次数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."psn_name" IS '姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."gender_code" IS '性别编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."birthdate" IS '出生日期  格式：YYYY-MM-DD';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."age" IS '年龄  不能与年龄（月）同时为空';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."dayage" IS '年龄（天） (年龄不足1周岁)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."national" IS '国籍';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."birth_detail_address" IS '出生地-详情';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."native_place" IS '籍贯';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."nation" IS '民族';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."marriage" IS '婚姻';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."accountant" IS '职业';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."current_detail_address" IS '现住址-详情';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."current_tel" IS '现住址-电话';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."current_post_code" IS '现住址-邮编';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."census_detail_address" IS '户口地址-详情';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."census_post_code" IS '户口地址-邮编 字符格式（6位）';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."employer_name" IS '工作单位名称';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."company_detail_address" IS '单位地址-详情';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."company_tel" IS '单位地址-电话';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."contact_person" IS '联系人姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."contact_person_relation" IS '联系人-关系';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."contact_person_detail_address" IS '联系人-地址';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."contact_person_tel" IS '联系人-电话';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."id_type" IS '患者证件类别';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."id_no" IS '患者证件号码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."new_born_admission_type" IS '新生儿入院类型';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."birth_weight" IS '新生儿出生体重 从出生到28天为新生儿期';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."birth_inhospital_weight" IS '新生儿入院体重,指新生患儿入院时称得的重量,要求精确到10克';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."hospitalization_type" IS '住院医疗类型';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."therapeutic_class" IS '治疗类别';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_dept" IS '入院科别-编码(标准科室)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_dept_name" IS '入院科别-名称(标准科室)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_way" IS '入院途径';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_date" IS '入院时间 格式 yyyy-MM-dd HH:mm:ss';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_ward" IS '入院病房名称';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."trans_dept" IS '转科科别-编码(医院内部)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."trans_dept_name" IS '转科科别-名称(医院内部)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."outhosp_dept" IS '出院科别-编码(标准科室)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."outhosp_dept_name" IS '出院科别-名称(标准科室)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."outhosp_date" IS '出院时间。格式 yyyy-MM-dd HH:mm:ss';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."outhosp_ward" IS '出院病房名称  示例：新生儿病房、内科重症病房';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inbed_days" IS '实际住院天数  正整数;出院日期减入院日期，如同一天入出院计一天';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_original_diag_code" IS '门（急）诊断诊断编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."inhosp_original_diag_name" IS '门（急）诊断诊断名称';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."tcm_diag_name" IS '门（急）诊诊断（中医诊断）';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."tcm_diag_code" IS '门（急）诊疾病代码（中医诊断）';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_clinic_path" IS '实施临床路径标志代码(1-是，2-否)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."exter_original_injury_factor" IS '损伤、中毒的外部原因';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."exter_original_diag_code" IS '损伤、中毒的外部原因疾病编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_modern_clinic_nursing" IS '辨证施护标志(1-是，2-否)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."pathological_diag_factor" IS '病理诊断';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."pathological_diag_code" IS '病理诊断疾病编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."pathological_num" IS '病理号 病理标本编号';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_drug_allergic" IS '药物过敏标志(1-无，2-有)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."allergic_drug" IS '过敏药物  如存在药物过敏，则填写过敏的药物';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_autopsy" IS '死亡患者尸检标志(1-是，2-否)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."blood_type" IS '血型代码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."rh" IS 'Rh血型代码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."director_name" IS '科主任姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."director_code" IS '科主任编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."deputy_director_name" IS '主任（副主任）医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."deputy_director_code" IS '主任（副主任）医师编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."attending_physician_name" IS '主治医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."attending_physician_code" IS '主治医师编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."resident_name" IS '住院医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."resident_code" IS '住院医师编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."primary_nurse_name" IS '责任护士姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."refresher_doctor_name" IS '进修医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."intern_doctor_name" IS '实习医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."coder_name" IS '编码员姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."medical_quality" IS '病案质量';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."quality_doctor_name" IS '质控医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."quality_nurse_name" IS '质控护士姓名';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."quality_date" IS '质控日期  日期格式为yyyy-MM-dd HH:mm:ss';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."ventilator_use_date" IS '呼吸机使用时间(天)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."ventilator_use_hour" IS '呼吸机使用时间(小时)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."ventilator_use_minute" IS '呼吸机使用时间(分钟)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."before_inhosp_coma_days" IS '入院前颅脑损伤患者昏迷时间(天)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."before_inhosp_coma_hours" IS '入院前颅脑损伤患者昏迷时间(小时)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."before_inhosp_coma_min" IS '入院前颅脑损伤患者昏迷时间(分钟)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."after_inhosp_coma_days" IS '入院后颅脑损伤患者昏迷时间(天)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."after_inhosp_coma_hours" IS '入院后颅脑损伤患者昏迷时间(小时)小时';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."after_inhosp_coma_min" IS '入院后颅脑损伤患者昏迷时间(分钟)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_breed" IS '输血品种';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_breed_erythrocyte" IS '输血品种:红细胞(单位)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_breed_soterocyte" IS '输血品种:血小板(袋)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_breed_plasma" IS '输血品种:血浆(ml)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_breed_whole_blood" IS '输血品种:全血(ml)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_breed_other" IS '输血品种:其他(ml)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_volume" IS '输血量 给予患者输入体内的各成分血的数量';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."transfusion_dose_unit" IS '输血计量单位  给予患者输入体内的各成分血的计量单位';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."special_nurse_days" IS '特级护理天数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."first_nurse_days" IS 'Ⅰ级护理天数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."second_nurse_days" IS 'Ⅱ级护理天数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."third_nurse_days" IS 'Ⅲ级护理天数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_rescue" IS '有无抢救(1-无，2-有)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."rescue_times" IS '抢救次数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."rescue_success_times" IS '抢救成功次数';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."receive_org_name" IS '拟接收机构名称 医院名称';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."receive_org_code" IS '拟接收机构代码 医院编码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_again_inhospital" IS '有无出院31天内再住院计划(1-无，2-有)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."is_31days_diagnosis" IS '有无出院31天内再住院目的';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."outhosp_31days_rehosp_flag" IS '有无出院31天内再住院标志(1-无，2-有)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."outhosp_way" IS '离院方式  参考4.7章节数据字典：离院方式';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."bill_code" IS '票据代码';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."total_amount" IS '住院费用（元）：总费用';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."self_amount" IS '住院总费用_自付金额(元)';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."medical_service_fee" IS '综合医疗服务类：一般医疗服务费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."treatmentoperating_fee" IS '综合医疗服务类：一般治疗操作费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."nursing_fee" IS '综合医疗服务类：护理费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."other_fee" IS '综合医疗服务类：其他费用';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."pathology_diagnosis_fee" IS '诊断类：病理诊断费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."laboratory_diagnosis_fee" IS '诊断类：实验室诊断费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."imaging_diagnosis_fee" IS '诊断类：影像学诊断费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."diagnosis_project_fee" IS '诊断类：临床诊断项目费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."nosurgical_treatpro_fee" IS '治疗类：非手术治疗项目费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."physiotherapy_fee" IS '临床物理治疗费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."surgical_treatment_fee" IS '治疗类：手术治疗费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."anesthesia_fee" IS '麻醉费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."surgical_fee" IS '手术费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."rehabilitation_fee" IS '康复类：康复费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."tcm_fee" IS '中医类：中医医疗费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."west_medicine_fee" IS '西药类：西药费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."antibiotics_fee" IS '抗菌药物费用';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."chinese_patent_med_fee" IS '中药类：中成药费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."chinese_herbal_med_fee" IS '中药类：中草药费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."blood_fee" IS '血液和血液制品类：血费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."albumin_products_fee" IS '血液和血液制品类：白蛋白类制品费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."globulin_products_fee" IS '血液和血液制品类：球蛋白类制品费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."blood_clotting_factors_fee" IS '血液和血液制品类：凝血因子类制品费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."cytokine_product_fee" IS '血液和血液制品类：细胞因子类制品费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."check_oneoff_medmat_fee" IS '耗材类：检查用一次性医用材料费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."treat_oneoff_medmat_fee" IS '耗材类：治疗用一次性医用材料费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."oper_oneoff_medmat_fee" IS '耗材类：手术用一次性医用材料费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."other_oneoff_medmat_fee" IS '其他类：其他费';
COMMENT ON COLUMN "public"."t_data_inbed_medical_record"."first_page_print_date" IS '首页打印日期';
COMMENT ON TABLE "public"."t_data_inbed_medical_record" IS '住院病案首页';

-- ----------------------------
-- Table structure for t_data_inbed_operation_file
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_operation_file";
CREATE TABLE "public"."t_data_inbed_operation_file" (
  "inbed_reg_id" numeric(16,0) NOT NULL,
  "operation_id" numeric(16,0) NOT NULL,
  "operation_order" numeric(2,0) NOT NULL,
  "operation_name" varchar(200) COLLATE "pg_catalog"."default",
  "operation_code" varchar(100) COLLATE "pg_catalog"."default",
  "operation_date" timestamp(6),
  "operation_anesthesia_type" varchar(100) COLLATE "pg_catalog"."default",
  "operation_doctor_name" varchar(100) COLLATE "pg_catalog"."default",
  "operation_doctor_code" varchar(100) COLLATE "pg_catalog"."default",
  "operation_analgesist" varchar(100) COLLATE "pg_catalog"."default",
  "operation_analgesist_code" varchar(100) COLLATE "pg_catalog"."default",
  "operation_level" varchar(2) COLLATE "pg_catalog"."default",
  "operation_fir_doc_name" varchar(50) COLLATE "pg_catalog"."default",
  "operation_fir_doc_code" varchar(20) COLLATE "pg_catalog"."default",
  "operation_sec_doc_name" varchar(50) COLLATE "pg_catalog"."default",
  "operation_sec_doc_code" varchar(20) COLLATE "pg_catalog"."default",
  "operation_number" numeric(2,0),
  "operation_type" varchar(1) COLLATE "pg_catalog"."default",
  "operation_incision_type_code" varchar(2) COLLATE "pg_catalog"."default",
  "operation_wound_heal_grad" numeric(2,0),
  "status" varchar(20) COLLATE "pg_catalog"."default",
  "complication_name" varchar(255) COLLATE "pg_catalog"."default",
  "complication_code" varchar(255) COLLATE "pg_catalog"."default",
  "is_major_iden" varchar(128) COLLATE "pg_catalog"."default",
  "is_iatrogenic" varchar(128) COLLATE "pg_catalog"."default",
  "operation_finish_date" timestamp(6),
  "is_complication" varchar(10) COLLATE "pg_catalog"."default",
  "operation_record" text COLLATE "pg_catalog"."default",
  "record_doctor_code" varchar(128) COLLATE "pg_catalog"."default",
  "record_doctor_name" varchar(128) COLLATE "pg_catalog"."default",
  "modify_user_id" numeric(16,0),
  "modify_user_name" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(20) COLLATE "pg_catalog"."default",
  "create_time" timestamp(6),
  "hosp_id" numeric(16,0),
  "api_type" varchar(4) COLLATE "pg_catalog"."default",
  "anst_dr_code" varchar(50) COLLATE "pg_catalog"."default",
  "anst_begntime" timestamp(6),
  "anst_endtime" timestamp(6),
  "anst_way" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."inbed_reg_id" IS '病案首页主键';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_id" IS '主键';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_order" IS '手术顺序号';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_name" IS '手术及操作名称';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_code" IS '手术及操作代码';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_date" IS '手术及操作日期';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_anesthesia_type" IS '麻醉方式';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_doctor_name" IS '术者医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_doctor_code" IS '术者医师代码';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_analgesist" IS '麻醉医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_analgesist_code" IS '麻醉医师代码';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_level" IS '手术级别';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_fir_doc_name" IS 'Ⅰ助姓名';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_fir_doc_code" IS 'Ⅰ助代码';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_sec_doc_name" IS 'Ⅱ助姓名';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_sec_doc_code" IS 'Ⅱ助代码';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_number" IS '手术序号';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_type" IS '手术操作类别(1-手术；2-操作)';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_incision_type_code" IS '手术切口等级代码(1-0;2-Ⅰ;3-Ⅱ;4-Ⅲ)';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."operation_wound_heal_grad" IS '切口愈合类别代码(1-甲;2-乙;3-丙;9-未知)';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."status" IS '状态0 正常 1 删除';
COMMENT ON COLUMN "public"."t_data_inbed_operation_file"."inbed_code" IS '医疗就诊ID（住院号）';
COMMENT ON TABLE "public"."t_data_inbed_operation_file" IS '住院手术信息修改结果表';

-- ----------------------------
-- Table structure for t_data_inbed_opt_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_opt_d";
CREATE TABLE "public"."t_data_inbed_opt_d" (
  "inbed_opt_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_9_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_no" int4,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "main_flag" int2,
  "opt_dt" timestamp(6),
  "opt_name" varchar(200) COLLATE "pg_catalog"."default",
  "opt_lev" varchar(50) COLLATE "pg_catalog"."default",
  "anst_way" varchar(50) COLLATE "pg_catalog"."default",
  "oper_dr_name" varchar(200) COLLATE "pg_catalog"."default",
  "oper_dr_code" varchar(50) COLLATE "pg_catalog"."default",
  "anst_dr_name" varchar(200) COLLATE "pg_catalog"."default",
  "anst_dr_code" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."inbed_opt_id" IS '住院手术记录ID';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."icd_9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."icd_no" IS 'ICD编码序号';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."main_flag" IS '主要标志';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."opt_dt" IS '手术日期';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."opt_name" IS '手术名称';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."opt_lev" IS '手术等级';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."anst_way" IS '麻醉方式';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."oper_dr_name" IS '术者医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."oper_dr_code" IS '术者医师代码';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."anst_dr_name" IS '麻醉医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_opt_d"."anst_dr_code" IS '麻醉医师代码';

-- ----------------------------
-- Table structure for t_data_inbed_opt_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_opt_f";
CREATE FOREIGN TABLE "public"."t_data_inbed_opt_f" (
  "mdtrt_id" varchar COLLATE "pg_catalog"."default",
  "hosp_code" varchar COLLATE "pg_catalog"."default",
  "inbed_status" varchar COLLATE "pg_catalog"."default",
  "setl_list_oprn_id" varchar COLLATE "pg_catalog"."default",
  "oprn_code" varchar COLLATE "pg_catalog"."default",
  "oprn_name" varchar COLLATE "pg_catalog"."default",
  "main_oprn_flag" varchar COLLATE "pg_catalog"."default",
  "oprn_date" varchar COLLATE "pg_catalog"."default",
  "anst_mtd_code" varchar COLLATE "pg_catalog"."default",
  "anst_way" varchar COLLATE "pg_catalog"."default",
  "oper_dr_code" varchar COLLATE "pg_catalog"."default",
  "oper_dr_name" varchar COLLATE "pg_catalog"."default",
  "anst_dr_code" varchar COLLATE "pg_catalog"."default",
  "anst_dr_name" varchar COLLATE "pg_catalog"."default"
)
SERVER "oracle_ybdb"
OPTIONS ("schema" 'YBDB', "table" 'V_DATA_INBED_OPT')
;

-- ----------------------------
-- Table structure for t_data_inbed_page_bill
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_page_bill";
CREATE TABLE "public"."t_data_inbed_page_bill" (
  "inbed_page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "page_bill_type" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "check_dt" timestamp(6),
  "check_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "check_user_name" varchar(200) COLLATE "pg_catalog"."default",
  "check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_msg" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."inbed_page_bill_id" IS '病案首页结算清单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."page_bill_type" IS '病案首页
            结算清单';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."bill_no" IS '结算单号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."check_dt" IS '质控日期';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."check_user_id" IS '质控人ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."check_user_name" IS '质控人姓名';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."check_result" IS '作用结果';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill"."check_msg" IS '审核说明';

-- ----------------------------
-- Table structure for t_data_inbed_page_bill_blood
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_page_bill_blood";
CREATE TABLE "public"."t_data_inbed_page_bill_blood" (
  "page_bill_blood_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_msg" varchar(500) COLLATE "pg_catalog"."default",
  "bld_cat" varchar(50) COLLATE "pg_catalog"."default",
  "bld_amt" float4,
  "bld_unt" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."page_bill_blood_id" IS '结算清单输血记录ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."inbed_page_bill_id" IS '病案首页结算清单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."check_result" IS '作用结果';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."check_msg" IS '审核说明';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."bld_cat" IS '输血品种';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."bld_amt" IS '输血量';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_blood"."bld_unt" IS '输血计量单位';

-- ----------------------------
-- Table structure for t_data_inbed_page_bill_diag
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_page_bill_diag";
CREATE TABLE "public"."t_data_inbed_page_bill_diag" (
  "page_bill_diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd_no" int4,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "main_flag" int2,
  "dise_date" timestamp(6),
  "med_diag" varchar(200) COLLATE "pg_catalog"."default",
  "diag_type" varchar(50) COLLATE "pg_catalog"."default",
  "diag_class" varchar(50) COLLATE "pg_catalog"."default",
  "adm_cond" varchar(50) COLLATE "pg_catalog"."default",
  "check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_msg" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."page_bill_diag_id" IS '病案首页清单诊断ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."inbed_page_bill_id" IS '病案首页结算清单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."icd_no" IS 'ICD编码序号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."main_flag" IS '主要标志';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."dise_date" IS '诊断日期';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."med_diag" IS '临床诊断内容';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."diag_type" IS '诊断类别:入院诊断/出院诊断/...';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."diag_class" IS '诊断分类:西医诊断/中医诊断';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."adm_cond" IS '入院病情';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."check_result" IS '作用结果';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_diag"."check_msg" IS '审核说明';

-- ----------------------------
-- Table structure for t_data_inbed_page_bill_icu
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_page_bill_icu";
CREATE TABLE "public"."t_data_inbed_page_bill_icu" (
  "page_bill_icu_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_msg" varchar(500) COLLATE "pg_catalog"."default",
  "icu_type" varchar(50) COLLATE "pg_catalog"."default",
  "inpool_icu_time" timestamp(6),
  "leave_icu_time" timestamp(6),
  "sum_cutd_time" numeric(12,2)
)
;
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."page_bill_icu_id" IS '页结算清单重症监护信息ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."inbed_page_bill_id" IS '病案首页结算清单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."check_result" IS '作用结果';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."check_msg" IS '审核说明';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."icu_type" IS '重症监护类型';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."inpool_icu_time" IS '进入ICU时间';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."leave_icu_time" IS '离开ICU时间';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_icu"."sum_cutd_time" IS '合计时间:x时x分';

-- ----------------------------
-- Table structure for t_data_inbed_page_bill_item
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_page_bill_item";
CREATE TABLE "public"."t_data_inbed_page_bill_item" (
  "page_bill_item_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_msg" varchar(500) COLLATE "pg_catalog"."default",
  "item_code" varchar(50) COLLATE "pg_catalog"."default",
  "item_name" varchar(200) COLLATE "pg_catalog"."default",
  "item_value" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."page_bill_item_id" IS '病案首页结算清单数据项ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."inbed_page_bill_id" IS '病案首页结算清单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."check_result" IS '作用结果';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."check_msg" IS '审核说明';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."item_code" IS '关联项目编号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."item_name" IS '关联项目名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_item"."item_value" IS '数据项值';

-- ----------------------------
-- Table structure for t_data_inbed_page_bill_opt
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_page_bill_opt";
CREATE TABLE "public"."t_data_inbed_page_bill_opt" (
  "page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_page_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_9_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd_no" int4,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "main_flag" int2,
  "opt_dt" timestamp(6),
  "opt_name" varchar(200) COLLATE "pg_catalog"."default",
  "opt_lev" varchar(50) COLLATE "pg_catalog"."default",
  "anst_way" varchar(50) COLLATE "pg_catalog"."default",
  "oper_dr_name" varchar(200) COLLATE "pg_catalog"."default",
  "oper_dr_code" varchar(50) COLLATE "pg_catalog"."default",
  "anst_dr_name" varchar(200) COLLATE "pg_catalog"."default",
  "anst_dr_code" varchar(50) COLLATE "pg_catalog"."default",
  "check_result" varchar(50) COLLATE "pg_catalog"."default",
  "check_msg" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."page_bill_id" IS '病案首页结算清单手术ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."inbed_page_bill_id" IS '病案首页结算清单ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."icd_9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."icd_no" IS 'ICD编码序号';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."main_flag" IS '主要标志';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."opt_dt" IS '手术日期';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."opt_name" IS '手术名称';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."opt_lev" IS '手术等级';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."anst_way" IS '麻醉方式';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."oper_dr_name" IS '术者医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."oper_dr_code" IS '术者医师代码';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."anst_dr_name" IS '麻醉医师姓名';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."anst_dr_code" IS '麻醉医师代码';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."check_result" IS '作用结果';
COMMENT ON COLUMN "public"."t_data_inbed_page_bill_opt"."check_msg" IS '审核说明';

-- ----------------------------
-- Table structure for t_data_inbed_reg_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_inbed_reg_d";
CREATE TABLE "public"."t_data_inbed_reg_d" (
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_status" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_dt" timestamp(6),
  "inbed_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_area_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_area_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_bed_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_dt" timestamp(6),
  "outbed_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_area_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_area_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_bed_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_days" int4,
  "inbed_result" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_psn_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."idcard" IS '患者身份证号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."psn_age_day" IS '年龄(天)';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."psn_age" IS '年龄(岁)';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."psn_type_id" IS '医保人员类别ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."psn_type_code" IS '人员类别编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_status" IS '在院状态';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_dep_code" IS '入院科室编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_dep_name" IS '入院科室名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_area_code" IS '入院病区编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_area_name" IS '入院病区名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_bed_code" IS '入院病区床号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."outbed_dt" IS '出院日期';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."outbed_dep_code" IS '出院科室编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."outbed_dep_name" IS '出院科室名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."outbed_area_code" IS '出院病区编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."outbed_area_name" IS '出院病区名称';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."outbed_bed_code" IS '出院病区床号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."inbed_result" IS '出院情况';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."dep_id" IS '科室id';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."psn_id" IS '管床医生id';
COMMENT ON COLUMN "public"."t_data_inbed_reg_d"."dr_atten_psn_id" IS '主管医生id';

-- ----------------------------
-- Table structure for t_data_mi_appeal_file
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_appeal_file";
CREATE TABLE "public"."t_data_mi_appeal_file" (
  "appeal_file_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "appeal_file_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_file_path" varchar(500) COLLATE "pg_catalog"."default",
  "appeal_file_size" int4,
  "si_group_result_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_mi_appeal_file"."appeal_file_id" IS '申诉文件id';
COMMENT ON COLUMN "public"."t_data_mi_appeal_file"."appeal_file_name" IS '申诉文件名';
COMMENT ON COLUMN "public"."t_data_mi_appeal_file"."appeal_file_path" IS '申诉文件全路径';
COMMENT ON COLUMN "public"."t_data_mi_appeal_file"."appeal_file_size" IS '申诉文件大小';
COMMENT ON COLUMN "public"."t_data_mi_appeal_file"."si_group_result_id" IS '医保数据id';
COMMENT ON TABLE "public"."t_data_mi_appeal_file" IS '医保申诉文件';

-- ----------------------------
-- Table structure for t_data_mi_appeal_template
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_appeal_template";
CREATE TABLE "public"."t_data_mi_appeal_template" (
  "appeal_template_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_template_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_template_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_template_type" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_content" varchar(4000) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(20) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."appeal_template_id" IS '申诉模版id';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."dep_id" IS '部门ID';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."appeal_template_code" IS '申诉模版编号';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."appeal_template_name" IS '申诉模版名称';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."appeal_template_type" IS '申诉模版类型(个人/医院/公共)';
COMMENT ON COLUMN "public"."t_data_mi_appeal_template"."appeal_content" IS '医保申诉内容';
COMMENT ON TABLE "public"."t_data_mi_appeal_template" IS '申诉模版';

-- ----------------------------
-- Table structure for t_data_mi_check_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_check_result";
CREATE TABLE "public"."t_data_mi_check_result" (
  "si_check_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "pres_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "rule_id" varchar(50) COLLATE "pg_catalog"."default",
  "diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_cnt" numeric(12,4),
  "fee_item_price" numeric(12,4),
  "fee_item_amt" numeric(12,4),
  "fee_item_unit" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_self_amt" numeric(12,4),
  "fee_item_dt" timestamp(6),
  "fee_item_spec" varchar(200) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default",
  "doubt_amt" numeric(12,2),
  "doubt_msg" varchar(4000) COLLATE "pg_catalog"."default",
  "doubt_lev" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_status" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_dr_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_dr_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_dt" timestamp(6),
  "appeal_detal" varchar(4000) COLLATE "pg_catalog"."default",
  "appeal_check_code" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_check_name" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_check_dt" timestamp(6),
  "appeal_check_result" varchar(50) COLLATE "pg_catalog"."default",
  "deduc_amt" numeric(12,2),
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "fee_source" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_mi_check_result"."si_check_result_id" IS '医保下发审核疑点记录ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."inbed_bill_detail_id" IS '住院费用明细ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."pres_bill_detail_id" IS '门诊结算单明细ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."drug_id" IS '药品ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."rule_id" IS '审核规则ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."diag_id" IS '医疗服务项目ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."pres_bill_id" IS '门诊结算单id';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_id" IS '收费明细唯一号';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_type" IS '收费项目类别:药品/医疗服务/医用耗材';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."mi_fee_type" IS '医保费用类别';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."mi_item_name" IS '医保项目名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."hosp_item_code" IS '医院项目编码';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."hosp_item_name" IS '医院项目名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_cnt" IS '收费项目数量';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_price" IS '收费项目单价';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_amt" IS '收费项目金额';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_unit" IS '收费项目计价单位';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_self_amt" IS '收费项目自费金额';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_dt" IS '收费项目发生日期';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_item_spec" IS '收费项目规格';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."factory_name" IS '生产厂家名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."doubt_amt" IS '疑点金额';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."doubt_msg" IS '疑点说明';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."doubt_lev" IS '疑点等级:疑似，高度疑似，违规';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_status" IS '申诉状态';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_dep_code" IS '申诉科室编号';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_dep_name" IS '申诉科室名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_dr_code" IS '申诉医生编号';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_dr_name" IS '申诉医生名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_dt" IS '申诉日期';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_detal" IS '申诉内容';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_check_code" IS '申诉审核人编号';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_check_name" IS '申诉审核人姓名';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_check_dt" IS '申诉审核日期';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."appeal_check_result" IS '申诉审核结果';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."deduc_amt" IS '扣款金额';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_mi_check_result"."fee_source" IS '费用来源';

-- ----------------------------
-- Table structure for t_data_mi_group_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_group_result";
CREATE TABLE "public"."t_data_mi_group_result" (
  "si_group_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "mission_id" varchar(50) COLLATE "pg_catalog"."default",
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "self_amt" numeric(12,2),
  "mi_pay_amt" numeric(12,2),
  "self_pay_amt" numeric(12,2),
  "acct_pay_amt" numeric(12,2),
  "cash_pay_amt" numeric(12,2),
  "drug_amt" numeric(12,2),
  "diag_amt" numeric(12,2),
  "med_sup_amt" numeric(12,2),
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_days" int4,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_type" varchar(50) COLLATE "pg_catalog"."default",
  "group_dt" timestamp(6),
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_code" varchar(50) COLLATE "pg_catalog"."default",
  "group_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_point" float4,
  "group_value" numeric(12,4),
  "group_adjust" float4,
  "group_pay_std" numeric(12,2),
  "main_diag" varchar(200) COLLATE "pg_catalog"."default",
  "main_opt" varchar(200) COLLATE "pg_catalog"."default",
  "disease_type" varchar(50) COLLATE "pg_catalog"."default",
  "si_case_type" varchar(50) COLLATE "pg_catalog"."default",
  "year" varchar(50) COLLATE "pg_catalog"."default",
  "bill_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_rel_pay_amt" numeric(12,2),
  "def_pay_amt" numeric(12,2),
  "group_last_point" int4,
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_id" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_request" varchar(4000) COLLATE "pg_catalog"."default",
  "appeal_content" varchar(4000) COLLATE "pg_catalog"."default",
  "appeal_begin_dt" timestamp(6),
  "review_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "review_user" varchar(200) COLLATE "pg_catalog"."default",
  "review_dt" timestamp(6),
  "review_content" varchar(4000) COLLATE "pg_catalog"."default",
  "complete_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "complete_user" varchar(200) COLLATE "pg_catalog"."default",
  "complete_dt" timestamp(6),
  "appeal_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_user" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_dt" time(6),
  "appeal_end_dt" timestamp(6),
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6)
)
;
COMMENT ON COLUMN "public"."t_data_mi_group_result"."si_group_result_id" IS '医保下发清算数据ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."mdc_id" IS 'DRG的MDC分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."mission_id" IS '医保数据任务id';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dep_id" IS '科室病区ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."psn_id" IS '医务人员ID(管床医生)';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."bill_no" IS '结算单号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."self_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."mi_pay_amt" IS '医保支付金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."acct_pay_amt" IS '个账金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."cash_pay_amt" IS '现金金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."med_sup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dep_code" IS '科室病区编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dep_name" IS '科室病区名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."idcard" IS '患者身份证号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."psn_age_day" IS '年龄(天)';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."psn_age" IS '年龄(岁)';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."psn_type_id" IS '医保人员类别ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."psn_type_code" IS '人员类别编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."chs_ver_code" IS '医保版本号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."chs_ver_name" IS '医保版本名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."chs_ver_type" IS '医保版本类别';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_dt" IS '分组日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."mdc_code" IS 'MDC编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."mdc_name" IS 'MDC名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."adrg_code" IS 'ADRG编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."adrg_name" IS 'ADRG名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_code" IS '分组编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_name" IS '分组名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_point" IS '分组点值';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_value" IS '分组费率';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_adjust" IS '分组调整系数';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_pay_std" IS '分组支付标准';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."main_diag" IS '主要诊断';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."main_opt" IS '主要手术操作';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."disease_type" IS '病种类别';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."si_case_type" IS '清算病例类型:高倍率、低倍率、正常倍率';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."year" IS '年度';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."bill_type" IS '月度结算/年度清算';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."mi_rel_pay_amt" IS '医保清算金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."def_pay_amt" IS '支付差异金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."group_last_point" IS '最终点数';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."main_diag_code" IS '主要诊断编码ICD10';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."main_opt_code" IS '主要手术操作编码ICD9';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."main_diag_id" IS '主要诊断编码ICD10的ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."main_opt_id" IS '主要手术操作编码ICD9的ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_request" IS '医保申诉要求';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_content" IS '医保申诉内容';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_begin_dt" IS '医保申诉开始日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."review_user_id" IS '审核人id';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."review_user" IS '审核人';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."review_dt" IS '审核日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."review_content" IS '审核意见';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."complete_user_id" IS '完成人id';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."complete_user" IS '完成人';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."complete_dt" IS '完成日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_user_id" IS '申诉人id';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_user" IS '申诉人';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_dt" IS '申诉日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."appeal_end_dt" IS '医保申诉结束日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result"."outbed_dt" IS '出院日期';

-- ----------------------------
-- Table structure for t_data_mi_group_result_import
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_group_result_import";
CREATE TABLE "public"."t_data_mi_group_result_import" (
  "si_group_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "mission_id" varchar(50) COLLATE "pg_catalog"."default",
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "self_amt" numeric(12,2),
  "mi_pay_amt" numeric(12,2),
  "self_pay_amt" numeric(12,2),
  "acct_pay_amt" numeric(12,2),
  "cash_pay_amt" numeric(12,2),
  "drug_amt" numeric(12,2),
  "diag_amt" numeric(12,2),
  "med_sup_amt" numeric(12,2),
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_days" int4,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_type" varchar(50) COLLATE "pg_catalog"."default",
  "group_dt" timestamp(6),
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_code" varchar(50) COLLATE "pg_catalog"."default",
  "group_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_point" float4,
  "group_value" numeric(12,4),
  "group_adjust" float4,
  "group_pay_std" numeric(12,2),
  "main_diag" varchar(200) COLLATE "pg_catalog"."default",
  "main_opt" varchar(200) COLLATE "pg_catalog"."default",
  "disease_type" varchar(50) COLLATE "pg_catalog"."default",
  "si_case_type" varchar(50) COLLATE "pg_catalog"."default",
  "year" varchar(50) COLLATE "pg_catalog"."default",
  "bill_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_rel_pay_amt" numeric(12,2),
  "def_pay_amt" numeric(12,2),
  "group_last_point" int4,
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt_id" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_request" varchar(4000) COLLATE "pg_catalog"."default",
  "appeal_content" varchar(4000) COLLATE "pg_catalog"."default",
  "appeal_begin_dt" timestamp(6),
  "appeal_end_dt" time(6),
  "review_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "review_user" varchar(200) COLLATE "pg_catalog"."default",
  "review_dt" timestamp(6),
  "review_content" varchar(4000) COLLATE "pg_catalog"."default",
  "complete_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "complete_user" varchar(200) COLLATE "pg_catalog"."default",
  "complete_dt" timestamp(6),
  "appeal_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "appeal_user" varchar(200) COLLATE "pg_catalog"."default",
  "appeal_dt" time(6),
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6)
)
;
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."si_group_result_id" IS '医保下发清算数据导入ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."mdc_id" IS 'DRG的MDC分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."mission_id" IS '医保数据任务id';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dep_id" IS '科室病区ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."bill_no" IS '结算单号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."self_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."mi_pay_amt" IS '医保支付金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."acct_pay_amt" IS '个账金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."cash_pay_amt" IS '现金金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."med_sup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dep_code" IS '科室病区编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dep_name" IS '科室病区名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."status" IS '正常作废';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."idcard" IS '患者身份证号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."psn_age_day" IS '年龄(天)';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."psn_age" IS '年龄(岁)';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."psn_type_id" IS '医保人员类别ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."psn_type_code" IS '人员类别编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."chs_ver_code" IS '医保版本号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."chs_ver_name" IS '医保版本名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."chs_ver_type" IS '医保版本类别';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_dt" IS '分组日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."mdc_code" IS 'MDC编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."mdc_name" IS 'MDC名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."adrg_code" IS 'ADRG编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."adrg_name" IS 'ADRG名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_code" IS '分组编号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_name" IS '分组名称';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_point" IS '分组点值';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_value" IS '分组费率';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_adjust" IS '分组调整系数';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_pay_std" IS '分组支付标准';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."main_diag" IS '主要诊断';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."main_opt" IS '主要手术操作';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."disease_type" IS '病种类别';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."si_case_type" IS '清算病例类型:高倍率、低倍率、正常倍率';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."year" IS '年度';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."bill_type" IS '月度结算/年度清算';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."mi_rel_pay_amt" IS '医保清算金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."def_pay_amt" IS '支付差异金额';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."group_last_point" IS '最终点数';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."main_diag_code" IS '主要诊断编码ICD10';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."main_opt_code" IS '主要手术操作编码ICD9';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."main_diag_id" IS '主要诊断编码ICD10的ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."main_opt_id" IS '主要手术操作编码ICD9的ID';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_request" IS '医保申诉要求';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_content" IS '医保申诉内容';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_begin_dt" IS '医保申诉开始日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_end_dt" IS '医保申诉结束日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."review_user_id" IS '审核人id';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."review_user" IS '审核人';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."review_dt" IS '审核日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."review_content" IS '审核意见';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."complete_user_id" IS '完成人id';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."complete_user" IS '完成人';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."complete_dt" IS '完成日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_user_id" IS '申诉人id';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_user" IS '申诉人';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."appeal_dt" IS '申诉日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_data_mi_group_result_import"."outbed_dt" IS '出院日期';

-- ----------------------------
-- Table structure for t_data_mi_item
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_item";
CREATE TABLE "public"."t_data_mi_item" (
  "item_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "item_code" varchar(50) COLLATE "pg_catalog"."default",
  "item_field" varchar(50) COLLATE "pg_catalog"."default",
  "item_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_mi_item"."item_id" IS '医保导入数据项';
COMMENT ON COLUMN "public"."t_data_mi_item"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_mi_item"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_item"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_mi_item"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_mi_item"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_item"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_mi_item"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_mi_item"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_mi_item"."item_code" IS '关联项目编号';
COMMENT ON COLUMN "public"."t_data_mi_item"."item_field" IS '数据项字段名';
COMMENT ON COLUMN "public"."t_data_mi_item"."item_name" IS '关联项目名称';
COMMENT ON TABLE "public"."t_data_mi_item" IS '医保数据项';

-- ----------------------------
-- Table structure for t_data_mi_mission
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_mission";
CREATE TABLE "public"."t_data_mi_mission" (
  "mission_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "mission_code" varchar(50) COLLATE "pg_catalog"."default",
  "mission_name" varchar(200) COLLATE "pg_catalog"."default",
  "mission_month" varchar(50) COLLATE "pg_catalog"."default",
  "mission_begin_dt" timestamp(6),
  "mission_end_dt" timestamp(6),
  "bill_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_mi_mission"."mission_id" IS '医保数据任务id';
COMMENT ON COLUMN "public"."t_data_mi_mission"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_mi_mission"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_mi_mission"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_mi_mission"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_mission"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_mi_mission"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_mi_mission"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_mission"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_mi_mission"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_mi_mission"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_mi_mission"."mission_code" IS '医保数据任务编号';
COMMENT ON COLUMN "public"."t_data_mi_mission"."mission_name" IS '医保数据任务名称';
COMMENT ON COLUMN "public"."t_data_mi_mission"."mission_month" IS '任务月度';
COMMENT ON COLUMN "public"."t_data_mi_mission"."mission_begin_dt" IS '任务开始日期';
COMMENT ON COLUMN "public"."t_data_mi_mission"."mission_end_dt" IS '任务结束日期';
COMMENT ON COLUMN "public"."t_data_mi_mission"."bill_type" IS '结算清算类别';
COMMENT ON TABLE "public"."t_data_mi_mission" IS '医保数据任务';

-- ----------------------------
-- Table structure for t_data_mi_template
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_template";
CREATE TABLE "public"."t_data_mi_template" (
  "mi_template_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "mi_template_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_template_name" varchar(200) COLLATE "pg_catalog"."default",
  "mi_template_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_mi_template"."mi_template_id" IS '医保数据模版id';
COMMENT ON COLUMN "public"."t_data_mi_template"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_mi_template"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_mi_template"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_template"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_mi_template"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_mi_template"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_mi_template"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_mi_template"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_mi_template"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_mi_template"."mi_template_code" IS '医保数据模版编号';
COMMENT ON COLUMN "public"."t_data_mi_template"."mi_template_name" IS '医保数据模版名称';
COMMENT ON COLUMN "public"."t_data_mi_template"."mi_template_type" IS '数据模版类别(导入/导出)';
COMMENT ON TABLE "public"."t_data_mi_template" IS '医保数据模版';

-- ----------------------------
-- Table structure for t_data_mi_template_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_mi_template_detail";
CREATE TABLE "public"."t_data_mi_template_detail" (
  "template_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "item_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mi_template_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "item_no" int4
)
;
COMMENT ON COLUMN "public"."t_data_mi_template_detail"."template_detail_id" IS '医保数据模版配置id';
COMMENT ON COLUMN "public"."t_data_mi_template_detail"."item_id" IS '医保导入数据项';
COMMENT ON COLUMN "public"."t_data_mi_template_detail"."mi_template_id" IS '医保数据模版id';
COMMENT ON COLUMN "public"."t_data_mi_template_detail"."item_no" IS '数据序号';
COMMENT ON TABLE "public"."t_data_mi_template_detail" IS '医保数据模版配置';

-- ----------------------------
-- Table structure for t_data_pres_bill
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_pres_bill";
CREATE TABLE "public"."t_data_pres_bill" (
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "psn_age_day" int4,
  "psn_age" float4,
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "bill_no" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "self_amt" numeric(12,2),
  "mi_pay_amt" numeric(12,2),
  "self_pay_amt" numeric(12,2),
  "acct_pay_amt" numeric(12,2),
  "cash_pay_amt" numeric(12,2),
  "drug_amt" numeric(12,2),
  "diag_amt" numeric(12,2),
  "med_sup_amt" numeric(12,2),
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "visit_dt" timestamp(6),
  "visit_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "visit_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "doctor_code" varchar(50) COLLATE "pg_catalog"."default",
  "doctor_name" varchar(200) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_pres_bill"."pres_bill_id" IS '门诊结算单id';
COMMENT ON COLUMN "public"."t_data_pres_bill"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_data_pres_bill"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_data_pres_bill"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_data_pres_bill"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_data_pres_bill"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_data_pres_bill"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_data_pres_bill"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_data_pres_bill"."note" IS '备注';
COMMENT ON COLUMN "public"."t_data_pres_bill"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_data_pres_bill"."idcard" IS '患者身份证号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_data_pres_bill"."psn_age_day" IS '年龄(天)';
COMMENT ON COLUMN "public"."t_data_pres_bill"."psn_age" IS '年龄(岁)';
COMMENT ON COLUMN "public"."t_data_pres_bill"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_data_pres_bill"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."psn_type_id" IS '医保人员类别ID';
COMMENT ON COLUMN "public"."t_data_pres_bill"."psn_type_code" IS '人员类别编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_data_pres_bill"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_data_pres_bill"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."bill_no" IS '结算单号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_data_pres_bill"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_data_pres_bill"."self_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_data_pres_bill"."mi_pay_amt" IS '医保支付金额';
COMMENT ON COLUMN "public"."t_data_pres_bill"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_data_pres_bill"."acct_pay_amt" IS '个账金额';
COMMENT ON COLUMN "public"."t_data_pres_bill"."cash_pay_amt" IS '现金金额';
COMMENT ON COLUMN "public"."t_data_pres_bill"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_data_pres_bill"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_data_pres_bill"."med_sup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_data_pres_bill"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_data_pres_bill"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_data_pres_bill"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."visit_dt" IS '就诊日期';
COMMENT ON COLUMN "public"."t_data_pres_bill"."visit_dep_code" IS '就诊科室编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."visit_dep_name" IS '就诊科室名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."doctor_code" IS '就诊医生编号';
COMMENT ON COLUMN "public"."t_data_pres_bill"."doctor_name" IS '就诊医生名称';
COMMENT ON COLUMN "public"."t_data_pres_bill"."dep_id" IS '科室病区id';
COMMENT ON COLUMN "public"."t_data_pres_bill"."psn_id" IS '医务人员id';
COMMENT ON TABLE "public"."t_data_pres_bill" IS '门诊处方、检查检验项目、治疗操作等';

-- ----------------------------
-- Table structure for t_data_pres_bill_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_pres_bill_detail";
CREATE TABLE "public"."t_data_pres_bill_detail" (
  "pres_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "mi_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_cnt" numeric(12,4),
  "fee_item_price" numeric(12,4),
  "fee_item_amt" numeric(12,4),
  "fee_item_unit" varchar(200) COLLATE "pg_catalog"."default",
  "fee_item_self_amt" numeric(12,4),
  "fee_item_dt" timestamp(6),
  "fee_item_spec" varchar(200) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."pres_bill_detail_id" IS '门诊结算单明细ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."drug_id" IS '药品ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."pres_bill_id" IS '门诊结算单id';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."diag_id" IS '医疗服务项目ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_id" IS '收费明细唯一号';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_type" IS '收费项目类别:药品/医疗服务/医用耗材';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."mi_fee_type" IS '医保费用类别';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."mi_item_name" IS '医保项目名称';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."hosp_item_code" IS '医院项目编码';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."hosp_item_name" IS '医院项目名称';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_cnt" IS '收费项目数量';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_price" IS '收费项目单价';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_amt" IS '收费项目金额';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_unit" IS '收费项目计价单位';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_self_amt" IS '收费项目自费金额';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_dt" IS '收费项目发生日期';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."fee_item_spec" IS '收费项目规格';
COMMENT ON COLUMN "public"."t_data_pres_bill_detail"."factory_name" IS '生产厂家名称';
COMMENT ON TABLE "public"."t_data_pres_bill_detail" IS '处方药品明细、医疗服务项目、医用耗材项目等';

-- ----------------------------
-- Table structure for t_data_pres_diag
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_pres_diag";
CREATE TABLE "public"."t_data_pres_diag" (
  "pres_diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd_no" int4,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "main_flag" int2,
  "dise_date" timestamp(6),
  "med_diag" varchar(200) COLLATE "pg_catalog"."default",
  "diag_type" varchar(50) COLLATE "pg_catalog"."default",
  "diag_class" varchar(50) COLLATE "pg_catalog"."default",
  "adm_cond" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_data_pres_diag"."pres_diag_id" IS '门诊诊断记录ID';
COMMENT ON COLUMN "public"."t_data_pres_diag"."pres_bill_id" IS '门诊结算单id';
COMMENT ON COLUMN "public"."t_data_pres_diag"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_data_pres_diag"."icd_no" IS 'ICD编码序号';
COMMENT ON COLUMN "public"."t_data_pres_diag"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_data_pres_diag"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_data_pres_diag"."main_flag" IS '主要标志';
COMMENT ON COLUMN "public"."t_data_pres_diag"."dise_date" IS '诊断日期';
COMMENT ON COLUMN "public"."t_data_pres_diag"."med_diag" IS '临床诊断内容';
COMMENT ON COLUMN "public"."t_data_pres_diag"."diag_type" IS '诊断类别:入院诊断/出院诊断/...';
COMMENT ON COLUMN "public"."t_data_pres_diag"."diag_class" IS '诊断分类:西医诊断/中医诊断';
COMMENT ON COLUMN "public"."t_data_pres_diag"."adm_cond" IS '入院病情';

-- ----------------------------
-- Table structure for t_data_pres_emr
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_data_pres_emr";
CREATE TABLE "public"."t_data_pres_emr" (
  "pres_emr_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "emr_code" varchar(50) COLLATE "pg_catalog"."default",
  "emr_type" varchar(50) COLLATE "pg_catalog"."default",
  "emr_detail" bytea,
  "emr_dt" timestamp(6)
)
;
COMMENT ON COLUMN "public"."t_data_pres_emr"."pres_emr_id" IS '门诊病历文书ID';
COMMENT ON COLUMN "public"."t_data_pres_emr"."pres_bill_id" IS '门诊结算单id';
COMMENT ON COLUMN "public"."t_data_pres_emr"."emr_code" IS '病历文书编号';
COMMENT ON COLUMN "public"."t_data_pres_emr"."emr_type" IS '病历文书类别';
COMMENT ON COLUMN "public"."t_data_pres_emr"."emr_detail" IS '病历文书内容';
COMMENT ON COLUMN "public"."t_data_pres_emr"."emr_dt" IS '病历文书日期';

-- ----------------------------
-- Table structure for t_diag
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_diag";
CREATE TABLE "public"."t_diag" (
  "diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "diag_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "diag_name" varchar(200) COLLATE "pg_catalog"."default",
  "diag_content" varchar(4000) COLLATE "pg_catalog"."default",
  "diag_except" varchar(4000) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "price_note" varchar(4000) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "fee_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_diag"."diag_id" IS '医疗服务项目ID';
COMMENT ON COLUMN "public"."t_diag"."diag_class_id" IS '医疗服务项目分类ID';
COMMENT ON COLUMN "public"."t_diag"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_diag"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_diag"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_diag"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_diag"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_diag"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_diag"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_diag"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_diag"."note" IS '说明';
COMMENT ON COLUMN "public"."t_diag"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_diag"."diag_code" IS '医疗服务项目编码';
COMMENT ON COLUMN "public"."t_diag"."diag_name" IS '医疗服务项目名称';
COMMENT ON COLUMN "public"."t_diag"."diag_content" IS '项目内涵';
COMMENT ON COLUMN "public"."t_diag"."diag_except" IS '除外内容';
COMMENT ON COLUMN "public"."t_diag"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_diag"."price_note" IS '计价说明';
COMMENT ON COLUMN "public"."t_diag"."mi_fee_type" IS '医保费用类别，如甲类
            乙类
            自费';
COMMENT ON COLUMN "public"."t_diag"."fee_type" IS '用于统计的费用归类，如手术费、治疗费等';
COMMENT ON TABLE "public"."t_diag" IS '医保的诊疗项目目录，医院需与本表对码';

-- ----------------------------
-- Table structure for t_diag_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_diag_class";
CREATE TABLE "public"."t_diag_class" (
  "diag_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "diag_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "diag_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_diag_class"."diag_class_id" IS '医疗服务项目分类ID';
COMMENT ON COLUMN "public"."t_diag_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_diag_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_diag_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_diag_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_diag_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_diag_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_diag_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_diag_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_diag_class"."diag_class_code" IS '医疗服务项目分类编号';
COMMENT ON COLUMN "public"."t_diag_class"."diag_class_name" IS '医疗服务项目分类名称';
COMMENT ON COLUMN "public"."t_diag_class"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_diag_class"."fee_type" IS '用于统计的费用归类，如手术费、治疗费等';

-- ----------------------------
-- Table structure for t_dic_domain
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dic_domain";
CREATE TABLE "public"."t_dic_domain" (
  "domain_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "domain_code" varchar(50) COLLATE "pg_catalog"."default",
  "domain_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dic_domain"."domain_id" IS '值域类别ID';
COMMENT ON COLUMN "public"."t_dic_domain"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_dic_domain"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_dic_domain"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_dic_domain"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_dic_domain"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_dic_domain"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_dic_domain"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_dic_domain"."note" IS '说明';
COMMENT ON COLUMN "public"."t_dic_domain"."domain_code" IS '值域类别编号';
COMMENT ON COLUMN "public"."t_dic_domain"."domain_name" IS '值域类别名称';

-- ----------------------------
-- Table structure for t_dic_domain_value
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dic_domain_value";
CREATE TABLE "public"."t_dic_domain_value" (
  "domain_value_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "domain_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "domain_value_code" varchar(50) COLLATE "pg_catalog"."default",
  "domain_value_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dic_domain_value"."domain_value_id" IS '值域ID';
COMMENT ON COLUMN "public"."t_dic_domain_value"."domain_id" IS '值域类别ID';
COMMENT ON COLUMN "public"."t_dic_domain_value"."domain_value_code" IS '值域编号';
COMMENT ON COLUMN "public"."t_dic_domain_value"."domain_value_name" IS '值域名称';

-- ----------------------------
-- Table structure for t_dic_drgs_paystandard_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dic_drgs_paystandard_f";
CREATE FOREIGN TABLE "public"."t_dic_drgs_paystandard_f" (
  "pay_id" numeric,
  "drgs_id" numeric,
  "org_id" numeric,
  "payment_st" numeric,
  "start_dt" timestamp(6),
  "end_dt" timestamp(6),
  "inbed_days_avg" numeric,
  "rw_st" numeric,
  "death_lev_st" numeric,
  "score_st" numeric,
  "death_rate_st" numeric,
  "death_rate_tar" numeric,
  "time_index_tar" numeric,
  "fee_index_tar" numeric,
  "payment_tar" numeric,
  "drug_fee_tar" numeric,
  "medmat_fee_tar" numeric,
  "check_fee_tar" numeric,
  "oper_fee_tar" numeric,
  "death_rate_avg" numeric,
  "time_index_avg" numeric,
  "fee_index_avg" numeric,
  "payment_avg" numeric,
  "drug_fee_avg" numeric,
  "medmat_fee_avg" numeric,
  "check_fee_avg" numeric,
  "oper_fee_avg" numeric,
  "cmi_tar" numeric,
  "total_cnt_tar" numeric,
  "total_score_tar" numeric,
  "cmi_avg" numeric,
  "total_cnt_avg" numeric,
  "total_score_avg" numeric,
  "cv_st" numeric,
  "benchmark_points" numeric,
  "drgs_code" varchar COLLATE "pg_catalog"."default",
  "drgs_name" varchar COLLATE "pg_catalog"."default",
  "si_type_id" numeric,
  "hosp_id" numeric,
  "stable_group" numeric,
  "basic_group" numeric,
  "city_payment_avg" numeric,
  "hosp_payment_avg" numeric
)
SERVER "oracle_ybdb"
OPTIONS ("schema" 'YBDB', "table" 'T_DIC_DRGS_PAYSTANDARD')
;

-- ----------------------------
-- Table structure for t_dic_hosp_lev
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dic_hosp_lev";
CREATE TABLE "public"."t_dic_hosp_lev" (
  "hosp_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "hosp_lev_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_lev_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."hosp_lev_id" IS '医院等级id';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."note" IS '说明';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."hosp_lev_code" IS '医院等级编码';
COMMENT ON COLUMN "public"."t_dic_hosp_lev"."hosp_lev_name" IS '医院等级名称';

-- ----------------------------
-- Table structure for t_dic_hosp_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dic_hosp_type";
CREATE TABLE "public"."t_dic_hosp_type" (
  "hosp_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "hosp_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dic_hosp_type"."hosp_type_id" IS '医院类别id';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."hosp_type_code" IS '医院类别编码';
COMMENT ON COLUMN "public"."t_dic_hosp_type"."hosp_type_name" IS '医院类别名称';

-- ----------------------------
-- Table structure for t_dip_dips
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dip_dips";
CREATE TABLE "public"."t_dip_dips" (
  "dip_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "dip_code" varchar(500) COLLATE "pg_catalog"."default",
  "dip_name" varchar(1000) COLLATE "pg_catalog"."default",
  "disease_type" varchar(50) COLLATE "pg_catalog"."default",
  "prg_params" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dip_dips"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_dip_dips"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_dip_dips"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_dip_dips"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_dip_dips"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_dip_dips"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_dip_dips"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_dip_dips"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_dip_dips"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_dip_dips"."note" IS '备注';
COMMENT ON COLUMN "public"."t_dip_dips"."dip_code" IS 'DIP分组编号';
COMMENT ON COLUMN "public"."t_dip_dips"."dip_name" IS 'DIP分组名称';
COMMENT ON COLUMN "public"."t_dip_dips"."disease_type" IS '病种类别';
COMMENT ON COLUMN "public"."t_dip_dips"."prg_params" IS '算法参数';
COMMENT ON TABLE "public"."t_dip_dips" IS '多个分组时，用算法参数进行区分';

-- ----------------------------
-- Table structure for t_dip_icd10
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dip_icd10";
CREATE TABLE "public"."t_dip_icd10" (
  "dip_icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dip_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd_group_no" varchar(50) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dip_icd10"."dip_icd10_id" IS 'DIP的疾病分组ID';
COMMENT ON COLUMN "public"."t_dip_icd10"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_dip_icd10"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_dip_icd10"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_dip_icd10"."icd_group_no" IS '1、不分组：分组编号为空
            2、手术组1+手术组2：不同分组分别编号，相互间 AND
            3、手术组1 或 诊断组2+手术组3 ：手术组1 编号为空， 诊断组2+手术组3 分别编号，无分组编号 OR  有分组编号（不同组之间AND）
            4、全部手术/全部疾病：ICD10或ICD9分组中无记录';
COMMENT ON COLUMN "public"."t_dip_icd10"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_dip_icd10"."icd_name" IS 'ICD名称';

-- ----------------------------
-- Table structure for t_dip_icd9
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_dip_icd9";
CREATE TABLE "public"."t_dip_icd9" (
  "dip_icd9_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_9_id" varchar(50) COLLATE "pg_catalog"."default",
  "dip_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd_group_no" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_dip_icd9"."dip_icd9_id" IS 'DIP的ICD9分组ID';
COMMENT ON COLUMN "public"."t_dip_icd9"."icd_9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_dip_icd9"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_dip_icd9"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_dip_icd9"."icd_group_no" IS '1、不分组：分组编号为空
            2、手术组1+手术组2：不同分组分别编号，相互间 AND
            3、手术组1 或 诊断组2+手术组3 ：手术组1 编号为空， 诊断组2+手术组3 分别编号，无分组编号 OR  有分组编号（不同组之间AND）
            4、全部手术/全部疾病：ICD10或ICD9分组中无记录';
COMMENT ON COLUMN "public"."t_dip_icd9"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_dip_icd9"."icd_code" IS 'ICD编码';
COMMENT ON TABLE "public"."t_dip_icd9" IS '分组编号缺省为空，表示只有1组
如果分组编号不为空，则不同分组编号代表不同分组，且必须分组内至少存在1个IC';

-- ----------------------------
-- Table structure for t_drg_adrg
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_adrg";
CREATE TABLE "public"."t_drg_adrg" (
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(200) COLLATE "pg_catalog"."default",
  "prg_params" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_adrg"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_drg_adrg"."mdc_id" IS 'DRG的MDC分组ID';
COMMENT ON COLUMN "public"."t_drg_adrg"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_drg_adrg"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_adrg"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_adrg"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_adrg"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_adrg"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_adrg"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_adrg"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_adrg"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_adrg"."adrg_code" IS 'DRG的ADRG分组编号';
COMMENT ON COLUMN "public"."t_drg_adrg"."adrg_name" IS 'DRG的ADRG分组名称';
COMMENT ON COLUMN "public"."t_drg_adrg"."prg_params" IS '算法参数';

-- ----------------------------
-- Table structure for t_drg_adrg_icd10
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_adrg_icd10";
CREATE TABLE "public"."t_drg_adrg_icd10" (
  "adrg_icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_group_no" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_adrg_icd10"."adrg_icd10_id" IS 'DRG的ADRG分组疾病编码ID';
COMMENT ON COLUMN "public"."t_drg_adrg_icd10"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_drg_adrg_icd10"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_drg_adrg_icd10"."icd_group_no" IS '1、不分组：分组编号为空
            2、手术组1+手术组2：不同分组分别编号，相互间 AND
            3、手术组1 或 诊断组2+手术组3 ：手术组1 编号为空， 诊断组2+手术组3 分别编号，无分组编号 OR  有分组编号（不同组之间AND）
            4、全部手术/全部疾病：ICD10或ICD9分组中无记录';

-- ----------------------------
-- Table structure for t_drg_adrg_icd9
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_adrg_icd9";
CREATE TABLE "public"."t_drg_adrg_icd9" (
  "adrg_icd9_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_9_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_group_no" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_adrg_icd9"."adrg_icd9_id" IS 'DRG的ADRG分组手术编码ID';
COMMENT ON COLUMN "public"."t_drg_adrg_icd9"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_drg_adrg_icd9"."icd_9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_drg_adrg_icd9"."icd_group_no" IS '1、不分组：分组编号为空
            2、手术组1+手术组2：不同分组分别编号，相互间 AND
            3、手术组1 或 诊断组2+手术组3 ：手术组1 编号为空， 诊断组2+手术组3 分别编号，无分组编号 OR  有分组编号（不同组之间AND）
            4、全部手术/全部疾病：ICD10或ICD9分组中无记录';

-- ----------------------------
-- Table structure for t_drg_dip_cnf
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_dip_cnf";
CREATE TABLE "public"."t_drg_dip_cnf" (
  "drg_dip_cnf_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_lev_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "year" varchar(50) COLLATE "pg_catalog"."default",
  "value" float4,
  "fee_avg" numeric(12,2),
  "fee_std" numeric(12,2),
  "high_rate" numeric(12,4),
  "low_rate" numeric(12,4)
)
;
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."drg_dip_cnf_id" IS 'DRGDIP配置表ID';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."psn_type_id" IS '医保人员类别id';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."hosp_lev_id" IS '医院等级id';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."year" IS '年度';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."value" IS '分值';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."fee_avg" IS '平均费用';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."fee_std" IS '清算标准';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."high_rate" IS '高倍率系数';
COMMENT ON COLUMN "public"."t_drg_dip_cnf"."low_rate" IS '低倍率系数';

-- ----------------------------
-- Table structure for t_drg_dip_values
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_dip_values";
CREATE TABLE "public"."t_drg_dip_values" (
  "drg_dip_values_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "year" varchar(50) COLLATE "pg_catalog"."default",
  "value" float4,
  "fee_avg" numeric(12,2),
  "fee_std" numeric(12,2),
  "inbed_days_avg" float4,
  "rate" float4
)
;
COMMENT ON COLUMN "public"."t_drg_dip_values"."drg_dip_values_id" IS 'DRGDIP年度分值ID';
COMMENT ON COLUMN "public"."t_drg_dip_values"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_drg_dip_values"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_drg_dip_values"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_drg_dip_values"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_dip_values"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_dip_values"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_dip_values"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_dip_values"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_dip_values"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_dip_values"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_dip_values"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_dip_values"."year" IS '年度';
COMMENT ON COLUMN "public"."t_drg_dip_values"."value" IS '分值';
COMMENT ON COLUMN "public"."t_drg_dip_values"."fee_avg" IS '平均费用';
COMMENT ON COLUMN "public"."t_drg_dip_values"."fee_std" IS '清算标准';
COMMENT ON COLUMN "public"."t_drg_dip_values"."inbed_days_avg" IS '平均住院日';

-- ----------------------------
-- Table structure for t_drg_drgs
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_drgs";
CREATE TABLE "public"."t_drg_drgs" (
  "drg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "adrg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "drg_code" varchar(50) COLLATE "pg_catalog"."default",
  "drg_name" varchar(200) COLLATE "pg_catalog"."default",
  "disease_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_drgs"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_drg_drgs"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_drg_drgs"."adrg_id" IS 'DRG的ADRG分组ID';
COMMENT ON COLUMN "public"."t_drg_drgs"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_drgs"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_drgs"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_drgs"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_drgs"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_drgs"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_drgs"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_drgs"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_drgs"."drg_code" IS 'DRG分组编号';
COMMENT ON COLUMN "public"."t_drg_drgs"."drg_name" IS 'DRG分组名称';
COMMENT ON COLUMN "public"."t_drg_drgs"."disease_type" IS '病种类别';
COMMENT ON TABLE "public"."t_drg_drgs" IS '第二位
A, B, C, D, E, F, G, H, J       9 个字母表示外科部分
';

-- ----------------------------
-- Table structure for t_drg_mcc_cc
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_mcc_cc";
CREATE TABLE "public"."t_drg_mcc_cc" (
  "mcc_cc_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mcc_cc_except_id" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "mcc_cc_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."mcc_cc_id" IS 'DRG的MCC和CC的ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."mcc_cc_except_id" IS 'DRG的MCC/CC排除表ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_mcc_cc"."mcc_cc_type" IS 'MCC
            DRG的MCC和CC的类别，如CC';

-- ----------------------------
-- Table structure for t_drg_mcc_cc_except
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_mcc_cc_except";
CREATE TABLE "public"."t_drg_mcc_cc_except" (
  "mcc_cc_except_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "mcc_cc_except_code" varchar(50) COLLATE "pg_catalog"."default",
  "mcc_cc_except_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."mcc_cc_except_id" IS 'DRG的MCC/CC排除表ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."mcc_cc_except_code" IS 'DRG的MCC/CC排除表编号';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except"."mcc_cc_except_name" IS 'DRG的MCC/CC排除表名称';

-- ----------------------------
-- Table structure for t_drg_mcc_cc_except_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_mcc_cc_except_detail";
CREATE TABLE "public"."t_drg_mcc_cc_except_detail" (
  "mcc_cc_except_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mcc_cc_except_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except_detail"."mcc_cc_except_detail_id" IS 'DRG的MCC/CC排除表明细ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except_detail"."mcc_cc_except_id" IS 'DRG的MCC/CC排除表ID';
COMMENT ON COLUMN "public"."t_drg_mcc_cc_except_detail"."icd10_id" IS 'ICD编码ID';

-- ----------------------------
-- Table structure for t_drg_mdc
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_mdc";
CREATE TABLE "public"."t_drg_mdc" (
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_mdc"."mdc_id" IS 'DRG的MDC分组ID';
COMMENT ON COLUMN "public"."t_drg_mdc"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_drg_mdc"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_drg_mdc"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_drg_mdc"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_drg_mdc"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drg_mdc"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_drg_mdc"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_drg_mdc"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_drg_mdc"."note" IS '备注';
COMMENT ON COLUMN "public"."t_drg_mdc"."mdc_code" IS 'DRG的MDC分组编号';
COMMENT ON COLUMN "public"."t_drg_mdc"."mdc_name" IS 'DRG的MDC分组名称';

-- ----------------------------
-- Table structure for t_drg_mdc_icd10
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drg_mdc_icd10";
CREATE TABLE "public"."t_drg_mdc_icd10" (
  "mdc_icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_group_no" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drg_mdc_icd10"."mdc_icd10_id" IS 'DRG的MDC主诊断ID';
COMMENT ON COLUMN "public"."t_drg_mdc_icd10"."mdc_id" IS 'DRG的MDC分组ID';
COMMENT ON COLUMN "public"."t_drg_mdc_icd10"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_drg_mdc_icd10"."icd_group_no" IS '1、不分组：分组编号为空
            2、手术组1+手术组2：不同分组分别编号，相互间 AND
            3、手术组1 或 诊断组2+手术组3 ：手术组1 编号为空， 诊断组2+手术组3 分别编号，无分组编号 OR  有分组编号（不同组之间AND）
            4、全部手术/全部疾病：ICD10或ICD9分组中无记录';

-- ----------------------------
-- Table structure for t_drug
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drug";
CREATE TABLE "public"."t_drug" (
  "drug_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_pub_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "drug_code" varchar(50) COLLATE "pg_catalog"."default",
  "drug_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_sel_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_permit_no" varchar(50) COLLATE "pg_catalog"."default",
  "drug_origin_no" varchar(50) COLLATE "pg_catalog"."default",
  "drug_spec" varchar(500) COLLATE "pg_catalog"."default",
  "drug_unit" varchar(50) COLLATE "pg_catalog"."default",
  "drug_unit_amount" float4,
  "drug_min_pkg" varchar(50) COLLATE "pg_catalog"."default",
  "drug_sel_pkg" varchar(50) COLLATE "pg_catalog"."default",
  "drug_package_amont" int4,
  "factory_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_note" bytea,
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "use_limit_note" varchar(4000) COLLATE "pg_catalog"."default",
  "fee_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drug"."drug_id" IS '药品ID';
COMMENT ON COLUMN "public"."t_drug"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_drug"."drug_pub_id" IS '药物通用名ID';
COMMENT ON COLUMN "public"."t_drug"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_drug"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_drug"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_drug"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drug"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_drug"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_drug"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_drug"."note" IS '说明';
COMMENT ON COLUMN "public"."t_drug"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_drug"."drug_code" IS '药品编号';
COMMENT ON COLUMN "public"."t_drug"."drug_name" IS '药品名称';
COMMENT ON COLUMN "public"."t_drug"."drug_sel_name" IS '药品商品名';
COMMENT ON COLUMN "public"."t_drug"."drug_permit_no" IS '批准文号';
COMMENT ON COLUMN "public"."t_drug"."drug_origin_no" IS '药品本位码';
COMMENT ON COLUMN "public"."t_drug"."drug_spec" IS '药品规格';
COMMENT ON COLUMN "public"."t_drug"."drug_unit" IS '药品剂量单位';
COMMENT ON COLUMN "public"."t_drug"."drug_unit_amount" IS '单位剂量';
COMMENT ON COLUMN "public"."t_drug"."drug_min_pkg" IS '最小包装单位';
COMMENT ON COLUMN "public"."t_drug"."drug_sel_pkg" IS '零售包装单位';
COMMENT ON COLUMN "public"."t_drug"."drug_package_amont" IS '最小包装数量';
COMMENT ON COLUMN "public"."t_drug"."factory_name" IS '生产厂家名称';
COMMENT ON COLUMN "public"."t_drug"."drug_note" IS '药品说明书';
COMMENT ON COLUMN "public"."t_drug"."mi_fee_type" IS '医保费用类别，如甲类
            乙类
            自费';
COMMENT ON COLUMN "public"."t_drug"."use_limit_note" IS '医保使用限制说明';
COMMENT ON COLUMN "public"."t_drug"."fee_type" IS '用于统计的费用归类，如手术费、治疗费等';
COMMENT ON TABLE "public"."t_drug" IS '医保药品目录
医院的药品信息表，需要与本表对码
';

-- ----------------------------
-- Table structure for t_drug_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drug_class";
CREATE TABLE "public"."t_drug_class" (
  "drug_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_mi_form_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "drug_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "drug_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "use_limit_note" varchar(4000) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drug_class"."drug_class_id" IS '药物分类ID';
COMMENT ON COLUMN "public"."t_drug_class"."drug_mi_form_id" IS '医保药物剂型ID';
COMMENT ON COLUMN "public"."t_drug_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_drug_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_drug_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_drug_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drug_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_drug_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_drug_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_drug_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_drug_class"."drug_class_code" IS '药物分类编号';
COMMENT ON COLUMN "public"."t_drug_class"."drug_class_name" IS '药物分类名称';
COMMENT ON COLUMN "public"."t_drug_class"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_drug_class"."mi_fee_type" IS '医保费用类别，如甲类
            乙类
            自费';
COMMENT ON COLUMN "public"."t_drug_class"."use_limit_note" IS '医保使用限制说明';

-- ----------------------------
-- Table structure for t_drug_form
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drug_form";
CREATE TABLE "public"."t_drug_form" (
  "drug_form_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "drug_form_code" varchar(50) COLLATE "pg_catalog"."default",
  "drug_form_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_use_way" varchar(50) COLLATE "pg_catalog"."default",
  "drug_effect_rang" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drug_form"."drug_form_id" IS '药物剂型ID';
COMMENT ON COLUMN "public"."t_drug_form"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_drug_form"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_drug_form"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_drug_form"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drug_form"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_drug_form"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_drug_form"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_drug_form"."note" IS '说明';
COMMENT ON COLUMN "public"."t_drug_form"."drug_form_code" IS '药品剂型编号';
COMMENT ON COLUMN "public"."t_drug_form"."drug_form_name" IS '药物剂型名称';
COMMENT ON COLUMN "public"."t_drug_form"."drug_use_way" IS '口服、注射、吸入、外用';
COMMENT ON COLUMN "public"."t_drug_form"."drug_effect_rang" IS '全身
            药物作用范围，如局部';

-- ----------------------------
-- Table structure for t_drug_pub
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drug_pub";
CREATE TABLE "public"."t_drug_pub" (
  "drug_pub_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_form_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "drug_pub_code" varchar(50) COLLATE "pg_catalog"."default",
  "drug_pub_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_note" bytea,
  "drug_unit" varchar(50) COLLATE "pg_catalog"."default",
  "drug_unit_amount" float4,
  "drug_min_pkg" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_drug_pub"."drug_pub_id" IS '药物通用名ID';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_form_id" IS '药物剂型ID';
COMMENT ON COLUMN "public"."t_drug_pub"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_drug_pub"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_drug_pub"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_drug_pub"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_drug_pub"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_drug_pub"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_drug_pub"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_drug_pub"."note" IS '说明';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_pub_code" IS '药物通用名编码';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_pub_name" IS '药品通用名';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_note" IS '药品说明书';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_unit" IS '药品剂量单位';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_unit_amount" IS '单位剂量';
COMMENT ON COLUMN "public"."t_drug_pub"."drug_min_pkg" IS '最小包装单位';

-- ----------------------------
-- Table structure for t_drug_pub_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_drug_pub_class";
CREATE TABLE "public"."t_drug_pub_class" (
  "drug_pub_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_pub_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_drug_pub_class"."drug_pub_class_id" IS '药物分类关系表ID';
COMMENT ON COLUMN "public"."t_drug_pub_class"."drug_class_id" IS '药物分类ID';
COMMENT ON COLUMN "public"."t_drug_pub_class"."drug_pub_id" IS '药物通用名ID';

-- ----------------------------
-- Table structure for t_exam_mission
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_exam_mission";
CREATE TABLE "public"."t_exam_mission" (
  "mission_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(100) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(100) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "mission_code" varchar(50) COLLATE "pg_catalog"."default",
  "mission_name" varchar(100) COLLATE "pg_catalog"."default",
  "start_dt" timestamp(6),
  "end_dt" timestamp(6),
  "leader_name" varchar(100) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_exam_mission"."mission_id" IS '自查自纠任务登记ID';
COMMENT ON COLUMN "public"."t_exam_mission"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_exam_mission"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_exam_mission"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_exam_mission"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_exam_mission"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_exam_mission"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_exam_mission"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_exam_mission"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_exam_mission"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_exam_mission"."note" IS '说明';
COMMENT ON COLUMN "public"."t_exam_mission"."mission_code" IS '自查自纠任务编号';
COMMENT ON COLUMN "public"."t_exam_mission"."mission_name" IS '自查自纠任务名称';
COMMENT ON COLUMN "public"."t_exam_mission"."start_dt" IS '任务开始日期';
COMMENT ON COLUMN "public"."t_exam_mission"."end_dt" IS '任务结束日期';
COMMENT ON COLUMN "public"."t_exam_mission"."leader_name" IS '任务负责人姓名';

-- ----------------------------
-- Table structure for t_exam_result_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_exam_result_detail";
CREATE TABLE "public"."t_exam_result_detail" (
  "result_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mission_id" varchar(50) COLLATE "pg_catalog"."default",
  "task_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default",
  "task_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "check_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "rule_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "check_result_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "visit_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6),
  "inbed_days" int4,
  "patient_no" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(100) COLLATE "pg_catalog"."default",
  "birthday" timestamp(6),
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(100) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_name" varchar(100) COLLATE "pg_catalog"."default",
  "si_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_name" varchar(100) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(100) COLLATE "pg_catalog"."default",
  "bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "bill_fee_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "item_price" numeric(12,4),
  "item_cnt" float4,
  "item_unit" varchar(50) COLLATE "pg_catalog"."default",
  "item_amt" numeric(12,2),
  "rule_code" varchar(50) COLLATE "pg_catalog"."default",
  "rule_name" varchar(100) COLLATE "pg_catalog"."default",
  "doubt_amt" numeric(12,2),
  "doubt_msg" varchar(500) COLLATE "pg_catalog"."default",
  "doubt_lev" varchar(50) COLLATE "pg_catalog"."default",
  "deduc_amt" numeric(12,2)
)
;
COMMENT ON COLUMN "public"."t_exam_result_detail"."result_detail_id" IS '自查自纠执行明细id';
COMMENT ON COLUMN "public"."t_exam_result_detail"."mission_id" IS '任务id';
COMMENT ON COLUMN "public"."t_exam_result_detail"."task_id" IS '计划id';
COMMENT ON COLUMN "public"."t_exam_result_detail"."hosp_id" IS '医院Id';
COMMENT ON COLUMN "public"."t_exam_result_detail"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."task_detail_id" IS '自查自纠任务计划明细id';
COMMENT ON COLUMN "public"."t_exam_result_detail"."inbed_bill_detail_id" IS '住院费用明细ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."check_detail_id" IS '智能审核结果明细记录ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."inbed_bill_id" IS '住院结算单ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."rule_id" IS '审核规则ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."psn_type_id" IS '医保人员类别id';
COMMENT ON COLUMN "public"."t_exam_result_detail"."check_result_id" IS '智能审核结果数据ID';
COMMENT ON COLUMN "public"."t_exam_result_detail"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."visit_code" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_exam_result_detail"."outbed_dt" IS '出院日期';
COMMENT ON COLUMN "public"."t_exam_result_detail"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_exam_result_detail"."patient_no" IS '患者编号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_exam_result_detail"."birthday" IS '出生日期';
COMMENT ON COLUMN "public"."t_exam_result_detail"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_exam_result_detail"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_exam_result_detail"."psn_type_code" IS '医保人员类别编号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."psn_type_name" IS '医保人员类别名称';
COMMENT ON COLUMN "public"."t_exam_result_detail"."si_type_code" IS '参保险种编号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."si_type_name" IS '参保险种名称';
COMMENT ON COLUMN "public"."t_exam_result_detail"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_exam_result_detail"."bill_id" IS '结算单唯一号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."bill_fee_id" IS '费用明细唯一号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."si_item_code" IS '项目编号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."si_item_name" IS '项目名称';
COMMENT ON COLUMN "public"."t_exam_result_detail"."item_price" IS '项目单价';
COMMENT ON COLUMN "public"."t_exam_result_detail"."item_cnt" IS '项目数量';
COMMENT ON COLUMN "public"."t_exam_result_detail"."item_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_exam_result_detail"."item_amt" IS '项目金额';
COMMENT ON COLUMN "public"."t_exam_result_detail"."rule_code" IS '规则编号';
COMMENT ON COLUMN "public"."t_exam_result_detail"."rule_name" IS '规则名称';
COMMENT ON COLUMN "public"."t_exam_result_detail"."doubt_amt" IS '疑点金额';
COMMENT ON COLUMN "public"."t_exam_result_detail"."doubt_msg" IS '疑点说明';
COMMENT ON COLUMN "public"."t_exam_result_detail"."doubt_lev" IS '疑点等级:疑似，高度疑似，违规';
COMMENT ON COLUMN "public"."t_exam_result_detail"."deduc_amt" IS '扣款金额';

-- ----------------------------
-- Table structure for t_exam_task
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_exam_task";
CREATE TABLE "public"."t_exam_task" (
  "task_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mission_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(100) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(100) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "task_code" varchar(50) COLLATE "pg_catalog"."default",
  "task_name" varchar(100) COLLATE "pg_catalog"."default",
  "fee_start_dt" timestamp(6),
  "fee_end_dt" timestamp(6),
  "fee_source" varchar(50) COLLATE "pg_catalog"."default",
  "total_cnt" int4,
  "total_amt" numeric(12,2),
  "total_fee_cnt" int4,
  "plan_start_dt" timestamp(6),
  "exec_start_dt" timestamp(6),
  "exec_end_dt" timestamp(6),
  "doubt_cnt" int4,
  "doubt_fee_cnt" int4,
  "deduc_amt" numeric(12,2),
  "doubt_amt" numeric(12,2)
)
;
COMMENT ON COLUMN "public"."t_exam_task"."task_id" IS '自查自纠任务计划id';
COMMENT ON COLUMN "public"."t_exam_task"."mission_id" IS '自查自纠任务登记ID';
COMMENT ON COLUMN "public"."t_exam_task"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_exam_task"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_exam_task"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_exam_task"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_exam_task"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_exam_task"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_exam_task"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_exam_task"."note" IS '说明';
COMMENT ON COLUMN "public"."t_exam_task"."task_code" IS '自查自纠任务计划编号';
COMMENT ON COLUMN "public"."t_exam_task"."task_name" IS '自查自纠任务计划名称';
COMMENT ON COLUMN "public"."t_exam_task"."fee_start_dt" IS '费用开始日期';
COMMENT ON COLUMN "public"."t_exam_task"."fee_end_dt" IS '费用结束日期';
COMMENT ON COLUMN "public"."t_exam_task"."fee_source" IS '费用来源，如全部/住院/门诊';
COMMENT ON COLUMN "public"."t_exam_task"."total_cnt" IS '总人次数';
COMMENT ON COLUMN "public"."t_exam_task"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_exam_task"."total_fee_cnt" IS '总明细笔数';
COMMENT ON COLUMN "public"."t_exam_task"."plan_start_dt" IS '计划开始时间';
COMMENT ON COLUMN "public"."t_exam_task"."exec_start_dt" IS '执行开始时间';
COMMENT ON COLUMN "public"."t_exam_task"."exec_end_dt" IS '执行结束时间';
COMMENT ON COLUMN "public"."t_exam_task"."doubt_cnt" IS '疑点人次';
COMMENT ON COLUMN "public"."t_exam_task"."doubt_fee_cnt" IS '疑点笔数';
COMMENT ON COLUMN "public"."t_exam_task"."deduc_amt" IS '扣款金额';
COMMENT ON COLUMN "public"."t_exam_task"."doubt_amt" IS '疑点金额';

-- ----------------------------
-- Table structure for t_exam_task_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_exam_task_detail";
CREATE TABLE "public"."t_exam_task_detail" (
  "task_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "medsup_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "drug_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "drug_pub_id" varchar(50) COLLATE "pg_catalog"."default",
  "rule_id" varchar(50) COLLATE "pg_catalog"."default",
  "diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "task_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "diag_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(100) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(100) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "si_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "si_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "rule_code" varchar(50) COLLATE "pg_catalog"."default",
  "rule_name" varchar(100) COLLATE "pg_catalog"."default",
  "plan_start_dt" timestamp(6),
  "exec_start_dt" timestamp(6),
  "exec_end_dt" timestamp(6),
  "total_amt" numeric(12,2),
  "total_cnt" int4,
  "total_fee_cnt" int4,
  "doubt_cnt" int4,
  "doubt_fee_cnt" int4,
  "doubt_amt" numeric(12,2),
  "deduc_amt" numeric(12,2)
)
;
COMMENT ON COLUMN "public"."t_exam_task_detail"."task_detail_id" IS '自查自纠任务计划明细id';
COMMENT ON COLUMN "public"."t_exam_task_detail"."medsup_class_id" IS '医用耗材分类ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."drug_class_id" IS '药物分类ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."drug_pub_id" IS '药品通用名ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."rule_id" IS '规则id';
COMMENT ON COLUMN "public"."t_exam_task_detail"."diag_id" IS '医疗服务项目ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."task_id" IS '自查自纠任务计划id';
COMMENT ON COLUMN "public"."t_exam_task_detail"."diag_class_id" IS '医疗服务项目分类ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_exam_task_detail"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_exam_task_detail"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_exam_task_detail"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_exam_task_detail"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_exam_task_detail"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_exam_task_detail"."note" IS '说明';
COMMENT ON COLUMN "public"."t_exam_task_detail"."si_item_code" IS '项目编号';
COMMENT ON COLUMN "public"."t_exam_task_detail"."si_item_name" IS '项目名称';
COMMENT ON COLUMN "public"."t_exam_task_detail"."rule_code" IS '规则编号';
COMMENT ON COLUMN "public"."t_exam_task_detail"."rule_name" IS '规则名称';
COMMENT ON COLUMN "public"."t_exam_task_detail"."plan_start_dt" IS '计划开始时间';
COMMENT ON COLUMN "public"."t_exam_task_detail"."exec_start_dt" IS '执行开始时间';
COMMENT ON COLUMN "public"."t_exam_task_detail"."exec_end_dt" IS '执行结束时间';
COMMENT ON COLUMN "public"."t_exam_task_detail"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_exam_task_detail"."total_cnt" IS '总人次数';
COMMENT ON COLUMN "public"."t_exam_task_detail"."total_fee_cnt" IS '总明细笔数';
COMMENT ON COLUMN "public"."t_exam_task_detail"."doubt_cnt" IS '疑点人次';
COMMENT ON COLUMN "public"."t_exam_task_detail"."doubt_fee_cnt" IS '疑点笔数';
COMMENT ON COLUMN "public"."t_exam_task_detail"."doubt_amt" IS '疑点金额';
COMMENT ON COLUMN "public"."t_exam_task_detail"."deduc_amt" IS '扣款金额';

-- ----------------------------
-- Table structure for t_hosp_advice
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_advice";
CREATE TABLE "public"."t_hosp_advice" (
  "advice_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "advice_code" varchar(50) COLLATE "pg_catalog"."default",
  "advice_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_advice"."advice_id" IS '医院临床医嘱id';
COMMENT ON COLUMN "public"."t_hosp_advice"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_advice"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_advice"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_advice"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_advice"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_advice"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_advice"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_advice"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_advice"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_advice"."advice_code" IS '医院临床医嘱编号';
COMMENT ON COLUMN "public"."t_hosp_advice"."advice_name" IS '医院临床医嘱名称';
COMMENT ON TABLE "public"."t_hosp_advice" IS '医院临床医嘱';

-- ----------------------------
-- Table structure for t_hosp_advice_fee
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_advice_fee";
CREATE TABLE "public"."t_hosp_advice_fee" (
  "advice_fee_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "advice_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "price_cnt" float4
)
;
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."advice_fee_id" IS '医院医嘱费用明细id';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."advice_id" IS '医院临床医嘱id';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."fee_item_code" IS '医院收费项目编号';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."fee_item_name" IS '医院收费项目名称';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_hosp_advice_fee"."price_cnt" IS '计价数量';
COMMENT ON TABLE "public"."t_hosp_advice_fee" IS '医院医嘱费用明细';

-- ----------------------------
-- Table structure for t_hosp_chi_drug_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_chi_drug_d";
CREATE TABLE "public"."t_hosp_chi_drug_d" (
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "chi_drug_code" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_name" varchar(200) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_account_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."drug_id" IS '药品ID';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."chi_drug_code" IS '中药饮片编号';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."chi_drug_name" IS '中药饮片名称';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."hosp_account_type_id" IS '会计科目分类id';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."hosp_page_fee_type_id" IS '病案首页费用分类id';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."hosp_fee_type_id" IS '收费票据分类id';
COMMENT ON COLUMN "public"."t_hosp_chi_drug_d"."fee_item_type_id" IS '医院费用类别id';

-- ----------------------------
-- Table structure for t_hosp_clinical_path
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_clinical_path";
CREATE TABLE "public"."t_hosp_clinical_path" (
  "clinical_path_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "clinical_path_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "clinical_path_code" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_inbed_days" int4,
  "pre_amt_max" numeric(10,2),
  "pre_amt_min" numeric(10,2)
)
;
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."clinical_path_id" IS '医院临床路径id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."clinical_path_type_id" IS '临床路径类别id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."clinical_path_code" IS '医院临床路径编号';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."clinical_path_name" IS '医院临床路径名称';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."pre_inbed_days" IS '预计住院天数';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."pre_amt_max" IS '预计最大总费用';
COMMENT ON COLUMN "public"."t_hosp_clinical_path"."pre_amt_min" IS '预计最小总费用';
COMMENT ON TABLE "public"."t_hosp_clinical_path" IS '医院临床路径';

-- ----------------------------
-- Table structure for t_hosp_clinical_path_cost
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_clinical_path_cost";
CREATE TABLE "public"."t_hosp_clinical_path_cost" (
  "clinical_path_cost_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_path_cost_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_cnt" float4,
  "day_index" int4,
  "fee_item_amt" numeric(10,2),
  "drug_amt" numeric(10,2),
  "diag_amt" numeric(10,2),
  "medsup_amt" numeric(10,2),
  "total_cost" numeric(10,2),
  "drug_cost" numeric(10,2),
  "diag_cost" numeric(10,2),
  "medsup_cost" numeric(10,2),
  "pre_cnt" float4,
  "pre_amt" numeric(12,2),
  "fee_item_price" numeric(10,4),
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "clinical_path_detail_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."clinical_path_cost_id" IS '住院患者临床路径核算id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."inbed_path_cost_id" IS '住院患者核算id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."fee_item_code" IS '医院收费项目编号';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."fee_item_name" IS '医院收费项目名称';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."fee_item_cnt" IS '项目数量';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."day_index" IS '第几日';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."fee_item_amt" IS '项目金额';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."medsup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."total_cost" IS '成本金额';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."drug_cost" IS '药品成本';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."diag_cost" IS '医疗服务成本';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."medsup_cost" IS '耗材成本';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."pre_cnt" IS '路径预定数量';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."pre_amt" IS '路径预定金额';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."fee_item_price" IS '零售单价';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."clinical_path_detail_id" IS '医院临床路径明细id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_cost"."inbed_reg_id" IS '住院登记id';
COMMENT ON TABLE "public"."t_hosp_clinical_path_cost" IS '住院患者临床路径核算';

-- ----------------------------
-- Table structure for t_hosp_clinical_path_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_clinical_path_detail";
CREATE TABLE "public"."t_hosp_clinical_path_detail" (
  "clinical_path_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "advice_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(2000) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "price_cnt" float4,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "day_index" int4,
  "clinical_path_step_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."clinical_path_detail_id" IS '医院临床路径明细id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."advice_id" IS '医院临床医嘱id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."clinical_path_id" IS '医院临床路径id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."fee_item_code" IS '医院收费项目编号';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."fee_item_name" IS '医院收费项目名称';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."price_cnt" IS '计价数量';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."day_index" IS '第几日';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_detail"."clinical_path_step_id" IS '临床路径步骤id';
COMMENT ON TABLE "public"."t_hosp_clinical_path_detail" IS '医院临床路径明细';

-- ----------------------------
-- Table structure for t_hosp_clinical_path_icd
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_clinical_path_icd";
CREATE TABLE "public"."t_hosp_clinical_path_icd" (
  "clinical_path_ic_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(2000) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."clinical_path_ic_id" IS '医院临床路径病种id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."icd9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."clinical_path_id" IS '医院临床路径id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_icd"."icd_name" IS 'ICD名称';
COMMENT ON TABLE "public"."t_hosp_clinical_path_icd" IS '医院临床路径病种';

-- ----------------------------
-- Table structure for t_hosp_clinical_path_step
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_clinical_path_step";
CREATE TABLE "public"."t_hosp_clinical_path_step" (
  "clinical_path_step_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "clinical_path_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "clinical_path_step_code" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_step_name" varchar(200) COLLATE "pg_catalog"."default",
  "step_max_day" int4,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."clinical_path_step_id" IS '临床路径步骤id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."clinical_path_id" IS '临床路径id';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."clinical_path_step_code" IS '临床路径步骤编号';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."clinical_path_step_name" IS '临床路径步骤名称';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."step_max_day" IS '最大天数';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_clinical_path_step"."note" IS '说明';
COMMENT ON TABLE "public"."t_hosp_clinical_path_step" IS '临床路径步骤';

-- ----------------------------
-- Table structure for t_hosp_dep_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_dep_d";
CREATE TABLE "public"."t_hosp_dep_d" (
  "dep_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "is_wardarea" int2,
  "aprv_bed_cnt" int4,
  "dep_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_dep_d"."dep_id" IS '科室病区ID';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."dep_code" IS '科室病区编号';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."dep_name" IS '科室病区名称';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."is_wardarea" IS '是否病区';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."aprv_bed_cnt" IS '批准床位数量';
COMMENT ON COLUMN "public"."t_hosp_dep_d"."dep_type_id" IS '科室类别ID';

-- ----------------------------
-- Table structure for t_hosp_diag_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_diag_d";
CREATE TABLE "public"."t_hosp_diag_d" (
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_diag_name" varchar(200) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "price_note" varchar(4000) COLLATE "pg_catalog"."default",
  "diag_except" varchar(4000) COLLATE "pg_catalog"."default",
  "diag_content" varchar(4000) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "diag_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_account_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "medical_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."diag_id" IS '医保医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_diag_code" IS '医院医疗服务项目编码';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_diag_name" IS '医院医疗服务项目名称';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."price_note" IS '计价说明';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."diag_except" IS '除外内容';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."diag_content" IS '项目内涵';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_account_type_id" IS '会计科目分类id';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_page_fee_type_id" IS '病案首页费用分类id';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."hosp_fee_type_id" IS '收费票据分类id';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."medical_diag_id" IS '卫健委医疗服务项目id';
COMMENT ON COLUMN "public"."t_hosp_diag_d"."fee_item_type_id" IS '医院费用类别id';

-- ----------------------------
-- Table structure for t_hosp_diag_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_diag_type";
CREATE TABLE "public"."t_hosp_diag_type" (
  "diag_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "diag_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "diag_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_diag_type"."diag_type_id" IS '医院医疗服务项目分类id';
COMMENT ON COLUMN "public"."t_hosp_diag_type"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_hosp_diag_type"."diag_type_code" IS '医院医疗服务项目分类编号';
COMMENT ON COLUMN "public"."t_hosp_diag_type"."diag_type_name" IS '医院医疗服务项目分类名称';

-- ----------------------------
-- Table structure for t_hosp_drg_dip_cnf
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_drg_dip_cnf";
CREATE TABLE "public"."t_hosp_drg_dip_cnf" (
  "drg_dip_cnf_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "psn_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "year" varchar(50) COLLATE "pg_catalog"."default",
  "value" float4,
  "fee_avg" numeric(12,2),
  "fee_std" numeric(12,2),
  "high_rate" numeric(12,4),
  "low_rate" numeric(12,4)
)
;
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."drg_dip_cnf_id" IS 'DRGDIP配置表ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."psn_type_id" IS '医保人员类别id';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."si_type_id" IS '参保险种类型ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."status" IS '正常作废';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."year" IS '年度';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."value" IS '分值';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."fee_avg" IS '平均费用';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."fee_std" IS '清算标准';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."high_rate" IS '高倍率系数';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_cnf"."low_rate" IS '低倍率系数';

-- ----------------------------
-- Table structure for t_hosp_drg_dip_values
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_drg_dip_values";
CREATE TABLE "public"."t_hosp_drg_dip_values" (
  "drg_dip_values_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "year" varchar(50) COLLATE "pg_catalog"."default",
  "value" float4,
  "fee_avg" numeric(12,2),
  "fee_std" numeric(12,2),
  "inbed_days_avg" float4,
  "rate" float4
)
;
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."drg_dip_values_id" IS 'DRGDIP年度分值ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."status" IS '正常作废';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."year" IS '年度';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."value" IS '分值';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."fee_avg" IS '平均费用';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."fee_std" IS '清算标准';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."inbed_days_avg" IS '平均住院日';
COMMENT ON COLUMN "public"."t_hosp_drg_dip_values"."rate" IS '分值计算费率';

-- ----------------------------
-- Table structure for t_hosp_drug_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_drug_d";
CREATE TABLE "public"."t_hosp_drug_d" (
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_drug_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_sel_name" varchar(200) COLLATE "pg_catalog"."default",
  "drug_permit_no" varchar(50) COLLATE "pg_catalog"."default",
  "drug_origin_no" varchar(50) COLLATE "pg_catalog"."default",
  "drug_spec" varchar(500) COLLATE "pg_catalog"."default",
  "drug_unit" varchar(50) COLLATE "pg_catalog"."default",
  "drug_unit_amount" float4,
  "drug_min_pkg" varchar(50) COLLATE "pg_catalog"."default",
  "drug_package_amont" int4,
  "drug_sel_pkg" varchar(50) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_prep_flag" int2,
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_account_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_id" IS '药品ID';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_drug_code" IS '医院药品编号';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_drug_name" IS '医院药品名称';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_sel_name" IS '药品商品名';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_permit_no" IS '批准文号';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_origin_no" IS '药品本位码';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_spec" IS '药品规格';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_unit" IS '药品剂量单位';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_unit_amount" IS '单位剂量';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_min_pkg" IS '最小包装单位';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_package_amont" IS '最小包装数量';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."drug_sel_pkg" IS '零售包装单位';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."factory_name" IS '生产厂家名称';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_prep_flag" IS '是否医院制剂';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_account_type_id" IS '会计科目分类id';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_page_fee_type_id" IS '病案首页费用分类id';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."hosp_fee_type_id" IS '收费票据分类id';
COMMENT ON COLUMN "public"."t_hosp_drug_d"."fee_item_type_id" IS '医院费用类别id';

-- ----------------------------
-- Table structure for t_hosp_fee_item_cost
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_fee_item_cost";
CREATE TABLE "public"."t_hosp_fee_item_cost" (
  "fee_item_cost_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_price" numeric(12,4),
  "purchasing_cost" numeric(12,4),
  "operating_cost" numeric(12,4),
  "apportioned_cost" numeric(12,4),
  "final_cost" numeric(12,4),
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "cost_note" varchar(1000) COLLATE "pg_catalog"."default",
  "begin_dt" timestamp(6),
  "end_dt" timestamp(6),
  "final_cost_rate" numeric(12,4),
  "cost_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."fee_item_cost_id" IS '医院收费项目成本id';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."fee_item_code" IS '医院收费项目编号';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."fee_item_name" IS '医院收费项目名称';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."fee_item_price" IS '零售单价';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."purchasing_cost" IS '采购成本';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."operating_cost" IS '运营成本';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."apportioned_cost" IS '分摊成本';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."final_cost" IS '最终成本';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."cost_note" IS '成本说明';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."begin_dt" IS '有效开始日期';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."end_dt" IS '有效结束日期';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."final_cost_rate" IS '最终成本费率';
COMMENT ON COLUMN "public"."t_hosp_fee_item_cost"."cost_type_id" IS '成本核算类别id';
COMMENT ON TABLE "public"."t_hosp_fee_item_cost" IS '医院收费项目成本';

-- ----------------------------
-- Table structure for t_hosp_fee_item_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_fee_item_type";
CREATE TABLE "public"."t_hosp_fee_item_type" (
  "fee_item_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "fee_item_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(4000) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."fee_item_type_id" IS '医院费用类别id';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."fee_item_type_code" IS '医院费用类别编号';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."fee_item_type_name" IS '医院费用类别名称';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_fee_item_type"."note" IS '说明';
COMMENT ON TABLE "public"."t_hosp_fee_item_type" IS '医院费用类别字典';

-- ----------------------------
-- Table structure for t_hosp_fee_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_fee_type";
CREATE TABLE "public"."t_hosp_fee_type" (
  "hosp_fee_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_fee_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_fee_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "final_cost_rate" numeric(12,4)
)
;
COMMENT ON COLUMN "public"."t_hosp_fee_type"."hosp_fee_type_id" IS '收费票据分类id';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."hosp_fee_type_code" IS '收费票据分类编号';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."hosp_fee_type_name" IS '收费票据分类名称';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_hosp_fee_type"."final_cost_rate" IS '成本核算比例';
COMMENT ON TABLE "public"."t_hosp_fee_type" IS '卫健委收费票据分类';

-- ----------------------------
-- Table structure for t_hosp_inbed_item_cost
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_inbed_item_cost";
CREATE TABLE "public"."t_hosp_inbed_item_cost" (
  "inbed_item_cost_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_cost_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_bill_detail_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_cost_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "inbed_path_cost_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_price" numeric(12,4),
  "purchasing_cost" numeric(12,4),
  "operating_cost" numeric(12,4),
  "apportioned_cost" numeric(12,4),
  "final_cost" numeric(12,4),
  "fee_item_cnt" numeric(12,4),
  "fee_item_amt" numeric(10,2),
  "total_cost" numeric(10,2),
  "fee_item_dt" timestamp(6),
  "cost_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "performance" numeric(10,2)
)
;
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."inbed_item_cost_id" IS '住院患者成本核算id';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."hosp_diag_id" IS '医疗机构医疗服务项目ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_cost_id" IS '医院收费项目成本id';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."inbed_bill_detail_id" IS '住院费用明细ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."chi_drug_id" IS '中药饮片ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."clinical_path_cost_id" IS '住院患者临床路径核算id';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."hosp_drug_id" IS '西药中成药ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."inbed_path_cost_id" IS '住院患者核算id';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_code" IS '医院收费项目编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_name" IS '医院收费项目名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_price" IS '零售单价';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."purchasing_cost" IS '采购成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."operating_cost" IS '运营成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."apportioned_cost" IS '分摊成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."final_cost" IS '最终成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_cnt" IS '项目数量';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_amt" IS '项目金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."total_cost" IS '成本金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."fee_item_dt" IS '收费时间';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."cost_type_id" IS '成本核算类别id';
COMMENT ON COLUMN "public"."t_hosp_inbed_item_cost"."performance" IS '绩效值';
COMMENT ON TABLE "public"."t_hosp_inbed_item_cost" IS '住院患者成本核算';

-- ----------------------------
-- Table structure for t_hosp_inbed_path_cost
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_inbed_path_cost";
CREATE TABLE "public"."t_hosp_inbed_path_cost" (
  "inbed_path_cost_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "team_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_id" varchar(50) COLLATE "pg_catalog"."default",
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "opt_lev_id" varchar(50) COLLATE "pg_catalog"."default",
  "chs_ver_id" varchar(50) COLLATE "pg_catalog"."default",
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_id" varchar(50) COLLATE "pg_catalog"."default",
  "risk_lev_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "patient_name" varchar(200) COLLATE "pg_catalog"."default",
  "birth_day" timestamp(6),
  "gender_id" varchar(50) COLLATE "pg_catalog"."default",
  "gender_code" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(200) COLLATE "pg_catalog"."default",
  "paymtd_id" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_code" varchar(50) COLLATE "pg_catalog"."default",
  "paymtd_name" varchar(200) COLLATE "pg_catalog"."default",
  "org_code" varchar(50) COLLATE "pg_catalog"."default",
  "org_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_reg_code" varchar(50) COLLATE "pg_catalog"."default",
  "visit_id" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_dt" timestamp(6),
  "outbed_dt" timestamp(6),
  "inbed_days" int4,
  "outbed_dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_dep_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_area_id" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_area_code" varchar(50) COLLATE "pg_catalog"."default",
  "outbed_area_name" varchar(200) COLLATE "pg_catalog"."default",
  "outbed_bed_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_id" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_atten_name" varchar(200) COLLATE "pg_catalog"."default",
  "dr_resid_id" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_code" varchar(50) COLLATE "pg_catalog"."default",
  "dr_resid_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_result" varchar(50) COLLATE "pg_catalog"."default",
  "total_amt" numeric(10,2),
  "drug_amt" numeric(10,2),
  "diag_amt" numeric(10,2),
  "medsup_amt" numeric(10,2),
  "total_cost" numeric(10,2),
  "drug_cost" numeric(10,2),
  "diag_cost" numeric(10,2),
  "medsup_cost" numeric(10,2),
  "chs_ver_name" varchar(200) COLLATE "pg_catalog"."default",
  "chs_ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_diag" varchar(200) COLLATE "pg_catalog"."default",
  "main_opt_code" varchar(50) COLLATE "pg_catalog"."default",
  "main_opt" varchar(200) COLLATE "pg_catalog"."default",
  "group_code" varchar(50) COLLATE "pg_catalog"."default",
  "group_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_point" float4,
  "mdc_id" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "group_pay_std" numeric(10,2),
  "group_def_amt" numeric(10,2),
  "mi_rel_pay_amt" numeric(10,2),
  "mi_def_amt" numeric(10,2),
  "clinical_path_code" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_inbed_days" int4,
  "pre_amt_max" numeric(10,2),
  "pre_amt_min" numeric(10,2),
  "clinical_path_def_amt" numeric(10,2),
  "disease_type" varchar(50) COLLATE "pg_catalog"."default",
  "si_case_type" varchar(50) COLLATE "pg_catalog"."default",
  "detail_cnt" int4,
  "incom" float4,
  "performance" numeric(10,2)
)
;
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."inbed_path_cost_id" IS '住院患者核算id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."team_id" IS '医疗小组id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."icd9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."opt_lev_id" IS '手术分级id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."chs_ver_id" IS '医保版本ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."clinical_path_id" IS '医院临床路径id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."risk_lev_id" IS '风险等级id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."inbed_reg_id" IS '住院登记ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."birth_day" IS '出生日期';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."gender_id" IS '性别id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."gender_code" IS '性别代码';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."paymtd_id" IS '医保支付方式ID';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."paymtd_code" IS '医保支付方式编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."paymtd_name" IS '医保支付方式名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."org_code" IS '医保统筹区编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."org_name" IS '医保统筹区名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."inbed_reg_code" IS '住院号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."visit_id" IS '就诊唯一号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."inbed_dt" IS '入院日期';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_dt" IS '出院日期';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_dep_id" IS '出院科室id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_dep_code" IS '出院科室编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_dep_name" IS '出院科室名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_area_id" IS '出院病区id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_area_code" IS '出院病区编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_area_name" IS '出院病区名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."outbed_bed_code" IS '出院病区床号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dr_atten_id" IS '主管医生id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dr_atten_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dr_atten_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dr_resid_id" IS '管床医生id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dr_resid_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."dr_resid_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."inbed_result" IS '出院情况';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."medsup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."total_cost" IS '成本金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."drug_cost" IS '药品成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."diag_cost" IS '医疗服务成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."medsup_cost" IS '耗材成本';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."chs_ver_name" IS '医保版本名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."chs_ver_code" IS '医保版本编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."main_diag_code" IS '主要诊断编码';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."main_diag" IS '主要诊断';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."main_opt_code" IS '主要手术操作编码';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."main_opt" IS '主要手术操作';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."group_code" IS '分组编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."group_name" IS '分组名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."group_point" IS '分组点值';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."mdc_id" IS 'MDC分组id';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."mdc_code" IS 'MDC编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."mdc_name" IS 'MDC名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."group_pay_std" IS '分组预测支付标准';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."group_def_amt" IS '预测支付差异金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."mi_rel_pay_amt" IS '医保清算金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."mi_def_amt" IS '实际支付差异金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."clinical_path_code" IS '医院临床路径编号';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."clinical_path_name" IS '医院临床路径名称';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."pre_inbed_days" IS '预计住院天数';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."pre_amt_max" IS '预计最大总费用';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."pre_amt_min" IS '预计最小总费用';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."clinical_path_def_amt" IS '临床路径差异金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."disease_type" IS '病种类别';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."si_case_type" IS '清算病例类型';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."detail_cnt" IS '明细笔数';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."incom" IS '认同收入金额';
COMMENT ON COLUMN "public"."t_hosp_inbed_path_cost"."performance" IS '绩效值';
COMMENT ON TABLE "public"."t_hosp_inbed_path_cost" IS '住院患者核算记录';

-- ----------------------------
-- Table structure for t_hosp_indicator_result
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_indicator_result";
CREATE TABLE "public"."t_hosp_indicator_result" (
  "indicator_result_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dip_id" varchar(50) COLLATE "pg_catalog"."default",
  "indicator_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "clinical_path_id" varchar(50) COLLATE "pg_catalog"."default",
  "team_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "indicator_caliber_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "drg_id" varchar(50) COLLATE "pg_catalog"."default",
  "month_year" varchar(50) COLLATE "pg_catalog"."default",
  "latitude_code" varchar(50) COLLATE "pg_catalog"."default",
  "latitude_name" varchar(200) COLLATE "pg_catalog"."default",
  "indicator_result" float4
)
;
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."indicator_result_id" IS '医院指标统计结果id';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."dip_id" IS 'DIP分组ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."indicator_id" IS '医院统计指标id';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."clinical_path_id" IS '医院临床路径id';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."team_id" IS '医疗小组id';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."dep_id" IS '科室病区ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."indicator_caliber_id" IS '指标统计口径id';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."drg_id" IS 'DRG分组ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."month_year" IS '月度';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."latitude_code" IS '统计维度编号';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."latitude_name" IS '统计维度名称';
COMMENT ON COLUMN "public"."t_hosp_indicator_result"."indicator_result" IS '统计结果';
COMMENT ON TABLE "public"."t_hosp_indicator_result" IS '医院指标统计结果';

-- ----------------------------
-- Table structure for t_hosp_indicator_union
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_indicator_union";
CREATE TABLE "public"."t_hosp_indicator_union" (
  "indicator_union_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "indicator_caliber_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "indicator_prg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "indicator_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."indicator_union_id" IS '医院指标统计配置id';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."indicator_caliber_id" IS '指标统计口径id';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."indicator_prg_id" IS '指标统计算法id';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."indicator_id" IS '医院统计指标id';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_indicator_union"."note" IS '说明';
COMMENT ON TABLE "public"."t_hosp_indicator_union" IS '医院指标统计配置';

-- ----------------------------
-- Table structure for t_hosp_info
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_info";
CREATE TABLE "public"."t_hosp_info" (
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_name" varchar(200) COLLATE "pg_catalog"."default",
  "data_source" varchar(50) COLLATE "pg_catalog"."default",
  "platform_hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "use_medical_icd" int2,
  "hosp_rate" float4,
  "use_medical_icd9" int2,
  "use_medical_icd2" int2,
  "use_medical_icd92" int2,
  "use_medical_icd3" int2,
  "use_medical_icd93" int2,
  "use_medical_icd4" int2,
  "use_medical_icd94" int2
)
;
COMMENT ON COLUMN "public"."t_hosp_info"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_info"."hosp_type_id" IS '医院类别id';
COMMENT ON COLUMN "public"."t_hosp_info"."org_id" IS '统筹区id';
COMMENT ON COLUMN "public"."t_hosp_info"."hosp_lev_id" IS '医院等级id';
COMMENT ON COLUMN "public"."t_hosp_info"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_info"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_info"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_info"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_info"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_info"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_info"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_info"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_info"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_hosp_info"."hosp_name" IS '医疗机构名称';
COMMENT ON COLUMN "public"."t_hosp_info"."data_source" IS '数据源：接口推送\数据库视图\平台接口';
COMMENT ON COLUMN "public"."t_hosp_info"."platform_hosp_code" IS '平台中医院编号';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd" IS '事前、事中是否使用临床版ICD10';
COMMENT ON COLUMN "public"."t_hosp_info"."hosp_rate" IS '医院DRG/DIP费率';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd9" IS '事前、事中是否使用临床版ICD9';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd2" IS '事后是否使用临床版ICD10';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd92" IS '事后是否使用临床版ICD9';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd3" IS '门诊是否使用临床版ICD10';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd93" IS '门诊是否使用临床版ICD9';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd4" IS '分组是否使用临床版ICD10';
COMMENT ON COLUMN "public"."t_hosp_info"."use_medical_icd94" IS '分组是否使用临床版ICD9';

-- ----------------------------
-- Table structure for t_hosp_item_workload
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_item_workload";
CREATE TABLE "public"."t_hosp_item_workload" (
  "item_workload_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_bill" float4,
  "inbed_exec" float4,
  "inbed_nurse" float4,
  "inbed_other" float4,
  "outbed_bill" float4,
  "outbed_exec" float4,
  "outbed_nurse" float4,
  "outbed_other" float4,
  "begin_dt" timestamp(6),
  "end_dt" timestamp(6),
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "inbed_value" float4,
  "outbed_value" float4
)
;
COMMENT ON COLUMN "public"."t_hosp_item_workload"."item_workload_id" IS '医院收费项目工作量配置id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."hosp_diag_id" IS '医院医疗服务项目id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."hosp_drug_id" IS '医院药品id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."hosp_med_sup_id" IS '医院耗材id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."chi_drug_id" IS '医院中药饮片id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."fee_item_code" IS '费用项目编号';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."fee_item_name" IS '费用项目名称';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."inbed_bill" IS '住院开单点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."inbed_exec" IS '住院执行点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."inbed_nurse" IS '住院护理点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."inbed_other" IS '住院其他点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."outbed_bill" IS '门诊开单点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."outbed_exec" IS '门诊执行点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."outbed_nurse" IS '门诊护理点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."outbed_other" IS '门诊其他点数';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."begin_dt" IS '有效开始日期';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."end_dt" IS '有效结束日期';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."status" IS '正常作废';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."inbed_value" IS '住院点值';
COMMENT ON COLUMN "public"."t_hosp_item_workload"."outbed_value" IS '门诊点值';

-- ----------------------------
-- Table structure for t_hosp_medsup_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_medsup_d";
CREATE TABLE "public"."t_hosp_medsup_d" (
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_medsup_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_medsup_name" varchar(200) COLLATE "pg_catalog"."default",
  "reg_no" varchar(50) COLLATE "pg_catalog"."default",
  "reg_name" varchar(500) COLLATE "pg_catalog"."default",
  "pro_mod" varchar(50) COLLATE "pg_catalog"."default",
  "sup_matrl" varchar(500) COLLATE "pg_catalog"."default",
  "sup_spec" varchar(500) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default",
  "mi_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_account_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_medsup_code" IS '医院医用耗材编码';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_medsup_name" IS '医院医用耗材名称';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."reg_no" IS '注册备案号';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."reg_name" IS '注册备案产品名称';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."pro_mod" IS '产品型号';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."sup_matrl" IS '耗材材质';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."sup_spec" IS '耗材规格（特征）';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."factory_name" IS '生产厂家名称';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."mi_item_code" IS '医保码';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_account_type_id" IS '会计科目分类id';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_page_fee_type_id" IS '病案首页费用分类id';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."hosp_fee_type_id" IS '收费票据分类id';
COMMENT ON COLUMN "public"."t_hosp_medsup_d"."fee_item_type_id" IS '医院费用类别id';

-- ----------------------------
-- Table structure for t_hosp_opt_lev_icd
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_opt_lev_icd";
CREATE TABLE "public"."t_hosp_opt_lev_icd" (
  "opt_lev_icd_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "opt_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."opt_lev_icd_id" IS '医院手术分级id';
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."icd9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."opt_lev_id" IS '手术分级id';
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_hosp_opt_lev_icd"."icd_code" IS 'ICD编码';
COMMENT ON TABLE "public"."t_hosp_opt_lev_icd" IS '医院手术分级';

-- ----------------------------
-- Table structure for t_hosp_psn_d
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_psn_d";
CREATE TABLE "public"."t_hosp_psn_d" (
  "psn_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "psn_code" varchar(50) COLLATE "pg_catalog"."default",
  "psn_name" varchar(200) COLLATE "pg_catalog"."default",
  "med_psn_type" varchar(50) COLLATE "pg_catalog"."default",
  "doctor_title" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_psn_d"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."psn_code" IS '医务人员编号';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."psn_name" IS '医务人员姓名';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."med_psn_type" IS '参照字典';
COMMENT ON COLUMN "public"."t_hosp_psn_d"."doctor_title" IS '医生职称编号';
COMMENT ON TABLE "public"."t_hosp_psn_d" IS '医务人员类别和职称参照值域表中的对应记录';

-- ----------------------------
-- Table structure for t_hosp_psn_dep
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_psn_dep";
CREATE TABLE "public"."t_hosp_psn_dep" (
  "psn_dep_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "psn_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dep_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;
COMMENT ON COLUMN "public"."t_hosp_psn_dep"."psn_dep_id" IS '医务人员科室信息id';
COMMENT ON COLUMN "public"."t_hosp_psn_dep"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_hosp_psn_dep"."dep_id" IS '科室病区ID';

-- ----------------------------
-- Table structure for t_hosp_psn_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_psn_f";
CREATE FOREIGN TABLE "public"."t_hosp_psn_f" (
  "hosp_code" varchar COLLATE "pg_catalog"."default",
  "psn_code" varchar COLLATE "pg_catalog"."default",
  "psn_name" varchar COLLATE "pg_catalog"."default",
  "medins_psn_type" varchar COLLATE "pg_catalog"."default",
  "drord_dr_profttl" varchar COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_HOSP_PSN')
;

-- ----------------------------
-- Table structure for t_hosp_risk_icd
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_risk_icd";
CREATE TABLE "public"."t_hosp_risk_icd" (
  "risk_icd_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "risk_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."risk_icd_id" IS '风险icd配置id';
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."risk_lev_id" IS '风险等级id';
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_hosp_risk_icd"."icd_name" IS 'ICD名称';
COMMENT ON TABLE "public"."t_hosp_risk_icd" IS '医院高中低风险icd配置';

-- ----------------------------
-- Table structure for t_hosp_rule
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_rule";
CREATE TABLE "public"."t_hosp_rule" (
  "hosp_rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "rule_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "enable_pres" int2,
  "enable_before" int2,
  "enable_during" int2,
  "enable_after" int2,
  "is_deduc" int2,
  "vola_cont_tmp" varchar(4000) COLLATE "pg_catalog"."default",
  "sev_deg" varchar(50) COLLATE "pg_catalog"."default",
  "fee_source" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_rule"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_rule"."rule_id" IS '审核规则ID';
COMMENT ON COLUMN "public"."t_hosp_rule"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_rule"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_rule"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_rule"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_rule"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_rule"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_rule"."status" IS '正常  作废';
COMMENT ON COLUMN "public"."t_hosp_rule"."note" IS '备注';
COMMENT ON COLUMN "public"."t_hosp_rule"."is_deduc" IS '违规内容描述模版';
COMMENT ON COLUMN "public"."t_hosp_rule"."vola_cont_tmp" IS '违规内容描述模版';
COMMENT ON COLUMN "public"."t_hosp_rule"."sev_deg" IS '严重程度';
COMMENT ON COLUMN "public"."t_hosp_rule"."fee_source" IS '费用来源';

-- ----------------------------
-- Table structure for t_hosp_team
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_team";
CREATE TABLE "public"."t_hosp_team" (
  "team_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "psn_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dep_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "team_code" varchar(50) COLLATE "pg_catalog"."default",
  "team_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_team"."team_id" IS '医疗小组id';
COMMENT ON COLUMN "public"."t_hosp_team"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_team"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_hosp_team"."dep_id" IS '科室病区ID';
COMMENT ON COLUMN "public"."t_hosp_team"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_hosp_team"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_hosp_team"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_hosp_team"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_team"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_hosp_team"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_hosp_team"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_hosp_team"."note" IS '说明';
COMMENT ON COLUMN "public"."t_hosp_team"."team_code" IS '医疗小组编号';
COMMENT ON COLUMN "public"."t_hosp_team"."team_name" IS '医疗小组名称';
COMMENT ON TABLE "public"."t_hosp_team" IS '医院医疗小组';

-- ----------------------------
-- Table structure for t_hosp_user_authorize
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_hosp_user_authorize";
CREATE TABLE "public"."t_hosp_user_authorize" (
  "user_authorize_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dep_id" varchar(50) COLLATE "pg_catalog"."default",
  "psn_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "user_id" char(38) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."dep_id" IS '科室病区ID';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."psn_id" IS '医务人员ID';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."hosp_id" IS '医疗机构ID';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."status" IS '正常
            作废';
COMMENT ON COLUMN "public"."t_hosp_user_authorize"."note" IS '备注';
COMMENT ON TABLE "public"."t_hosp_user_authorize" IS '医院操作员授权';

-- ----------------------------
-- Table structure for t_icd10
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_icd10";
CREATE TABLE "public"."t_icd10" (
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "tumor_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd10_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_icd10"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_icd10"."tumor_type_id" IS '肿瘤细胞类型ID';
COMMENT ON COLUMN "public"."t_icd10"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_icd10"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_icd10"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_icd10"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_icd10"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_icd10"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_icd10"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_icd10"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_icd10"."note" IS '说明';
COMMENT ON COLUMN "public"."t_icd10"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_icd10"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_icd10"."icd10_type" IS 'ICD10编码
            肿瘤形态学分类
            中医疾病分类
            中医症候分类';
COMMENT ON TABLE "public"."t_icd10" IS '医保ICD10编码表
';

-- ----------------------------
-- Table structure for t_icd10_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_icd10_class";
CREATE TABLE "public"."t_icd10_class" (
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "icd10_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_icd10_class"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_icd10_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_icd10_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_icd10_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_icd10_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_icd10_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_icd10_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_icd10_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_icd10_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_icd10_class"."icd10_class_code" IS 'ICD10分类编码';
COMMENT ON COLUMN "public"."t_icd10_class"."icd10_class_name" IS 'ICD10分类名称';
COMMENT ON COLUMN "public"."t_icd10_class"."parent_id" IS '上级分类ID';

-- ----------------------------
-- Table structure for t_icd9
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_icd9";
CREATE TABLE "public"."t_icd9" (
  "icd_9_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "opt_type" varchar(50) COLLATE "pg_catalog"."default",
  "opt_lev" varchar(50) COLLATE "pg_catalog"."default",
  "drg_exclude" int4
)
;
COMMENT ON COLUMN "public"."t_icd9"."icd_9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_icd9"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_icd9"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_icd9"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_icd9"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_icd9"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_icd9"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_icd9"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_icd9"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_icd9"."note" IS '说明';
COMMENT ON COLUMN "public"."t_icd9"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_icd9"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_icd9"."opt_type" IS '治疗
            诊断
            手术
            操作分类，如介入';
COMMENT ON COLUMN "public"."t_icd9"."opt_lev" IS '一类：1、2级
            二类：3、4级
            1级
            2级
            3级
            手术等级，如4级';
COMMENT ON COLUMN "public"."t_icd9"."drg_exclude" IS 'DRG中是否不作为分组规则的手术操作 1 是  0/null 否';

-- ----------------------------
-- Table structure for t_icd9_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_icd9_class";
CREATE TABLE "public"."t_icd9_class" (
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "icd9_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "is_opt" int2
)
;
COMMENT ON COLUMN "public"."t_icd9_class"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_icd9_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_icd9_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_icd9_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_icd9_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_icd9_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_icd9_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_icd9_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_icd9_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_icd9_class"."icd9_class_code" IS 'ICD9分类编码';
COMMENT ON COLUMN "public"."t_icd9_class"."icd9_class_name" IS 'ICD9分类名称';
COMMENT ON COLUMN "public"."t_icd9_class"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_icd9_class"."is_opt" IS '是否手术';

-- ----------------------------
-- Table structure for t_icd_tumor_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_icd_tumor_type";
CREATE TABLE "public"."t_icd_tumor_type" (
  "tumor_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "tumor_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "tumor_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_icd_tumor_type"."tumor_type_id" IS '肿瘤细胞类型ID';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."tumor_type_code" IS '肿瘤细胞类型编号';
COMMENT ON COLUMN "public"."t_icd_tumor_type"."tumor_type_name" IS '肿瘤细胞类型名称';

-- ----------------------------
-- Table structure for t_kw_ver
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_kw_ver";
CREATE TABLE "public"."t_kw_ver" (
  "ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "ver_code" varchar(50) COLLATE "pg_catalog"."default",
  "ver_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_kw_ver"."ver_id" IS '知识库版本id';
COMMENT ON COLUMN "public"."t_kw_ver"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_kw_ver"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_kw_ver"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_kw_ver"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_kw_ver"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_kw_ver"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_kw_ver"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_kw_ver"."note" IS '说明';
COMMENT ON COLUMN "public"."t_kw_ver"."ver_code" IS '知识库版本号';
COMMENT ON COLUMN "public"."t_kw_ver"."ver_name" IS '知识库版本名称';
COMMENT ON TABLE "public"."t_kw_ver" IS '知识库版本';

-- ----------------------------
-- Table structure for t_kw_ver_export
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_kw_ver_export";
CREATE TABLE "public"."t_kw_ver_export" (
  "ver_export_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "ver_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "file_name" varchar(200) COLLATE "pg_catalog"."default",
  "file_full_name" varchar(200) COLLATE "pg_catalog"."default",
  "file_size" int4,
  "export_begin_dt" timestamp(6),
  "export_end_dt" timestamp(6),
  "export_cost" int4,
  "download_cnt" int4
)
;
COMMENT ON COLUMN "public"."t_kw_ver_export"."ver_export_id" IS '知识库文件导出记录id';
COMMENT ON COLUMN "public"."t_kw_ver_export"."ver_id" IS '知识库版本id';
COMMENT ON COLUMN "public"."t_kw_ver_export"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_kw_ver_export"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_kw_ver_export"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_kw_ver_export"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_kw_ver_export"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_kw_ver_export"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_kw_ver_export"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_kw_ver_export"."note" IS '说明';
COMMENT ON TABLE "public"."t_kw_ver_export" IS '知识库文件导出记录';

-- ----------------------------
-- Table structure for t_medical_account_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_account_type";
CREATE TABLE "public"."t_medical_account_type" (
  "hosp_account_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_account_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_account_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_account_type"."hosp_account_type_id" IS '会计科目分类id';
COMMENT ON COLUMN "public"."t_medical_account_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_account_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_account_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_account_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_account_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_account_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_account_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_account_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_account_type"."hosp_account_type_code" IS '会计科目分类编号';
COMMENT ON COLUMN "public"."t_medical_account_type"."hosp_account_type_name" IS '会计科目分类名称';
COMMENT ON TABLE "public"."t_medical_account_type" IS '卫健委会计科目分类';

-- ----------------------------
-- Table structure for t_medical_clinical_path_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_clinical_path_type";
CREATE TABLE "public"."t_medical_clinical_path_type" (
  "clinical_path_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "clinical_path_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "clinical_path_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."clinical_path_type_id" IS '临床路径类别id';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."clinical_path_type_code" IS '临床路径类别编号';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."clinical_path_type_name" IS '临床路径类别名称';
COMMENT ON COLUMN "public"."t_medical_clinical_path_type"."parent_id" IS '上级类别id';
COMMENT ON TABLE "public"."t_medical_clinical_path_type" IS '卫健委临床路径类别';

-- ----------------------------
-- Table structure for t_medical_cost_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_cost_type";
CREATE TABLE "public"."t_medical_cost_type" (
  "cost_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "cost_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "cost_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_medical_diag
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_diag";
CREATE TABLE "public"."t_medical_diag" (
  "diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "diag_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_account_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_medsup_lev_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_fee_type_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "diag_name" varchar(200) COLLATE "pg_catalog"."default",
  "diag_content" text COLLATE "pg_catalog"."default",
  "diag_except" text COLLATE "pg_catalog"."default",
  "price_unit" varchar(50) COLLATE "pg_catalog"."default",
  "price_note" varchar(4000) COLLATE "pg_catalog"."default",
  "medsup_required" varchar(1000) COLLATE "pg_catalog"."default",
  "medsup_optional" varchar(1000) COLLATE "pg_catalog"."default",
  "basic_time_cost" varchar(500) COLLATE "pg_catalog"."default",
  "technical_difficulty" float4,
  "risk_lev" float4,
  "resource_value" float4,
  "adjust_value" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_diag"."diag_id" IS '医疗服务项目ID';
COMMENT ON COLUMN "public"."t_medical_diag"."diag_class_id" IS '医疗服务项目分类ID';
COMMENT ON COLUMN "public"."t_medical_diag"."hosp_account_type_id" IS '会计科目分类id';
COMMENT ON COLUMN "public"."t_medical_diag"."hosp_medsup_lev_id" IS '医院医用耗材等级id';
COMMENT ON COLUMN "public"."t_medical_diag"."hosp_page_fee_type_id" IS '病案首页费用分类id';
COMMENT ON COLUMN "public"."t_medical_diag"."hosp_fee_type_id" IS '收费票据分类id';
COMMENT ON COLUMN "public"."t_medical_diag"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_diag"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_diag"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_diag"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_diag"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_diag"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_diag"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_diag"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_diag"."diag_code" IS '医疗服务项目编码';
COMMENT ON COLUMN "public"."t_medical_diag"."diag_name" IS '医疗服务项目名称';
COMMENT ON COLUMN "public"."t_medical_diag"."diag_content" IS '项目内涵';
COMMENT ON COLUMN "public"."t_medical_diag"."diag_except" IS '除外内容';
COMMENT ON COLUMN "public"."t_medical_diag"."price_unit" IS '计价单位';
COMMENT ON COLUMN "public"."t_medical_diag"."price_note" IS '计价说明';
COMMENT ON COLUMN "public"."t_medical_diag"."medsup_required" IS '必须耗材';
COMMENT ON COLUMN "public"."t_medical_diag"."medsup_optional" IS '可选耗材';
COMMENT ON COLUMN "public"."t_medical_diag"."basic_time_cost" IS '基本人力消耗及耗时';
COMMENT ON COLUMN "public"."t_medical_diag"."technical_difficulty" IS '技术难度';
COMMENT ON COLUMN "public"."t_medical_diag"."risk_lev" IS '风险程度';
COMMENT ON COLUMN "public"."t_medical_diag"."resource_value" IS '人力资源消耗相对值';
COMMENT ON COLUMN "public"."t_medical_diag"."adjust_value" IS '特殊情况只有消耗调整系数说明';
COMMENT ON TABLE "public"."t_medical_diag" IS '卫健的诊疗项目目录，医院需与本表对码';

-- ----------------------------
-- Table structure for t_medical_diag_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_diag_class";
CREATE TABLE "public"."t_medical_diag_class" (
  "diag_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "diag_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "diag_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_diag_class"."diag_class_id" IS '医疗服务项目分类ID';
COMMENT ON COLUMN "public"."t_medical_diag_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_diag_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_diag_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_diag_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_diag_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_diag_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_diag_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_diag_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_diag_class"."diag_class_code" IS '医疗服务项目分类编号';
COMMENT ON COLUMN "public"."t_medical_diag_class"."diag_class_name" IS '医疗服务项目分类名称';
COMMENT ON COLUMN "public"."t_medical_diag_class"."parent_id" IS '上级分类id';
COMMENT ON TABLE "public"."t_medical_diag_class" IS '卫健委医疗服务项目分类';

-- ----------------------------
-- Table structure for t_medical_icd10
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_icd10";
CREATE TABLE "public"."t_medical_icd10" (
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "mi_icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd10_type" varchar(50) COLLATE "pg_catalog"."default",
  "risk_lev_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_icd10"."icd10_id" IS 'ICD编码ID';
COMMENT ON COLUMN "public"."t_medical_icd10"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_medical_icd10"."mi_icd10_id" IS '医保ICD编码ID';
COMMENT ON COLUMN "public"."t_medical_icd10"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd10"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_icd10"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_icd10"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd10"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_icd10"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_icd10"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_icd10"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_icd10"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_medical_icd10"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_medical_icd10"."icd10_type" IS 'ICD类别';
COMMENT ON COLUMN "public"."t_medical_icd10"."risk_lev_id" IS '风险等级id';
COMMENT ON TABLE "public"."t_medical_icd10" IS '卫健委ICD10编码表
';

-- ----------------------------
-- Table structure for t_medical_icd10_bak
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_icd10_bak";
CREATE TABLE "public"."t_medical_icd10_bak" (
  "icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "mi_icd10_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd10_type" varchar(50) COLLATE "pg_catalog"."default",
  "risk_lev_id" varchar(50) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_medical_icd10_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_icd10_class";
CREATE TABLE "public"."t_medical_icd10_class" (
  "icd10_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "icd10_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd10_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_icd10_class"."icd10_class_id" IS 'ICD10分类编码ID';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."icd10_class_code" IS 'ICD10分类编码';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."icd10_class_name" IS 'ICD10分类名称';
COMMENT ON COLUMN "public"."t_medical_icd10_class"."parent_id" IS '上级分类ID';
COMMENT ON TABLE "public"."t_medical_icd10_class" IS '卫健委ICD10分类编码';

-- ----------------------------
-- Table structure for t_medical_icd9
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_icd9";
CREATE TABLE "public"."t_medical_icd9" (
  "icd9_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "mi_icd9_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "opt_type" varchar(50) COLLATE "pg_catalog"."default",
  "opt_lev_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_icd9"."icd9_id" IS 'ICD9编码ID';
COMMENT ON COLUMN "public"."t_medical_icd9"."mi_icd9_id" IS '医保ICD9编码ID';
COMMENT ON COLUMN "public"."t_medical_icd9"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_medical_icd9"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd9"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_icd9"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_icd9"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd9"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_icd9"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_icd9"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_icd9"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_icd9"."icd_name" IS 'ICD名称';
COMMENT ON COLUMN "public"."t_medical_icd9"."icd_code" IS 'ICD编码';
COMMENT ON COLUMN "public"."t_medical_icd9"."opt_type" IS '操作分类';
COMMENT ON COLUMN "public"."t_medical_icd9"."opt_lev_id" IS '手术等级id';
COMMENT ON TABLE "public"."t_medical_icd9" IS '卫健委ICD9CM3编码表';

-- ----------------------------
-- Table structure for t_medical_icd9_bak
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_icd9_bak";
CREATE TABLE "public"."t_medical_icd9_bak" (
  "icd9_id" varchar(50) COLLATE "pg_catalog"."default",
  "mi_icd9_id" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "icd_code" varchar(50) COLLATE "pg_catalog"."default",
  "opt_type" varchar(50) COLLATE "pg_catalog"."default",
  "opt_lev_id" varchar(50) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_medical_icd9_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_icd9_class";
CREATE TABLE "public"."t_medical_icd9_class" (
  "icd9_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "icd9_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "icd9_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "is_opt" int2
)
;
COMMENT ON COLUMN "public"."t_medical_icd9_class"."icd9_class_id" IS 'ICD9分类编码ID';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."icd9_class_code" IS 'ICD9分类编码';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."icd9_class_name" IS 'ICD9分类名称';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_medical_icd9_class"."is_opt" IS '是否手术';
COMMENT ON TABLE "public"."t_medical_icd9_class" IS '卫健委ICD9分类编码';

-- ----------------------------
-- Table structure for t_medical_indicator
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_indicator";
CREATE TABLE "public"."t_medical_indicator" (
  "indicator_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "indicator_code" varchar(50) COLLATE "pg_catalog"."default",
  "indicator_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_indicator"."indicator_id" IS '医院统计指标id';
COMMENT ON COLUMN "public"."t_medical_indicator"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_indicator"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_indicator"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_indicator"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_indicator"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_indicator"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_indicator"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_indicator"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_indicator"."indicator_code" IS '医院统计指标编号';
COMMENT ON COLUMN "public"."t_medical_indicator"."indicator_name" IS '医院统计指标名称';
COMMENT ON COLUMN "public"."t_medical_indicator"."parent_id" IS '上级分类ID';
COMMENT ON TABLE "public"."t_medical_indicator" IS '卫健委统计指标';

-- ----------------------------
-- Table structure for t_medical_indicator_caliber
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_indicator_caliber";
CREATE TABLE "public"."t_medical_indicator_caliber" (
  "indicator_caliber_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "indicator_caliber_code" varchar(50) COLLATE "pg_catalog"."default",
  "indicator_caliber_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."indicator_caliber_id" IS '指标统计口径id';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."indicator_caliber_code" IS '指标统计口径编号';
COMMENT ON COLUMN "public"."t_medical_indicator_caliber"."indicator_caliber_name" IS '指标统计口径名称';
COMMENT ON TABLE "public"."t_medical_indicator_caliber" IS '卫健委指标统计口径';

-- ----------------------------
-- Table structure for t_medical_indicator_prg
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_indicator_prg";
CREATE TABLE "public"."t_medical_indicator_prg" (
  "indicator_prg_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "indicator_prg_code" varchar(50) COLLATE "pg_catalog"."default",
  "indicator_prg_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."indicator_prg_id" IS '指标统计算法id';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."indicator_prg_code" IS '指标统计算法编号';
COMMENT ON COLUMN "public"."t_medical_indicator_prg"."indicator_prg_name" IS '指标统计算法名称';
COMMENT ON TABLE "public"."t_medical_indicator_prg" IS '卫健委指标统计算法';

-- ----------------------------
-- Table structure for t_medical_medsup_lev
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_medsup_lev";
CREATE TABLE "public"."t_medical_medsup_lev" (
  "hosp_medsup_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_medsup_lev_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_medsup_lev_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."hosp_medsup_lev_id" IS '医院医用耗材等级id';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."hosp_medsup_lev_code" IS '医院医用耗材等级编号';
COMMENT ON COLUMN "public"."t_medical_medsup_lev"."hosp_medsup_lev_name" IS '医院医用耗材等级名称';
COMMENT ON TABLE "public"."t_medical_medsup_lev" IS '卫健委医用耗材等级';

-- ----------------------------
-- Table structure for t_medical_opt_lev
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_opt_lev";
CREATE TABLE "public"."t_medical_opt_lev" (
  "opt_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "opt_lev_code" varchar(50) COLLATE "pg_catalog"."default",
  "opt_lev_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_opt_lev"."opt_lev_id" IS '手术分级id';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."opt_lev_code" IS '手术分级编号';
COMMENT ON COLUMN "public"."t_medical_opt_lev"."opt_lev_name" IS '手术分级名称';
COMMENT ON TABLE "public"."t_medical_opt_lev" IS '卫健委手术分级';

-- ----------------------------
-- Table structure for t_medical_page_fee_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_page_fee_type";
CREATE TABLE "public"."t_medical_page_fee_type" (
  "hosp_page_fee_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_page_fee_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."hosp_page_fee_type_id" IS '病案首页费用分类id';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."hosp_page_fee_type_code" IS '病案首页费用分类编号';
COMMENT ON COLUMN "public"."t_medical_page_fee_type"."hosp_page_fee_type_name" IS '病案首页费用分类名称';
COMMENT ON TABLE "public"."t_medical_page_fee_type" IS '卫健委病案首页费用分类';

-- ----------------------------
-- Table structure for t_medical_psn_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_psn_type";
CREATE TABLE "public"."t_medical_psn_type" (
  "hosp_psn_type_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "hosp_psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_psn_type_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_psn_type"."hosp_psn_type_id" IS '医院人员类别id';
COMMENT ON COLUMN "public"."t_medical_psn_type"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_psn_type"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_psn_type"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_psn_type"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_psn_type"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_psn_type"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_psn_type"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_psn_type"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_psn_type"."hosp_psn_type_code" IS '医院人员类别编号';
COMMENT ON COLUMN "public"."t_medical_psn_type"."hosp_psn_type_name" IS '医院人员类别名称';
COMMENT ON TABLE "public"."t_medical_psn_type" IS '卫健委医院人员类别';

-- ----------------------------
-- Table structure for t_medical_risk_lev
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medical_risk_lev";
CREATE TABLE "public"."t_medical_risk_lev" (
  "risk_lev_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "risk_lev_code" varchar(50) COLLATE "pg_catalog"."default",
  "risk_lev_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medical_risk_lev"."risk_lev_id" IS '风险等级id';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."risk_lev_code" IS '风险等级编号';
COMMENT ON COLUMN "public"."t_medical_risk_lev"."risk_lev_name" IS '风险等级名称';
COMMENT ON TABLE "public"."t_medical_risk_lev" IS '卫健委风险等级';

-- ----------------------------
-- Table structure for t_medsup
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medsup";
CREATE TABLE "public"."t_medsup" (
  "med_sup_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "medsup_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "org_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "med_sup_code" varchar(50) COLLATE "pg_catalog"."default",
  "med_sup_name" varchar(500) COLLATE "pg_catalog"."default",
  "reg_no" varchar(50) COLLATE "pg_catalog"."default",
  "reg_name" varchar(500) COLLATE "pg_catalog"."default",
  "pro_mod" varchar(50) COLLATE "pg_catalog"."default",
  "sup_spec" varchar(500) COLLATE "pg_catalog"."default",
  "sup_matrl" varchar(500) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default",
  "mi_fee_type" varchar(50) COLLATE "pg_catalog"."default",
  "fee_type" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medsup"."med_sup_id" IS '医用耗材ID';
COMMENT ON COLUMN "public"."t_medsup"."medsup_class_id" IS '医用耗材分类ID';
COMMENT ON COLUMN "public"."t_medsup"."org_id" IS '医保统筹区ID';
COMMENT ON COLUMN "public"."t_medsup"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medsup"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medsup"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medsup"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medsup"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medsup"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medsup"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medsup"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medsup"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_medsup"."med_sup_code" IS '医用耗材编码';
COMMENT ON COLUMN "public"."t_medsup"."med_sup_name" IS '医用耗材名称';
COMMENT ON COLUMN "public"."t_medsup"."reg_no" IS '注册备案号';
COMMENT ON COLUMN "public"."t_medsup"."reg_name" IS '注册备案产品名称';
COMMENT ON COLUMN "public"."t_medsup"."pro_mod" IS '产品型号';
COMMENT ON COLUMN "public"."t_medsup"."sup_spec" IS '耗材规格（特征）';
COMMENT ON COLUMN "public"."t_medsup"."sup_matrl" IS '耗材材质';
COMMENT ON COLUMN "public"."t_medsup"."factory_name" IS '生产厂家名称';
COMMENT ON COLUMN "public"."t_medsup"."mi_fee_type" IS '医保费用类别，如甲类
            乙类
            自费';
COMMENT ON COLUMN "public"."t_medsup"."fee_type" IS '用于统计的费用归类，如手术费、治疗费等';
COMMENT ON TABLE "public"."t_medsup" IS '医保医用耗材目录
医院医用耗材需要与本表对码';

-- ----------------------------
-- Table structure for t_medsup_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_medsup_class";
CREATE TABLE "public"."t_medsup_class" (
  "medsup_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" varchar(4000) COLLATE "pg_catalog"."default",
  "medsup_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "medsup_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "sup_matrl" varchar(500) COLLATE "pg_catalog"."default",
  "sup_spec" varchar(500) COLLATE "pg_catalog"."default",
  "factory_name" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_medsup_class"."medsup_class_id" IS '医用耗材分类ID';
COMMENT ON COLUMN "public"."t_medsup_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_medsup_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_medsup_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_medsup_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_medsup_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_medsup_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_medsup_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_medsup_class"."note" IS '说明';
COMMENT ON COLUMN "public"."t_medsup_class"."medsup_class_code" IS '医用耗材分类编号';
COMMENT ON COLUMN "public"."t_medsup_class"."medsup_class_name" IS '医用耗材分类名称';
COMMENT ON COLUMN "public"."t_medsup_class"."parent_id" IS '上级分类ID';
COMMENT ON COLUMN "public"."t_medsup_class"."sup_matrl" IS '耗材材质';
COMMENT ON COLUMN "public"."t_medsup_class"."sup_spec" IS '耗材规格（特征）';
COMMENT ON COLUMN "public"."t_medsup_class"."factory_name" IS '生产厂家名称';

-- ----------------------------
-- Table structure for t_platform_service
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_platform_service";
CREATE TABLE "public"."t_platform_service" (
  "service_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "platform_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(100) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" char(38) COLLATE "pg_catalog"."default",
  "modify_user" varchar(100) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "service_code" varchar(50) COLLATE "pg_catalog"."default",
  "service_name" varchar(100) COLLATE "pg_catalog"."default",
  "service_url" varchar(100) COLLATE "pg_catalog"."default",
  "service_callback_url" varchar(100) COLLATE "pg_catalog"."default",
  "service_callback_mobile_url" varchar(100) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_platform_service_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_platform_service_log";
CREATE TABLE "public"."t_platform_service_log" (
  "service_log_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "org_id" varchar(50) COLLATE "pg_catalog"."default",
  "service_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "patient_name" varchar(100) COLLATE "pg_catalog"."default",
  "gender" varchar(50) COLLATE "pg_catalog"."default",
  "age" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(100) COLLATE "pg_catalog"."default",
  "visit_code" varchar(50) COLLATE "pg_catalog"."default",
  "idcard" varchar(50) COLLATE "pg_catalog"."default",
  "begin_dt" timestamp(6),
  "end_dt" timestamp(6),
  "cost_dt" int4,
  "input_data" text COLLATE "pg_catalog"."default",
  "result_data" text COLLATE "pg_catalog"."default",
  "service_callback_url" varchar(100) COLLATE "pg_catalog"."default",
  "service_callback_mobile_url" varchar(100) COLLATE "pg_catalog"."default",
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_platform_service_log"."org_id" IS '统筹区，允许为空';
COMMENT ON COLUMN "public"."t_platform_service_log"."service_callback_url" IS 'Web回调';
COMMENT ON COLUMN "public"."t_platform_service_log"."service_callback_mobile_url" IS '手机回调';

-- ----------------------------
-- Table structure for t_platform_user
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_platform_user";
CREATE TABLE "public"."t_platform_user" (
  "platform_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(100) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(100) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "platform_user_code" varchar(50) COLLATE "pg_catalog"."default",
  "platform_user_name" varchar(100) COLLATE "pg_catalog"."default",
  "public_key" varchar(500) COLLATE "pg_catalog"."default",
  "private_key" varchar(2000) COLLATE "pg_catalog"."default",
  "platform_user_pwd" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_platform_user"."platform_user_code" IS '合作伙伴编号';
COMMENT ON COLUMN "public"."t_platform_user"."platform_user_name" IS '合作伙伴名称';
COMMENT ON COLUMN "public"."t_platform_user"."public_key" IS '合作伙伴公钥';
COMMENT ON COLUMN "public"."t_platform_user"."private_key" IS '合作伙伴私钥';
COMMENT ON COLUMN "public"."t_platform_user"."platform_user_pwd" IS '合作伙伴口令';

-- ----------------------------
-- Table structure for t_sys_config
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_config";
CREATE TABLE "public"."t_sys_config" (
  "sys_config_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" text COLLATE "pg_catalog"."default",
  "config_detail" text COLLATE "pg_catalog"."default",
  "mp_config" text COLLATE "pg_catalog"."default",
  "app_config" text COLLATE "pg_catalog"."default",
  "sms_config" text COLLATE "pg_catalog"."default",
  "company_name" varchar(200) COLLATE "pg_catalog"."default",
  "project_code" varchar(50) COLLATE "pg_catalog"."default",
  "project_name" varchar(200) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_sys_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_log";
CREATE TABLE "public"."t_sys_log" (
  "log_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "model_code" varchar(50) COLLATE "pg_catalog"."default",
  "user_id" char(38) COLLATE "pg_catalog"."default" NOT NULL,
  "opt_dt" timestamp(6) NOT NULL,
  "user_name" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "opt_ip" varchar(50) COLLATE "pg_catalog"."default",
  "model_name" varchar(200) COLLATE "pg_catalog"."default",
  "opt_type" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "user_code" varchar(50) COLLATE "pg_catalog"."default",
  "note" text COLLATE "pg_catalog"."default"
)
;
COMMENT ON TABLE "public"."t_sys_log" IS '??????????????????ģ??Ȩ??????';

-- ----------------------------
-- Table structure for t_sys_menu
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_menu";
CREATE TABLE "public"."t_sys_menu" (
  "menu_item_id" varchar(38) COLLATE "pg_catalog"."default" NOT NULL,
  "model_code" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" text COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default",
  "menu_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "menu_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "icon_type" varchar(50) COLLATE "pg_catalog"."default",
  "no" int4
)
;
COMMENT ON COLUMN "public"."t_sys_menu"."icon_type" IS '图标类别';
COMMENT ON COLUMN "public"."t_sys_menu"."no" IS '序号';

-- ----------------------------
-- Table structure for t_sys_model
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_model";
CREATE TABLE "public"."t_sys_model" (
  "model_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "model_name" varchar(200) COLLATE "pg_catalog"."default",
  "model_path" varchar(200) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_sys_model_perm
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_model_perm";
CREATE TABLE "public"."t_sys_model_perm" (
  "model_perm_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "model_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "perm_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;

-- ----------------------------
-- Table structure for t_sys_opt_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_opt_log";
CREATE TABLE "public"."t_sys_opt_log" (
  "opt_log_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" text COLLATE "pg_catalog"."default",
  "opt_name" varchar(200) COLLATE "pg_catalog"."default",
  "input_data" text COLLATE "pg_catalog"."default",
  "output_data" text COLLATE "pg_catalog"."default",
  "begin_dt" timestamp(6),
  "end_dt" timestamp(6),
  "cost_dt" int4
)
;
COMMENT ON COLUMN "public"."t_sys_opt_log"."opt_log_id" IS '系统操作日志id';
COMMENT ON COLUMN "public"."t_sys_opt_log"."opt_name" IS '操作名称';
COMMENT ON COLUMN "public"."t_sys_opt_log"."input_data" IS '入参数据';
COMMENT ON COLUMN "public"."t_sys_opt_log"."output_data" IS '出参数据';
COMMENT ON COLUMN "public"."t_sys_opt_log"."begin_dt" IS '开始执行时间';
COMMENT ON COLUMN "public"."t_sys_opt_log"."end_dt" IS '结束执行时间';
COMMENT ON COLUMN "public"."t_sys_opt_log"."cost_dt" IS '时间消耗';
COMMENT ON TABLE "public"."t_sys_opt_log" IS '系统操作日志';

-- ----------------------------
-- Table structure for t_sys_perm
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_perm";
CREATE TABLE "public"."t_sys_perm" (
  "perm_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "perm_name" varchar(200) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_sys_role
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_role";
CREATE TABLE "public"."t_sys_role" (
  "role_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" text COLLATE "pg_catalog"."default",
  "role_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "role_name" varchar(200) COLLATE "pg_catalog"."default" NOT NULL
)
;

-- ----------------------------
-- Table structure for t_sys_role_perm
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_role_perm";
CREATE TABLE "public"."t_sys_role_perm" (
  "role_perm_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "perm_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "role_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "model_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;

-- ----------------------------
-- Table structure for t_sys_user
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_user";
CREATE TABLE "public"."t_sys_user" (
  "user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "create_dt" timestamp(6) NOT NULL,
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "note" text COLLATE "pg_catalog"."default",
  "user_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "user_name" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "user_phone" varchar(50) COLLATE "pg_catalog"."default",
  "user_pwd" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;

-- ----------------------------
-- Table structure for t_sys_user_role
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_sys_user_role";
CREATE TABLE "public"."t_sys_user_role" (
  "user_role_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "user_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "role_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;

-- ----------------------------
-- Table structure for t_temp_record
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_temp_record";
CREATE TABLE "public"."t_temp_record" (
  "分类编码" varchar(255) COLLATE "pg_catalog"."default",
  "分类名称" varchar(255) COLLATE "pg_catalog"."default",
  "项目编码" varchar(255) COLLATE "pg_catalog"."default",
  "项目名称" varchar(255) COLLATE "pg_catalog"."default",
  "类别" varchar(255) COLLATE "pg_catalog"."default",
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "diag_type_id" varchar(50) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_test_case
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_case";
CREATE TABLE "public"."t_test_case" (
  "case_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "case_data_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "case_code" varchar(50) COLLATE "pg_catalog"."default",
  "case_name" varchar(200) COLLATE "pg_catalog"."default",
  "case_detail" text COLLATE "pg_catalog"."default",
  "case_result" text COLLATE "pg_catalog"."default",
  "auto_test" int2
)
;
COMMENT ON COLUMN "public"."t_test_case"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_test_case"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_test_case"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_test_case"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_test_case"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_test_case"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_test_case"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_test_case"."note" IS '说明';

-- ----------------------------
-- Table structure for t_test_case_data
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_case_data";
CREATE TABLE "public"."t_test_case_data" (
  "case_data_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "test_class_id" varchar(50) COLLATE "pg_catalog"."default",
  "case_data_code" varchar(50) COLLATE "pg_catalog"."default",
  "case_data_name" varchar(200) COLLATE "pg_catalog"."default",
  "gend" varchar(50) COLLATE "pg_catalog"."default",
  "age" float4,
  "nwb_age" int4,
  "act_ipt_days" int4,
  "brdy" timestamp(6),
  "adm_date" timestamp(6),
  "dscg_date" timestamp(6),
  "poolarea" varchar(50) COLLATE "pg_catalog"."default",
  "insutype" varchar(50) COLLATE "pg_catalog"."default",
  "psn_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "hi_paymtd" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "drg_name" varchar(200) COLLATE "pg_catalog"."default",
  "drg_code" varchar(50) COLLATE "pg_catalog"."default",
  "trig_scen" varchar(50) COLLATE "pg_catalog"."default",
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_test_case_data"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_test_case_data"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_test_case_data"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_test_case_data"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_test_case_data"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_test_case_data"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_test_case_data"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_test_case_data"."note" IS '说明';

-- ----------------------------
-- Table structure for t_test_case_diag
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_case_diag";
CREATE TABLE "public"."t_test_case_diag" (
  "case_diag_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "case_data_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "diag_no" varchar(50) COLLATE "pg_catalog"."default",
  "dise_code" varchar(50) COLLATE "pg_catalog"."default",
  "dise_name" varchar(200) COLLATE "pg_catalog"."default",
  "maindise_flag" int2,
  "dise_date" timestamp(6)
)
;

-- ----------------------------
-- Table structure for t_test_case_fee
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_case_fee";
CREATE TABLE "public"."t_test_case_fee" (
  "case_fee_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "case_data_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "grpno" varchar(50) COLLATE "pg_catalog"."default",
  "chrgitm_lv" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_type" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_code" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_name" varchar(200) COLLATE "pg_catalog"."default",
  "hosplist_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosplist_name" varchar(200) COLLATE "pg_catalog"."default",
  "cnt" float4,
  "pric" numeric(12,4),
  "sumamt" numeric(10,2),
  "ownpay_amt" numeric(10,2),
  "spec_unt" varchar(50) COLLATE "pg_catalog"."default",
  "fee_ocur_time" timestamp(6),
  "sin_dos_dscr" float4,
  "used_frqu_dscr" float4,
  "prd_days" float4,
  "fee_flag" varchar(50) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_test_case_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_case_log";
CREATE TABLE "public"."t_test_case_log" (
  "case_log_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "case_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "test_dt" timestamp(6),
  "test_cost" int4,
  "encode_type" varchar(50) COLLATE "pg_catalog"."default",
  "test_result" int2,
  "case_detail" text COLLATE "pg_catalog"."default",
  "case_result" text COLLATE "pg_catalog"."default",
  "test_url" varchar(200) COLLATE "pg_catalog"."default",
  "test_msg" varchar(4000) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_test_case_log"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_test_case_log"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_test_case_log"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_test_case_log"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_test_case_log"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_test_case_log"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_test_case_log"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_test_case_log"."note" IS '说明';
COMMENT ON COLUMN "public"."t_test_case_log"."encode_type" IS '测试文字使用的编码类型
            UTF8
            ANSI';

-- ----------------------------
-- Table structure for t_test_case_opt
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_case_opt";
CREATE TABLE "public"."t_test_case_opt" (
  "case_opt_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "case_data_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "main_oprn_flag" int2,
  "oprn_code" varchar(50) COLLATE "pg_catalog"."default",
  "oprn_name" varchar(200) COLLATE "pg_catalog"."default",
  "oprn_date" timestamp(6)
)
;

-- ----------------------------
-- Table structure for t_test_class
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_class";
CREATE TABLE "public"."t_test_class" (
  "test_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "test_class_code" varchar(50) COLLATE "pg_catalog"."default",
  "test_class_name" varchar(200) COLLATE "pg_catalog"."default",
  "parent_id" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_test_class"."create_user_id" IS '创建操作员ID';
COMMENT ON COLUMN "public"."t_test_class"."create_user" IS '创建操作员';
COMMENT ON COLUMN "public"."t_test_class"."create_dt" IS '创建时间';
COMMENT ON COLUMN "public"."t_test_class"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_test_class"."modify_user" IS '最后修改操作员';
COMMENT ON COLUMN "public"."t_test_class"."modify_dt" IS '最后修改时间';
COMMENT ON COLUMN "public"."t_test_class"."status" IS '记录状态';
COMMENT ON COLUMN "public"."t_test_class"."note" IS '说明';

-- ----------------------------
-- Table structure for t_test_class_case
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_class_case";
CREATE TABLE "public"."t_test_class_case" (
  "class_case_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "test_class_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "case_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL
)
;

-- ----------------------------
-- Table structure for t_test_config
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_test_config";
CREATE TABLE "public"."t_test_config" (
  "test_config_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "server_url" varchar(200) COLLATE "pg_catalog"."default",
  "create_user_id" varchar COLLATE "pg_catalog"."default",
  "create_user" varchar(255) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar COLLATE "pg_catalog"."default",
  "modify_user" varchar(255) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(255) COLLATE "pg_catalog"."default",
  "note" varchar(255) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_test_config"."test_config_id" IS '测试配置id';
COMMENT ON COLUMN "public"."t_test_config"."server_url" IS '引擎服务器url';

-- ----------------------------
-- Table structure for t_wk_price
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_wk_price";
CREATE TABLE "public"."t_wk_price" (
  "科室" varchar(100) COLLATE "pg_catalog"."default",
  "工作量单价" float8,
  "工作量系数" float8
)
;

-- ----------------------------
-- Table structure for t_workload_adjusted_total
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_adjusted_total";
CREATE TABLE "public"."t_workload_adjusted_total" (
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室类型" varchar(20) COLLATE "pg_catalog"."default",
  "工作量单价" numeric(10,5),
  "工作量系数" numeric(10,5),
  "人数" int4,
  "三级手术奖励" numeric,
  "四级手术奖励" numeric,
  "造影绩效" numeric,
  "介入绩效" numeric,
  "开单绩效" numeric,
  "执行绩效" numeric,
  "护理绩效" numeric,
  "手术绩效" numeric,
  "诊察费奖励" numeric,
  "挂号费奖励" numeric,
  "门诊造影绩效" numeric,
  "门诊介入绩效" numeric,
  "门诊开单绩效" numeric,
  "门诊执行绩效" numeric,
  "门诊护理绩效" numeric,
  "门诊手术绩效" numeric,
  "科室直接成本" numeric,
  "人员工资" numeric,
  "五险一金" numeric,
  "卫生材料" numeric,
  "其他材料" numeric,
  "固定资产折旧" numeric,
  "无形资产摊销" numeric,
  "维修（护）费" numeric,
  "培训费" numeric,
  "水费" numeric,
  "电费" numeric,
  "总工作量绩效" numeric(10,2),
  "DRG绩效总和" numeric,
  "总费用总和" numeric,
  "总成本总和" numeric,
  "总绩效" numeric
)
;

-- ----------------------------
-- Table structure for t_workload_allocation
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_allocation";
CREATE TABLE "public"."t_workload_allocation" (
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "分配比例" numeric(20,4),
  "分配金额" numeric(20,2),
  "DRG_DIP比例" numeric(20,4),
  "DRG_DIP金额" numeric(20,2),
  "工作量比例" numeric(20,4),
  "工作量金额" numeric(20,2),
  "工作量点数总额" numeric(20,4),
  "工作量单价" numeric(10,2),
  "科室直接成本" numeric(20,2),
  "单项奖励合计" numeric(20,2),
  "工作量计算单价" numeric(10,2)
)
;

-- ----------------------------
-- Table structure for t_workload_allocation_config
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_allocation_config";
CREATE TABLE "public"."t_workload_allocation_config" (
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "分配比例" numeric(20,4),
  "DRG_DIP比例" numeric(20,4),
  "工作量比例" numeric(20,4)
)
;

-- ----------------------------
-- Table structure for t_workload_analysis_intface
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_analysis_intface";
CREATE TABLE "public"."t_workload_analysis_intface" (
  "id" int4 NOT NULL DEFAULT nextval('t_workload_analysis_intface_id_seq'::regclass),
  "操作名称" varchar(255) COLLATE "pg_catalog"."default",
  "操作SQL" text COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_deduct
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_deduct";
CREATE TABLE "public"."t_workload_deduct" (
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(50) COLLATE "pg_catalog"."default",
  "姓名" varchar(50) COLLATE "pg_catalog"."default",
  "工号" varchar(20) COLLATE "pg_catalog"."default",
  "归属绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "归属绩效科室名称" varchar(50) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_dep_cost
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_dep_cost";
CREATE TABLE "public"."t_workload_dep_cost" (
  "年月" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室代码" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(40) COLLATE "pg_catalog"."default",
  "人员工资" numeric(10,2),
  "五险一金" numeric(10,2),
  "卫生材料" numeric(10,2),
  "其他材料" numeric(10,2),
  "固定资产折旧" numeric(10,2),
  "无形资产摊销" numeric(10,2),
  "维修（护）费" numeric(10,2),
  "培训费" numeric(10,2),
  "水费" numeric(10,2),
  "电费" numeric(10,2)
)
;

-- ----------------------------
-- Table structure for t_workload_dep_def
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_dep_def";
CREATE TABLE "public"."t_workload_dep_def" (
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default" DEFAULT nextval('"t_workload_dep_def_绩效科室id_seq"'::regclass),
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default",
  "工作量单价" numeric(10,5),
  "工作量系数" numeric(10,5),
  "人数" int4,
  "绩效科室类型" varchar(20) COLLATE "pg_catalog"."default",
  "同类序号" int2,
  "绩效总额" numeric(20,2),
  "备注" varchar(255) COLLATE "pg_catalog"."default",
  "门诊工作量单价" numeric(10,2)
)
;

-- ----------------------------
-- Table structure for t_workload_dep_def2fina
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_dep_def2fina";
CREATE TABLE "public"."t_workload_dep_def2fina" (
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "财务科室编码" varchar(20) COLLATE "pg_catalog"."default",
  "财务科室名称" varchar(100) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_dep_def2his
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_dep_def2his";
CREATE TABLE "public"."t_workload_dep_def2his" (
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "HIS科室编码" varchar(20) COLLATE "pg_catalog"."default",
  "HIS科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "备注" text COLLATE "pg_catalog"."default",
  "绩效科室类型" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_dep_def_a
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_dep_def_a";
CREATE TABLE "public"."t_workload_dep_def_a" (
  "绩效科室ID" varchar(32) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(255) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(255) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(255) COLLATE "pg_catalog"."default",
  "工作量单价" float8,
  "工作量系数" int4,
  "人数" int4,
  "绩效科室类型" varchar(255) COLLATE "pg_catalog"."default",
  "同类序号" int2
)
;

-- ----------------------------
-- Table structure for t_workload_doc_2dep_def
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_doc_2dep_def";
CREATE TABLE "public"."t_workload_doc_2dep_def" (
  "工号" varchar(20) COLLATE "pg_catalog"."default",
  "姓名" varchar(10) COLLATE "pg_catalog"."default",
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "在岗状态" varchar(4) COLLATE "pg_catalog"."default",
  "基本工资" numeric(10,2),
  "五险一金" numeric(10,2),
  "职称" varchar(20) COLLATE "pg_catalog"."default",
  "部门类别" varchar(20) COLLATE "pg_catalog"."default",
  "岗位类别" varchar(20) COLLATE "pg_catalog"."default",
  "职务" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_doc_perform_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_doc_perform_detail";
CREATE TABLE "public"."t_workload_doc_perform_detail" (
  "yyyy_mm" varchar(7) COLLATE "pg_catalog"."default" NOT NULL,
  "doctor_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "doctor_name" varchar(100) COLLATE "pg_catalog"."default",
  "department_code" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "dep_id" varchar(20) COLLATE "pg_catalog"."default",
  "inp_zcfjl" numeric(18,2) DEFAULT 0,
  "inp_ghfjl" numeric(18,2) DEFAULT 0,
  "inp_zyjx" numeric(18,2) DEFAULT 0,
  "inp_jrjx" numeric(18,2) DEFAULT 0,
  "inp_ssjx" numeric(18,2) DEFAULT 0,
  "inp_bill" numeric(18,2) DEFAULT 0,
  "inp_zxjx" numeric(18,2) DEFAULT 0,
  "outp_zcfjl" numeric(18,2) DEFAULT 0,
  "outp_ghfjl" numeric(18,2) DEFAULT 0,
  "outp_zyjx" numeric(18,2) DEFAULT 0,
  "outp_jrjx" numeric(18,2) DEFAULT 0,
  "outp_ssjx" numeric(18,2) DEFAULT 0,
  "outp_bill" numeric(18,2) DEFAULT 0,
  "outp_zxjx" numeric(18,2) DEFAULT 0,
  "surgery_award_3" numeric(18,2) DEFAULT 0,
  "surgery_award_4" numeric(18,2) DEFAULT 0,
  "total_surgery_award" numeric(18,2) DEFAULT 0,
  "created_time" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "updated_time" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "inp_nurse" numeric(18,2),
  "outp_nurse" numeric(18,2)
)
;

-- ----------------------------
-- Table structure for t_workload_doc_perform_total
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_doc_perform_total";
CREATE TABLE "public"."t_workload_doc_perform_total" (
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室类型" varchar(20) COLLATE "pg_catalog"."default",
  "同类序号" int2,
  "工作量单价" numeric(10,5),
  "门诊工作量单价" numeric(10,2),
  "工作量系数" numeric(10,5),
  "人数" int4,
  "结算收入" numeric,
  "科室直接成本" numeric,
  "工作量DRG绩效总和" numeric(10,2),
  "住院工作量点数" numeric(10,4),
  "门诊工作量点数" numeric(10,4),
  "工作量点数" numeric(10,4),
  "护理工作量点数" numeric(10,2),
  "护理工作量绩效" numeric(10,2),
  "住院工作量绩效非手术介入" numeric(10,2),
  "门诊工作量绩效非手术介入" numeric(10,2),
  "工作量绩效非手术介入" numeric(10,2),
  "单项奖励合计" numeric(10,2),
  "工作量总绩效" numeric(10,2),
  "病种收入" numeric,
  "病种成本" numeric,
  "DRG结余" numeric,
  "drg系数" numeric,
  "DRG绩效" numeric(10,2),
  "绩效总额" numeric(10,2),
  "三级手术奖励" numeric,
  "四级手术奖励" numeric,
  "造影绩效" numeric,
  "介入绩效" numeric,
  "开单点数" numeric,
  "执行点数" numeric,
  "基础手术绩效" numeric,
  "护理点数" numeric,
  "诊察费奖励" numeric,
  "挂号费奖励" numeric,
  "门诊造影绩效" numeric,
  "门诊介入绩效" numeric,
  "门诊开单点数" numeric,
  "门诊执行点数" numeric,
  "门诊基础手术绩效" numeric,
  "门诊护理点数" numeric,
  "人员工资" numeric,
  "五险一金" numeric,
  "卫生材料" numeric,
  "其他材料" numeric,
  "固定资产折旧" numeric,
  "无形资产摊销" numeric,
  "维修（护）费" numeric,
  "培训费" numeric,
  "水费" numeric,
  "电费" numeric
)
;

-- ----------------------------
-- Table structure for t_workload_drg_bill
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_bill";
CREATE TABLE "public"."t_workload_drg_bill" (
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "psn_name" varchar(50) COLLATE "pg_catalog"."default",
  "gender_name" varchar(50) COLLATE "pg_catalog"."default",
  "age" numeric(4,0),
  "inbed_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_days" varchar(6) COLLATE "pg_catalog"."default",
  "drgs_code" varchar(10) COLLATE "pg_catalog"."default",
  "drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "cv_st" varchar(20) COLLATE "pg_catalog"."default",
  "case_points" varchar(20) COLLATE "pg_catalog"."default",
  "total_points" varchar(20) COLLATE "pg_catalog"."default",
  "benchmark_points" varchar(20) COLLATE "pg_catalog"."default",
  "基准点数" varchar(10) COLLATE "pg_catalog"."default",
  "点值" varchar(10) COLLATE "pg_catalog"."default",
  "差异系数" varchar(10) COLLATE "pg_catalog"."default",
  "医保支付价" float8,
  "total_amt" numeric(16,2),
  "drug_amt" numeric(16,2),
  "diag_amt" numeric(16,2),
  "med_sup_amt" numeric(16,2),
  "dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "参保类型" text COLLATE "pg_catalog"."default",
  "dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "insutype" varchar(10) COLLATE "pg_catalog"."default",
  "poolarea" varchar(10) COLLATE "pg_catalog"."default",
  "key_drug_points" varchar(20) COLLATE "pg_catalog"."default",
  "dialed_points" varchar(20) COLLATE "pg_catalog"."default",
  "disbursement_points" varchar(20) COLLATE "pg_catalog"."default",
  "point_fee" numeric(18,4),
  "additional_fee" numeric(18,4),
  "additional_points" numeric(18,4),
  "re_drgs_fee" numeric(18,4),
  "case_type" varchar(50) COLLATE "pg_catalog"."default",
  "doctor_code" varchar(50) COLLATE "pg_catalog"."default",
  "bill_dt" date,
  "yyyy_mm" text COLLATE "pg_catalog"."default",
  "st_fee" numeric(10,2) DEFAULT 0,
  "total_cost" numeric(10,2) DEFAULT 0,
  "direct_profit" numeric(10,2) DEFAULT 0,
  "total_fee" numeric(10,2) DEFAULT 0,
  "if_tran" varchar(6) COLLATE "pg_catalog"."default" DEFAULT NULL::character varying
)
;

-- ----------------------------
-- Table structure for t_workload_drg_bill_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_bill_detail";
CREATE TABLE "public"."t_workload_drg_bill_detail" (
  "序号" int4,
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "结算日期" date,
  "年月" text COLLATE "pg_catalog"."default",
  "参保类型" text COLLATE "pg_catalog"."default",
  "参保地" varchar(10) COLLATE "pg_catalog"."default",
  "转科" varchar(6) COLLATE "pg_catalog"."default",
  "姓名" varchar(50) COLLATE "pg_catalog"."default",
  "drg编码" varchar(50) COLLATE "pg_catalog"."default",
  "drg名称" varchar(200) COLLATE "pg_catalog"."default",
  "总费用" numeric(10,2),
  "总成本" numeric(10,2),
  "医保支付价" numeric(10,2),
  "盈亏" numeric,
  "总费用支付价比" numeric,
  "绩效基数" numeric,
  "治疗方式" text COLLATE "pg_catalog"."default",
  "科室代码" varchar(30) COLLATE "pg_catalog"."default",
  "科室名称" varchar(30) COLLATE "pg_catalog"."default",
  "药品总费用" numeric(16,2),
  "服务项目总费用" numeric(16,2),
  "耗材总费用" numeric(16,2),
  "基准点数" varchar(10) COLLATE "pg_catalog"."default",
  "点值" varchar(10) COLLATE "pg_catalog"."default",
  "差异系数" varchar(10) COLLATE "pg_catalog"."default",
  "费用发生科室" varchar(32) COLLATE "pg_catalog"."default",
  "费用科室名称" varchar COLLATE "pg_catalog"."default",
  "科室总费用" numeric,
  "费用占比" numeric,
  "科室总治疗成本" numeric,
  "科室成本费用比" numeric,
  "化验费" numeric(12,2),
  "床位费" numeric(12,2),
  "治疗费" numeric(12,2),
  "西药费" numeric(12,2),
  "材料费" numeric(12,2),
  "肺功能检查" numeric(12,2),
  "放射费" numeric(12,2),
  "手术费" numeric(12,2),
  "诊查费" numeric(12,2),
  "CT" numeric(12,2),
  "中药费" numeric(12,2),
  "护理费" numeric(12,2),
  "输氧费" numeric(12,2),
  "医疗废物" numeric(12,2),
  "脑电图" numeric(12,2),
  "高值耗材" numeric(12,2),
  "康复治疗" numeric(12,2),
  "彩超费" numeric(12,2),
  "核磁共振" numeric(12,2),
  "心电图" numeric(12,2),
  "麻醉费" numeric(12,2),
  "肠镜" numeric(12,2),
  "血费" numeric(12,2),
  "病理" numeric(12,2),
  "草药费" numeric(12,2),
  "胃镜" numeric(12,2),
  "病理外检" numeric(12,2),
  "科室检查" numeric(12,2),
  "检验外检" numeric(12,2),
  "肾透析" numeric(12,2),
  "救护车" numeric(12,2),
  "其他" numeric(12,2),
  "resi_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "doctor_code" varchar(20) COLLATE "pg_catalog"."default",
  "doctor_name" varchar(20) COLLATE "pg_catalog"."default",
  "绩效" numeric(20,0)
)
;

-- ----------------------------
-- Table structure for t_workload_drg_point
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_point";
CREATE TABLE "public"."t_workload_drg_point" (
  "id" int4 NOT NULL,
  "统筹区" varchar(50) COLLATE "pg_catalog"."default",
  "参保类型" varchar(10) COLLATE "pg_catalog"."default",
  "DRG编码" varchar(10) COLLATE "pg_catalog"."default",
  "DRG名称" varchar(200) COLLATE "pg_catalog"."default",
  "基准点数" numeric(10,4),
  "差异系数" numeric(10,4),
  "点值" numeric(10,4),
  "清算标准" float8
)
;

-- ----------------------------
-- Table structure for t_workload_drg_point_backup
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_point_backup";
CREATE TABLE "public"."t_workload_drg_point_backup" (
  "统筹区" varchar(50) COLLATE "pg_catalog"."default",
  "参保类型" varchar(10) COLLATE "pg_catalog"."default",
  "DRG编码" varchar(10) COLLATE "pg_catalog"."default",
  "DRG名称" varchar(200) COLLATE "pg_catalog"."default",
  "基准点数" float8,
  "差异系数" float8,
  "点值" float8
)
;

-- ----------------------------
-- Table structure for t_workload_drg_sum_fee
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_sum_fee";
CREATE TABLE "public"."t_workload_drg_sum_fee" (
  "住院标识" varchar(32) COLLATE "pg_catalog"."default",
  "费用发生科室" varchar(32) COLLATE "pg_catalog"."default",
  "科室总费用" numeric,
  "科室总治疗成本" numeric
)
;

-- ----------------------------
-- Table structure for t_workload_drg_sum_fee_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_sum_fee_detail";
CREATE TABLE "public"."t_workload_drg_sum_fee_detail" (
  "住院标识" varchar(32) COLLATE "pg_catalog"."default",
  "费用发生科室" varchar(32) COLLATE "pg_catalog"."default",
  "医保支付价" float8,
  "科室总费用" numeric,
  "科室总治疗成本" numeric,
  "总费用" numeric(16,2),
  "总成本" numeric(10,2),
  "救护车" numeric(12,2) DEFAULT 0,
  "材料费" numeric(12,2) DEFAULT 0,
  "肺功能检查" numeric(12,2) DEFAULT 0,
  "放射费" numeric(12,2) DEFAULT 0,
  "手术费" numeric(12,2) DEFAULT 0,
  "诊查费" numeric(12,2) DEFAULT 0,
  "肾透析" numeric(12,2) DEFAULT 0,
  "高值耗材" numeric(12,2) DEFAULT 0,
  "脑电图" numeric(12,2) DEFAULT 0,
  "病理" numeric(12,2) DEFAULT 0,
  "胃镜" numeric(12,2) DEFAULT 0,
  "病理外检" numeric(12,2) DEFAULT 0,
  "CT" numeric(12,2) DEFAULT 0,
  "彩超费" numeric(12,2) DEFAULT 0,
  "康复治疗" numeric(12,2) DEFAULT 0,
  "科室检查" numeric(12,2) DEFAULT 0,
  "血费" numeric(12,2) DEFAULT 0,
  "中医治疗" numeric(12,2) DEFAULT 0,
  "中药费" numeric(12,2) DEFAULT 0,
  "护理费" numeric(12,2) DEFAULT 0,
  "核磁共振" numeric(12,2) DEFAULT 0,
  "输氧费" numeric(12,2) DEFAULT 0,
  "草药费" numeric(12,2) DEFAULT 0,
  "其他" numeric(12,2) DEFAULT 0,
  "心电图" numeric(12,2) DEFAULT 0,
  "麻醉费" numeric(12,2) DEFAULT 0,
  "化验费" numeric(12,2) DEFAULT 0,
  "医疗废物" numeric(12,2) DEFAULT 0,
  "床位费" numeric(12,2) DEFAULT 0,
  "胶片材料" numeric(12,2) DEFAULT 0,
  "治疗费" numeric(12,2) DEFAULT 0,
  "西药费" numeric(12,2) DEFAULT 0,
  "肠镜" numeric(12,2) DEFAULT 0
)
;

-- ----------------------------
-- Table structure for t_workload_drg_tran_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drg_tran_detail";
CREATE TABLE "public"."t_workload_drg_tran_detail" (
  "序号" int4,
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "结算日期" date,
  "年月" text COLLATE "pg_catalog"."default",
  "参保类型" text COLLATE "pg_catalog"."default",
  "参保地" varchar(10) COLLATE "pg_catalog"."default",
  "转科" varchar(6) COLLATE "pg_catalog"."default",
  "姓名" varchar(50) COLLATE "pg_catalog"."default",
  "drg编码" varchar(50) COLLATE "pg_catalog"."default",
  "drg名称" varchar(200) COLLATE "pg_catalog"."default",
  "总费用" numeric(10,2),
  "总成本" numeric(10,2),
  "医保支付价" numeric(10,2),
  "盈亏" numeric,
  "总费用支付价比" numeric,
  "绩效基数" numeric,
  "治疗方式" text COLLATE "pg_catalog"."default",
  "科室代码" varchar(30) COLLATE "pg_catalog"."default",
  "科室名称" varchar(30) COLLATE "pg_catalog"."default",
  "药品总费用" numeric(16,2),
  "服务项目总费用" numeric(16,2),
  "耗材总费用" numeric(16,2),
  "基准点数" varchar(10) COLLATE "pg_catalog"."default",
  "点值" varchar(10) COLLATE "pg_catalog"."default",
  "差异系数" varchar(10) COLLATE "pg_catalog"."default",
  "费用发生科室" varchar(32) COLLATE "pg_catalog"."default",
  "费用科室名称" varchar COLLATE "pg_catalog"."default",
  "科室总费用" numeric,
  "费用占比" numeric,
  "科室总治疗成本" numeric,
  "科室成本费用比" numeric,
  "化验费" numeric(12,2),
  "床位费" numeric(12,2),
  "治疗费" numeric(12,2),
  "西药费" numeric(12,2),
  "材料费" numeric(12,2),
  "肺功能检查" numeric(12,2),
  "放射费" numeric(12,2),
  "手术费" numeric(12,2),
  "诊查费" numeric(12,2),
  "CT" numeric(12,2),
  "中药费" numeric(12,2),
  "护理费" numeric(12,2),
  "输氧费" numeric(12,2),
  "医疗废物" numeric(12,2),
  "脑电图" numeric(12,2),
  "高值耗材" numeric(12,2),
  "康复治疗" numeric(12,2),
  "彩超费" numeric(12,2),
  "核磁共振" numeric(12,2),
  "心电图" numeric(12,2),
  "麻醉费" numeric(12,2),
  "肠镜" numeric(12,2),
  "血费" numeric(12,2),
  "病理" numeric(12,2),
  "草药费" numeric(12,2),
  "胃镜" numeric(12,2),
  "病理外检" numeric(12,2),
  "科室检查" numeric(12,2),
  "检验外检" numeric(12,2),
  "肾透析" numeric(12,2),
  "救护车" numeric(12,2),
  "其他" numeric(12,2),
  "主管医生代码" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_drgs
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drgs";
CREATE TABLE "public"."t_workload_drgs" (
  "inbed_drgs_id" numeric(16,0) NOT NULL,
  "inbed_reg_id" numeric(16,0),
  "psn_name" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_days" numeric(6,0),
  "age" numeric(4,0),
  "birth_day" timestamp(6),
  "gender_code" varchar(1) COLLATE "pg_catalog"."default",
  "gender_name" varchar(50) COLLATE "pg_catalog"."default",
  "icd_code" varchar(20) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "oper_code" varchar(20) COLLATE "pg_catalog"."default",
  "oper_name" varchar(200) COLLATE "pg_catalog"."default",
  "cc_icd_code" varchar(500) COLLATE "pg_catalog"."default",
  "cc_icd_name" varchar(500) COLLATE "pg_catalog"."default",
  "bill_amt" numeric(10,2),
  "drug_amt" numeric(10,2),
  "mdc_id" numeric(8,0),
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "adrg_id" numeric(8,0),
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(400) COLLATE "pg_catalog"."default",
  "drgs_id" numeric(4,0),
  "drgs_code" varchar(50) COLLATE "pg_catalog"."default",
  "drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "is_death" numeric(1,0),
  "doctor_code" varchar(50) COLLATE "pg_catalog"."default",
  "doctor_name" varchar(100) COLLATE "pg_catalog"."default",
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_days_avg" numeric(6,0),
  "payment_avg" numeric(10,2),
  "bill_dt" timestamp(6),
  "create_dt" timestamp(6),
  "user_id" numeric(8,0),
  "user_code" varchar(50) COLLATE "pg_catalog"."default",
  "user_name" varchar(100) COLLATE "pg_catalog"."default",
  "status" varchar(8) COLLATE "pg_catalog"."default",
  "modify_user_id" numeric(8,0),
  "modify_user_code" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user_name" varchar(100) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "rw" numeric(16,4),
  "score" numeric(10,4),
  "death_lev" numeric(16,0),
  "represent_flag" varchar(10) COLLATE "pg_catalog"."default",
  "represent_res" varchar(4000) COLLATE "pg_catalog"."default",
  "operating_status" varchar(2) COLLATE "pg_catalog"."default",
  "operating_time" timestamp(6),
  "re_drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "re_drgs_code" varchar(20) COLLATE "pg_catalog"."default",
  "re_oper_name" varchar(200) COLLATE "pg_catalog"."default",
  "re_oper_code" varchar(20) COLLATE "pg_catalog"."default",
  "re_icd_code" varchar(20) COLLATE "pg_catalog"."default",
  "re_icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_drgs_code" varchar(20) COLLATE "pg_catalog"."default",
  "pre_oper_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_oper_code" varchar(20) COLLATE "pg_catalog"."default",
  "pre_icd_code" varchar(20) COLLATE "pg_catalog"."default",
  "pre_icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "case_type" varchar(50) COLLATE "pg_catalog"."default",
  "plan_area" varchar(100) COLLATE "pg_catalog"."default",
  "match_oper" varchar(100) COLLATE "pg_catalog"."default",
  "key_drug_fee" numeric(18,4),
  "recliner_fee" numeric(18,4),
  "food_fee" numeric(18,4),
  "excessive_bed_fee" numeric(18,4),
  "cash_pay_fee" numeric(18,4),
  "other_accounts" numeric(18,4),
  "rule_deductions" numeric(18,4),
  "psn_category" varchar(100) COLLATE "pg_catalog"."default",
  "participant_id" varchar(100) COLLATE "pg_catalog"."default",
  "disbursement_dt" timestamp(6),
  "benchmark_points" numeric(18,4),
  "cv_st" numeric(18,4),
  "case_points" numeric(18,4),
  "total_points" numeric(18,4),
  "key_drug_points" numeric(18,4),
  "dialed_points" numeric(18,4),
  "disbursement_points" numeric(18,4),
  "point_fee" numeric(18,4),
  "additional_points" numeric(18,4),
  "additional_fee" numeric(18,4),
  "re_drgs_fee" numeric(18,4),
  "pre_yk" numeric(10,4),
  "re_yk" numeric(10,4),
  "outhosp_date" timestamp(6),
  "hosp_id" numeric(16,0) NOT NULL,
  "create_time" timestamp(6),
  "si_type_id" varchar(3) COLLATE "pg_catalog"."default",
  "payment_st" numeric(20,2),
  "medical_number" varchar(100) COLLATE "pg_catalog"."default",
  "self_amount" numeric(10,2),
  "case_rate" numeric(18,4),
  "group_type" varchar(20) COLLATE "pg_catalog"."default",
  "dip_type" varchar(20) COLLATE "pg_catalog"."default",
  "group_result" numeric(2,0),
  "reason_type" varchar(100) COLLATE "pg_catalog"."default",
  "reason_detail" varchar(100) COLLATE "pg_catalog"."default",
  "stable_group" numeric(1,0),
  "basic_group" numeric(1,0),
  "mcc_icd_code" varchar(1000) COLLATE "pg_catalog"."default",
  "mcc_icd_name" varchar(1000) COLLATE "pg_catalog"."default",
  "except_reason" varchar(100) COLLATE "pg_catalog"."default",
  "bed_day_paytype" varchar(200) COLLATE "pg_catalog"."default",
  "bed_day_memo" varchar(200) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_drgs"."inbed_drgs_id" IS '主键';
COMMENT ON COLUMN "public"."t_workload_drgs"."inbed_reg_id" IS '病案首页id';
COMMENT ON COLUMN "public"."t_workload_drgs"."psn_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_workload_drgs"."inbed_code" IS '住院号';
COMMENT ON COLUMN "public"."t_workload_drgs"."inbed_days" IS '住院天数';
COMMENT ON COLUMN "public"."t_workload_drgs"."age" IS '患者年龄';
COMMENT ON COLUMN "public"."t_workload_drgs"."birth_day" IS '患者出生日期';
COMMENT ON COLUMN "public"."t_workload_drgs"."gender_code" IS '性别编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."gender_name" IS '性别名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."icd_code" IS '主诊断编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."icd_name" IS '主诊断名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."oper_code" IS '主操作编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."oper_name" IS '住操作名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."cc_icd_code" IS '并发症与合并症编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."cc_icd_name" IS '并发症与合并症名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."bill_amt" IS '住院总费用';
COMMENT ON COLUMN "public"."t_workload_drgs"."drug_amt" IS '住院药品费';
COMMENT ON COLUMN "public"."t_workload_drgs"."mdc_id" IS '主要诊断大类id';
COMMENT ON COLUMN "public"."t_workload_drgs"."mdc_code" IS '主要诊断大类编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."mdc_name" IS '主要诊断大类名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."adrg_id" IS '核心分组id';
COMMENT ON COLUMN "public"."t_workload_drgs"."adrg_code" IS '核心分组编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."adrg_name" IS '核心分组名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."drgs_id" IS '分组情况';
COMMENT ON COLUMN "public"."t_workload_drgs"."drgs_code" IS '分组编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."drgs_name" IS '分组名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."is_death" IS '是否死亡';
COMMENT ON COLUMN "public"."t_workload_drgs"."doctor_code" IS '主管医生编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."doctor_name" IS '主管医生名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."dep_code" IS '住院科室编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."dep_name" IS '住院科室名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."inbed_days_avg" IS '病种标准住院天数';
COMMENT ON COLUMN "public"."t_workload_drgs"."payment_avg" IS '病种标准住院费用';
COMMENT ON COLUMN "public"."t_workload_drgs"."bill_dt" IS '费用结算日期';
COMMENT ON COLUMN "public"."t_workload_drgs"."create_dt" IS '记录生成时间';
COMMENT ON COLUMN "public"."t_workload_drgs"."user_id" IS '操作员id';
COMMENT ON COLUMN "public"."t_workload_drgs"."user_code" IS '操作员';
COMMENT ON COLUMN "public"."t_workload_drgs"."user_name" IS '操作员姓名';
COMMENT ON COLUMN "public"."t_workload_drgs"."status" IS '状态';
COMMENT ON COLUMN "public"."t_workload_drgs"."modify_user_id" IS '修改人id';
COMMENT ON COLUMN "public"."t_workload_drgs"."modify_user_code" IS '修改人编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."modify_user_name" IS '修改人姓名';
COMMENT ON COLUMN "public"."t_workload_drgs"."modify_dt" IS '修改日期';
COMMENT ON COLUMN "public"."t_workload_drgs"."rw" IS '权重';
COMMENT ON COLUMN "public"."t_workload_drgs"."score" IS '分值';
COMMENT ON COLUMN "public"."t_workload_drgs"."death_lev" IS '死亡风险等级';
COMMENT ON COLUMN "public"."t_workload_drgs"."operating_status" IS '手术操作状态';
COMMENT ON COLUMN "public"."t_workload_drgs"."operating_time" IS '手术操作日期';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_drgs_name" IS '反馈分组名称
';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_drgs_code" IS '反馈分组编码
';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_oper_name" IS '反馈分组主手术名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_oper_code" IS '反馈分组主手术编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_icd_code" IS '反馈分组主诊断编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_icd_name" IS '反馈分组主诊断名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_drgs_name" IS '预分组名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_drgs_code" IS '预分组编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_oper_name" IS '预分组主手术名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_oper_code" IS '预分组主手术编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_icd_code" IS '预分组主诊断编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_icd_name" IS '预分组主诊断名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."case_type" IS '病例类型';
COMMENT ON COLUMN "public"."t_workload_drgs"."plan_area" IS '统筹区';
COMMENT ON COLUMN "public"."t_workload_drgs"."match_oper" IS '主手术匹配';
COMMENT ON COLUMN "public"."t_workload_drgs"."key_drug_fee" IS '重点保障药等（剔除）(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."recliner_fee" IS '躺椅费（剔除）(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."food_fee" IS '伙食费（剔除）(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."excessive_bed_fee" IS '超标床位费（剔除）(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."cash_pay_fee" IS '现金支付（全）(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."other_accounts" IS '其他账户(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."rule_deductions" IS '规则扣款(元)';
COMMENT ON COLUMN "public"."t_workload_drgs"."psn_category" IS '人员类别';
COMMENT ON COLUMN "public"."t_workload_drgs"."participant_id" IS '参保人id';
COMMENT ON COLUMN "public"."t_workload_drgs"."disbursement_dt" IS '拨付时间';
COMMENT ON COLUMN "public"."t_workload_drgs"."benchmark_points" IS '基准点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."cv_st" IS '差异系数';
COMMENT ON COLUMN "public"."t_workload_drgs"."case_points" IS '病例点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."total_points" IS '总点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."key_drug_points" IS '重点保障药点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."dialed_points" IS '应拨点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."disbursement_points" IS '拨付点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."point_fee" IS 'drg每点数费用';
COMMENT ON COLUMN "public"."t_workload_drgs"."additional_points" IS '追加点数';
COMMENT ON COLUMN "public"."t_workload_drgs"."additional_fee" IS '追加金额';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_drgs_fee" IS '反馈医疗总费用';
COMMENT ON COLUMN "public"."t_workload_drgs"."pre_yk" IS '预分组盈亏';
COMMENT ON COLUMN "public"."t_workload_drgs"."re_yk" IS '反馈分组盈亏';
COMMENT ON COLUMN "public"."t_workload_drgs"."outhosp_date" IS '出院时间';
COMMENT ON COLUMN "public"."t_workload_drgs"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_workload_drgs"."create_time" IS '创建时间';
COMMENT ON COLUMN "public"."t_workload_drgs"."si_type_id" IS '医疗付费方式';
COMMENT ON COLUMN "public"."t_workload_drgs"."payment_st" IS 'drgs组付费标准';
COMMENT ON COLUMN "public"."t_workload_drgs"."medical_number" IS '病案号';
COMMENT ON COLUMN "public"."t_workload_drgs"."self_amount" IS '自付费用金额';
COMMENT ON COLUMN "public"."t_workload_drgs"."case_rate" IS '倍率值';
COMMENT ON COLUMN "public"."t_workload_drgs"."group_type" IS '分组类型 dip/drg';
COMMENT ON COLUMN "public"."t_workload_drgs"."dip_type" IS 'dip_分组类型 （核心组，综合组）';
COMMENT ON COLUMN "public"."t_workload_drgs"."group_result" IS '分组结果类型 1已入组(正常入组) 2 未入组(包含qy/ 0000组/编码未识别/其他)';
COMMENT ON COLUMN "public"."t_workload_drgs"."reason_type" IS '未入组结果类型';
COMMENT ON COLUMN "public"."t_workload_drgs"."reason_detail" IS '未入组详情';
COMMENT ON COLUMN "public"."t_workload_drgs"."stable_group" IS '稳定病组 1是 0否';
COMMENT ON COLUMN "public"."t_workload_drgs"."basic_group" IS '基础病组  1是 0否';
COMMENT ON COLUMN "public"."t_workload_drgs"."mcc_icd_code" IS 'mcc编码';
COMMENT ON COLUMN "public"."t_workload_drgs"."mcc_icd_name" IS 'mcc编码名称';
COMMENT ON COLUMN "public"."t_workload_drgs"."except_reason" IS '排除组排除理由';
COMMENT ON COLUMN "public"."t_workload_drgs"."bed_day_paytype" IS '床日结算方式：超过按费用标准计算总费用80%、低于按费用标准计算总费用80%、其他科室转康复科类病例';
COMMENT ON COLUMN "public"."t_workload_drgs"."bed_day_memo" IS '床日结算备注：具体计算公式';
COMMENT ON TABLE "public"."t_workload_drgs" IS 'drg分组结果表';

-- ----------------------------
-- Table structure for t_workload_drgs_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_drgs_f";
CREATE FOREIGN TABLE "public"."t_workload_drgs_f" (
  "inbed_drgs_id" varchar(20) COLLATE "pg_catalog"."default",
  "inbed_reg_id" varchar(20) COLLATE "pg_catalog"."default",
  "psn_name" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_days" varchar(6) COLLATE "pg_catalog"."default",
  "age" numeric(4,0),
  "birth_day" date,
  "gender_code" varchar(1) COLLATE "pg_catalog"."default",
  "gender_name" varchar(50) COLLATE "pg_catalog"."default",
  "icd_code" varchar(20) COLLATE "pg_catalog"."default",
  "icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "oper_code" varchar(20) COLLATE "pg_catalog"."default",
  "oper_name" varchar(200) COLLATE "pg_catalog"."default",
  "cc_icd_code" varchar(500) COLLATE "pg_catalog"."default",
  "cc_icd_name" varchar(500) COLLATE "pg_catalog"."default",
  "bill_amt" numeric(10,2),
  "drug_amt" numeric(10,2),
  "mdc_id" numeric(8,0),
  "mdc_code" varchar(50) COLLATE "pg_catalog"."default",
  "mdc_name" varchar(200) COLLATE "pg_catalog"."default",
  "adrg_id" numeric(8,0),
  "adrg_code" varchar(50) COLLATE "pg_catalog"."default",
  "adrg_name" varchar(400) COLLATE "pg_catalog"."default",
  "drgs_id" numeric(4,0),
  "drgs_code" varchar(50) COLLATE "pg_catalog"."default",
  "drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "is_death" numeric(1,0),
  "doctor_code" varchar(50) COLLATE "pg_catalog"."default",
  "doctor_name" varchar(100) COLLATE "pg_catalog"."default",
  "dep_code" varchar(50) COLLATE "pg_catalog"."default",
  "dep_name" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_days_avg" numeric(6,0),
  "payment_avg" numeric(10,2),
  "bill_dt" date,
  "create_dt" date,
  "status" varchar(8) COLLATE "pg_catalog"."default",
  "modify_dt" varchar(20) COLLATE "pg_catalog"."default",
  "rw" varchar(20) COLLATE "pg_catalog"."default",
  "score" numeric(10,4),
  "death_lev" numeric(16,0),
  "represent_flag" varchar(10) COLLATE "pg_catalog"."default",
  "represent_res" varchar(400) COLLATE "pg_catalog"."default",
  "operating_status" varchar(2) COLLATE "pg_catalog"."default",
  "operating_time" varchar(20) COLLATE "pg_catalog"."default",
  "re_drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "re_drgs_code" varchar(20) COLLATE "pg_catalog"."default",
  "re_oper_name" varchar(200) COLLATE "pg_catalog"."default",
  "re_oper_code" varchar(20) COLLATE "pg_catalog"."default",
  "re_icd_code" varchar(20) COLLATE "pg_catalog"."default",
  "re_icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_drgs_code" varchar(20) COLLATE "pg_catalog"."default",
  "pre_oper_name" varchar(200) COLLATE "pg_catalog"."default",
  "pre_oper_code" varchar(20) COLLATE "pg_catalog"."default",
  "pre_icd_code" varchar(20) COLLATE "pg_catalog"."default",
  "pre_icd_name" varchar(200) COLLATE "pg_catalog"."default",
  "case_type" varchar(50) COLLATE "pg_catalog"."default",
  "plan_area" varchar(100) COLLATE "pg_catalog"."default",
  "match_oper" varchar(100) COLLATE "pg_catalog"."default",
  "key_drug_fee" varchar(20) COLLATE "pg_catalog"."default",
  "recliner_fee" numeric(18,4),
  "food_fee" numeric(18,4),
  "excessive_bed_fee" numeric(18,4),
  "cash_pay_fee" numeric(18,4),
  "other_accounts" numeric(18,4),
  "rule_deductions" numeric(18,4),
  "psn_category" varchar(100) COLLATE "pg_catalog"."default",
  "participant_id" varchar(100) COLLATE "pg_catalog"."default",
  "disbursement_dt" varchar(20) COLLATE "pg_catalog"."default",
  "benchmark_points" varchar(20) COLLATE "pg_catalog"."default",
  "cv_st" varchar(20) COLLATE "pg_catalog"."default",
  "case_points" varchar(20) COLLATE "pg_catalog"."default",
  "total_points" varchar(20) COLLATE "pg_catalog"."default",
  "key_drug_points" varchar(20) COLLATE "pg_catalog"."default",
  "dialed_points" varchar(20) COLLATE "pg_catalog"."default",
  "disbursement_points" varchar(20) COLLATE "pg_catalog"."default",
  "point_fee" numeric(18,4),
  "additional_points" numeric(18,4),
  "additional_fee" numeric(18,4),
  "re_drgs_fee" numeric(18,4),
  "pre_yk" numeric(10,4),
  "re_yk" numeric(10,4),
  "outhosp_date" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_id" varchar(30) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(3) COLLATE "pg_catalog"."default",
  "payment_st" varchar(20) COLLATE "pg_catalog"."default",
  "medical_number" varchar(100) COLLATE "pg_catalog"."default",
  "self_amount" varchar(20) COLLATE "pg_catalog"."default",
  "case_rate" numeric(18,4),
  "group_type" varchar(20) COLLATE "pg_catalog"."default",
  "dip_type" varchar(20) COLLATE "pg_catalog"."default",
  "group_result" varchar(20) COLLATE "pg_catalog"."default",
  "reason_type" varchar(20) COLLATE "pg_catalog"."default",
  "reason_detail" varchar(100) COLLATE "pg_catalog"."default",
  "stable_group" varchar(100) COLLATE "pg_catalog"."default",
  "basic_group" varchar(100) COLLATE "pg_catalog"."default",
  "mcc_icd_code" varchar(100) COLLATE "pg_catalog"."default",
  "mcc_icd_name" varchar(100) COLLATE "pg_catalog"."default",
  "except_reason" varchar(100) COLLATE "pg_catalog"."default",
  "bed_day_paytype" varchar(100) COLLATE "pg_catalog"."default",
  "bed_day_memo" varchar(100) COLLATE "pg_catalog"."default",
  "DRG编码" varchar(10) COLLATE "pg_catalog"."default",
  "DRG名称" varchar(100) COLLATE "pg_catalog"."default",
  "初始点数" varchar(10) COLLATE "pg_catalog"."default",
  "基准点数" varchar(10) COLLATE "pg_catalog"."default",
  "差异系数" varchar(10) COLLATE "pg_catalog"."default",
  "费用倍率" varchar(10) COLLATE "pg_catalog"."default",
  "例均费用" varchar(10) COLLATE "pg_catalog"."default",
  "总费用" varchar(10) COLLATE "pg_catalog"."default",
  "统筹支付" varchar(10) COLLATE "pg_catalog"."default",
  "最终点数" varchar(10) COLLATE "pg_catalog"."default",
  "点值" varchar(10) COLLATE "pg_catalog"."default",
  "调节系数" varchar(10) COLLATE "pg_catalog"."default",
  "按DRG清算金额" varchar(20) COLLATE "pg_catalog"."default",
  "按政策调节后DRG清算金额" varchar(20) COLLATE "pg_catalog"."default"
)
SERVER "oracle_ybdb"
OPTIONS ("schema" 'YBDB', "table" 'V_WORKLOAD_DRGS')
;

-- ----------------------------
-- Table structure for t_workload_emr_r
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_emr_r";
CREATE TABLE "public"."t_workload_emr_r" (
  "patient_id" varchar(30) COLLATE "pg_catalog"."default",
  "psn_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "inbed_bill_code" varchar(30) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(30) COLLATE "pg_catalog"."default",
  "fill_medical_department" varchar(30) COLLATE "pg_catalog"."default",
  "fill_medical_person" varchar(30) COLLATE "pg_catalog"."default",
  "org_id" varchar(30) COLLATE "pg_catalog"."default",
  "si_type_id" varchar(30) COLLATE "pg_catalog"."default",
  "psn_code" varchar(30) COLLATE "pg_catalog"."default",
  "health_card_number" varchar(30) COLLATE "pg_catalog"."default",
  "medical_number" varchar(30) COLLATE "pg_catalog"."default",
  "inbed_cnt" varchar(30) COLLATE "pg_catalog"."default",
  "psn_name" varchar(30) COLLATE "pg_catalog"."default",
  "gender_code" varchar(30) COLLATE "pg_catalog"."default",
  "gender_name" varchar(30) COLLATE "pg_catalog"."default",
  "birthdate" varchar(30) COLLATE "pg_catalog"."default",
  "age" varchar(30) COLLATE "pg_catalog"."default",
  "dayage" varchar(30) COLLATE "pg_catalog"."default",
  "national_code" varchar(30) COLLATE "pg_catalog"."default",
  "birth_detai_address" varchar(30) COLLATE "pg_catalog"."default",
  "native_place" varchar(30) COLLATE "pg_catalog"."default",
  "nation" varchar(30) COLLATE "pg_catalog"."default",
  "marriage_codde" varchar(30) COLLATE "pg_catalog"."default",
  "accountant" varchar(30) COLLATE "pg_catalog"."default",
  "current_detail_address" varchar(30) COLLATE "pg_catalog"."default",
  "current_tel" varchar(30) COLLATE "pg_catalog"."default",
  "current_post_code" varchar(30) COLLATE "pg_catalog"."default",
  "census_detail_address" varchar(30) COLLATE "pg_catalog"."default",
  "census_post_code" varchar(30) COLLATE "pg_catalog"."default",
  "employer_name" varchar(30) COLLATE "pg_catalog"."default",
  "company_detail_address" varchar(30) COLLATE "pg_catalog"."default",
  "company_tel" varchar(30) COLLATE "pg_catalog"."default",
  "company__post_code" varchar(30) COLLATE "pg_catalog"."default",
  "contact_peron_tel" varchar(30) COLLATE "pg_catalog"."default",
  "contact_per1" varchar(30) COLLATE "pg_catalog"."default",
  "relationship" varchar(30) COLLATE "pg_catalog"."default",
  "contact_per2" varchar(30) COLLATE "pg_catalog"."default",
  "contact_per3" varchar(30) COLLATE "pg_catalog"."default",
  "id_type" varchar(30) COLLATE "pg_catalog"."default",
  "id_no" varchar(30) COLLATE "pg_catalog"."default",
  "new_born_ad" varchar(30) COLLATE "pg_catalog"."default",
  "birth_weigh" varchar(30) COLLATE "pg_catalog"."default",
  "birth_inhos" varchar(30) COLLATE "pg_catalog"."default",
  "hospitaliza" varchar(30) COLLATE "pg_catalog"."default",
  "therapeutic" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_dept" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_dept1" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_way" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_varchar(30)" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_ward" varchar(30) COLLATE "pg_catalog"."default",
  "trans_dept" varchar(30) COLLATE "pg_catalog"."default",
  "trans_dept_" varchar(30) COLLATE "pg_catalog"."default",
  "outhosp_dep" varchar(30) COLLATE "pg_catalog"."default",
  "outhosp_dep1" varchar(30) COLLATE "pg_catalog"."default",
  "outhosp_dat" varchar(30) COLLATE "pg_catalog"."default",
  "outhosp_war" varchar(30) COLLATE "pg_catalog"."default",
  "inbed_days" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_orig" varchar(30) COLLATE "pg_catalog"."default",
  "inhosp_orig1" varchar(30) COLLATE "pg_catalog"."default",
  "tcm_diag_na" varchar(30) COLLATE "pg_catalog"."default",
  "tcm_diag_co" varchar(30) COLLATE "pg_catalog"."default",
  "is_clinic_p" varchar(30) COLLATE "pg_catalog"."default",
  "exter_origi" varchar(30) COLLATE "pg_catalog"."default",
  "exter_origi1" varchar(30) COLLATE "pg_catalog"."default",
  "is_modern_c" varchar(30) COLLATE "pg_catalog"."default",
  "pathologica" varchar(30) COLLATE "pg_catalog"."default",
  "pathologica1" varchar(30) COLLATE "pg_catalog"."default",
  "pathologica2" varchar(30) COLLATE "pg_catalog"."default",
  "is_drug_all" varchar(30) COLLATE "pg_catalog"."default",
  "allergic_dr" varchar(30) COLLATE "pg_catalog"."default",
  "is_autopsy" varchar(30) COLLATE "pg_catalog"."default",
  "blood_type" varchar(30) COLLATE "pg_catalog"."default",
  "rh_blood_ty" varchar(30) COLLATE "pg_catalog"."default",
  "director_na" varchar(30) COLLATE "pg_catalog"."default",
  "director_co" varchar(30) COLLATE "pg_catalog"."default",
  "deputy_dire" varchar(30) COLLATE "pg_catalog"."default",
  "deputy_dire1" varchar(30) COLLATE "pg_catalog"."default",
  "attending_p" varchar(30) COLLATE "pg_catalog"."default",
  "attending_p1" varchar(30) COLLATE "pg_catalog"."default",
  "physician_i" varchar(30) COLLATE "pg_catalog"."default",
  "resident_na" varchar(30) COLLATE "pg_catalog"."default",
  "resident_co" varchar(30) COLLATE "pg_catalog"."default",
  "primary_nur" varchar(30) COLLATE "pg_catalog"."default",
  "primary_nur1" varchar(30) COLLATE "pg_catalog"."default",
  "nurse_ins_c" varchar(30) COLLATE "pg_catalog"."default",
  "refresher_d" varchar(30) COLLATE "pg_catalog"."default",
  "intern_doct" varchar(30) COLLATE "pg_catalog"."default",
  "coder_name" varchar(30) COLLATE "pg_catalog"."default",
  "medical_qua" varchar(30) COLLATE "pg_catalog"."default",
  "quality_doc" varchar(30) COLLATE "pg_catalog"."default",
  "quality_nur" varchar(30) COLLATE "pg_catalog"."default",
  "quality_dat" varchar(30) COLLATE "pg_catalog"."default",
  "ventilator_" varchar(30) COLLATE "pg_catalog"."default",
  "ventilator_1" varchar(30) COLLATE "pg_catalog"."default",
  "ventilator_2" varchar(30) COLLATE "pg_catalog"."default",
  "before_inho" varchar(30) COLLATE "pg_catalog"."default",
  "before_inho1" varchar(30) COLLATE "pg_catalog"."default",
  "before_inho2" varchar(30) COLLATE "pg_catalog"."default",
  "after_inhos" varchar(30) COLLATE "pg_catalog"."default",
  "after_inhos1" varchar(30) COLLATE "pg_catalog"."default",
  "after_inhos2" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion1" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion2" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion3" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion4" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion5" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion6" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion7" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion8" varchar(30) COLLATE "pg_catalog"."default",
  "transfusion9" varchar(30) COLLATE "pg_catalog"."default",
  "special_nur" varchar(30) COLLATE "pg_catalog"."default",
  "first_nurse" varchar(30) COLLATE "pg_catalog"."default",
  "second_nurs" varchar(30) COLLATE "pg_catalog"."default",
  "third_nurse" varchar(30) COLLATE "pg_catalog"."default",
  "is_rescue" varchar(30) COLLATE "pg_catalog"."default",
  "rescue_time" varchar(30) COLLATE "pg_catalog"."default",
  "rescue_succ" varchar(30) COLLATE "pg_catalog"."default",
  "receive_org" varchar(30) COLLATE "pg_catalog"."default",
  "receive_org1" varchar(30) COLLATE "pg_catalog"."default",
  "is_again_in" varchar(30) COLLATE "pg_catalog"."default",
  "is_31days_d" varchar(30) COLLATE "pg_catalog"."default",
  "outhosp_31d" varchar(30) COLLATE "pg_catalog"."default",
  "outhosp_way" varchar(30) COLLATE "pg_catalog"."default",
  "bill_code" varchar(30) COLLATE "pg_catalog"."default",
  "total_amount" varchar(30) COLLATE "pg_catalog"."default",
  "self_amount" varchar(30) COLLATE "pg_catalog"."default",
  "medical_ser" varchar(30) COLLATE "pg_catalog"."default",
  "treatmentop" varchar(30) COLLATE "pg_catalog"."default",
  "nursing_fee" varchar(30) COLLATE "pg_catalog"."default",
  "other_fee" varchar(30) COLLATE "pg_catalog"."default",
  "pathology_d" varchar(30) COLLATE "pg_catalog"."default",
  "laboratory_" varchar(30) COLLATE "pg_catalog"."default",
  "imaging_dia" varchar(30) COLLATE "pg_catalog"."default",
  "diagnosis_p" varchar(30) COLLATE "pg_catalog"."default",
  "nosurgical_" varchar(30) COLLATE "pg_catalog"."default",
  "physiothera" varchar(30) COLLATE "pg_catalog"."default",
  "surgical_tr" varchar(30) COLLATE "pg_catalog"."default",
  "anesthesia_" varchar(30) COLLATE "pg_catalog"."default",
  "surgical_fe" varchar(30) COLLATE "pg_catalog"."default",
  "rehabilitat" varchar(30) COLLATE "pg_catalog"."default",
  "tcm_fee" varchar(30) COLLATE "pg_catalog"."default",
  "west_medici" varchar(30) COLLATE "pg_catalog"."default",
  "antibiotics" varchar(30) COLLATE "pg_catalog"."default",
  "chinese_pat" varchar(30) COLLATE "pg_catalog"."default",
  "chinese_her" varchar(30) COLLATE "pg_catalog"."default",
  "blood_fee" varchar(30) COLLATE "pg_catalog"."default",
  "albumin_pro" varchar(30) COLLATE "pg_catalog"."default",
  "globulin_pr" varchar(30) COLLATE "pg_catalog"."default",
  "blood_clott" varchar(30) COLLATE "pg_catalog"."default",
  "cytokine_pr" varchar(30) COLLATE "pg_catalog"."default",
  "check_oneof" varchar(30) COLLATE "pg_catalog"."default",
  "treat_oneof" varchar(30) COLLATE "pg_catalog"."default",
  "oper_oneoff" varchar(30) COLLATE "pg_catalog"."default",
  "other_oneof" varchar(30) COLLATE "pg_catalog"."default",
  "origin_prim" varchar(30) COLLATE "pg_catalog"."default",
  "mzyy_fee" varchar(30) COLLATE "pg_catalog"."default",
  "mzhc_fee" varchar(30) COLLATE "pg_catalog"."default",
  "first_page_" varchar(30) COLLATE "pg_catalog"."default",
  "charge_type" varchar(30) COLLATE "pg_catalog"."default",
  "insurance_t" varchar(30) COLLATE "pg_catalog"."default",
  "yllb" varchar(30) COLLATE "pg_catalog"."default",
  "ybzt" varchar(30) COLLATE "pg_catalog"."default",
  "balance_dat" varchar(30) COLLATE "pg_catalog"."default",
  "file_varchar(30)" varchar(30) COLLATE "pg_catalog"."default",
  "ybdjlsh" varchar(30) COLLATE "pg_catalog"."default",
  "ybjslsh" varchar(30) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_emr_r"."patient_id" IS '患者ID';
COMMENT ON COLUMN "public"."t_workload_emr_r"."psn_id" IS '患者ID';
COMMENT ON COLUMN "public"."t_workload_emr_r"."hosp_code" IS '医疗机构编码';
COMMENT ON COLUMN "public"."t_workload_emr_r"."inbed_bill_code" IS '业务流水号';
COMMENT ON COLUMN "public"."t_workload_emr_r"."inbed_code" IS '医疗就诊ID（住院号）';
COMMENT ON COLUMN "public"."t_workload_emr_r"."fill_medical_department" IS '医疗机构填报部门';
COMMENT ON COLUMN "public"."t_workload_emr_r"."fill_medical_person" IS '医疗机构填报人';
COMMENT ON COLUMN "public"."t_workload_emr_r"."org_id" IS '医保机构';
COMMENT ON COLUMN "public"."t_workload_emr_r"."si_type_id" IS '医疗付款方式';
COMMENT ON COLUMN "public"."t_workload_emr_r"."psn_code" IS '医保个人编号';
COMMENT ON COLUMN "public"."t_workload_emr_r"."health_card_number" IS '健康卡号';
COMMENT ON COLUMN "public"."t_workload_emr_r"."medical_number" IS '病案号';
COMMENT ON COLUMN "public"."t_workload_emr_r"."inbed_cnt" IS '第N次住院';
COMMENT ON COLUMN "public"."t_workload_emr_r"."psn_name" IS '姓名';
COMMENT ON COLUMN "public"."t_workload_emr_r"."gender_code" IS '性别编码';
COMMENT ON COLUMN "public"."t_workload_emr_r"."gender_name" IS '性别';
COMMENT ON COLUMN "public"."t_workload_emr_r"."birthdate" IS '出生日期';
COMMENT ON COLUMN "public"."t_workload_emr_r"."age" IS '年龄';
COMMENT ON COLUMN "public"."t_workload_emr_r"."dayage" IS '年龄（天）';
COMMENT ON COLUMN "public"."t_workload_emr_r"."national_code" IS '国籍代码';
COMMENT ON COLUMN "public"."t_workload_emr_r"."birth_detai_address" IS '出生地-详情';
COMMENT ON COLUMN "public"."t_workload_emr_r"."native_place" IS '籍贯';
COMMENT ON COLUMN "public"."t_workload_emr_r"."nation" IS '民族';
COMMENT ON COLUMN "public"."t_workload_emr_r"."marriage_codde" IS '婚姻状况代码';
COMMENT ON COLUMN "public"."t_workload_emr_r"."accountant" IS '职业';
COMMENT ON COLUMN "public"."t_workload_emr_r"."current_detail_address" IS '现住址-详情';
COMMENT ON COLUMN "public"."t_workload_emr_r"."current_tel" IS '现住址-电话';
COMMENT ON COLUMN "public"."t_workload_emr_r"."current_post_code" IS '现住址-邮编';
COMMENT ON COLUMN "public"."t_workload_emr_r"."census_detail_address" IS '户口地址-详情';

-- ----------------------------
-- Table structure for t_workload_exchange
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_exchange";
CREATE TABLE "public"."t_workload_exchange" (
  "工号" varchar(20) COLLATE "pg_catalog"."default",
  "原属科室HIS代码" varchar(20) COLLATE "pg_catalog"."default",
  "原属科室HIS名称" varchar(100) COLLATE "pg_catalog"."default",
  "现属科室HIS代码" varchar(20) COLLATE "pg_catalog"."default",
  "现属科室HIS名称" varchar(100) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_hosp_all
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_hosp_all";
CREATE TABLE "public"."t_workload_hosp_all" (
  "年月" varchar(40) COLLATE "pg_catalog"."default" NOT NULL,
  "出院结算金额" numeric(40,2),
  "出院结算人数" numeric(40,0),
  "医保出院结算金额" numeric(40,2),
  "医保出院结算人数" numeric(40,0),
  "自费出院结算金额" numeric(40,2),
  "自费出院结算人数" numeric(40,0),
  "DRG总费用" numeric(40,2),
  "DRG成本" numeric(40,2),
  "DRG人数" numeric(40,0),
  "门诊结算金额" numeric(40,2),
  "门诊结算人数" numeric(40,0)
)
;

-- ----------------------------
-- Table structure for t_workload_inbed_bill
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_bill";
CREATE TABLE "public"."t_workload_inbed_bill" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default" NOT NULL,
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "bill_code" varchar(30) COLLATE "pg_catalog"."default",
  "bill_dt" date,
  "total_amt" numeric(16,2),
  "self_amt" numeric(16,2),
  "mi_pay_amt" numeric(16,2),
  "self_pay_amt" numeric(16,2),
  "acct_pay_amt" numeric(16,2),
  "cash_amt" numeric(16,2),
  "drug_amt" numeric(16,2),
  "diag_amt" numeric(16,2),
  "med_sup_amt" numeric(16,2),
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."rcpt_id" IS '结算单号';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."mdtrt_id" IS '就诊标识';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."bill_code" IS '结算单号';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."bill_dt" IS '结算日期';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."total_amt" IS '总费用';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."self_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."mi_pay_amt" IS '医保支付金额';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."acct_pay_amt" IS '个账金额';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."cash_amt" IS '现金金额';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."drug_amt" IS '药品费用';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."diag_amt" IS '医疗服务费用';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."med_sup_amt" IS '耗材费用';
COMMENT ON COLUMN "public"."t_workload_inbed_bill"."yyyy_mm" IS '年月';

-- ----------------------------
-- Table structure for t_workload_inbed_bill_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_bill_detail";
CREATE TABLE "public"."t_workload_inbed_bill_detail" (
  "rx_id" varchar(30) COLLATE "pg_catalog"."default",
  "grpno" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_type" varchar(3) COLLATE "pg_catalog"."default",
  "chrgitm_lv" varchar(6) COLLATE "pg_catalog"."default",
  "hilist_code" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_name" varchar(50) COLLATE "pg_catalog"."default",
  "hosplist_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosplist_name" varchar(50) COLLATE "pg_catalog"."default",
  "cnt" numeric(16,4),
  "pric" numeric(16,4),
  "sumamt" numeric(16,2),
  "ownpay_amt" numeric(16,2),
  "spec_unt" varchar(100) COLLATE "pg_catalog"."default",
  "drord_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dr_profttl" varchar(30) COLLATE "pg_catalog"."default",
  "fee_ocur_time" date,
  "sin_dos_dscr" numeric(10,4),
  "used_frqu_dscr" numeric(10,2),
  "prd_days" numeric(10,2),
  "fee_flag" varchar(30) COLLATE "pg_catalog"."default",
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."rx_id" IS '处方(医嘱)费用标识';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."grpno" IS '处方/医嘱组
编号';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."hilist_type" IS '收费目录类别';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."chrgitm_lv" IS '收费项目等级';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."hilist_code" IS '医保目录代码';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."hilist_name" IS '医保目录名称';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."hosplist_code" IS '医院目录代码';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."hosplist_name" IS '医院目录名称';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."cnt" IS '数量';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."pric" IS '单价';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."sumamt" IS '总费用';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."ownpay_amt" IS '自费金额';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."spec_unt" IS '计费单位';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."drord_dept_code" IS '开单科室编码';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."drord_dept_name" IS '开单科室名称';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."drord_dr_code" IS '开单医生编码';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."drord_dr_name" IS '开单医生姓名';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."drord_dr_profttl" IS '开单医生职称';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."fee_ocur_time" IS '费用发生时间';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."sin_dos_dscr" IS '单次剂量';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."used_frqu_dscr" IS '每日使用频次';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."prd_days" IS '周期天数';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."fee_flag" IS '特殊费用标志';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."mdtrt_id" IS '就诊标识';
COMMENT ON COLUMN "public"."t_workload_inbed_bill_detail"."hosp_code" IS '医疗机构编号';

-- ----------------------------
-- Table structure for t_workload_inbed_bill_detail_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_bill_detail_f";
CREATE FOREIGN TABLE "public"."t_workload_inbed_bill_detail_f" (
  "rx_id" varchar(30) COLLATE "pg_catalog"."default",
  "grpno" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_type" varchar(3) COLLATE "pg_catalog"."default",
  "chrgitm_lv" varchar(6) COLLATE "pg_catalog"."default",
  "hilist_code" varchar(50) COLLATE "pg_catalog"."default",
  "hilist_name" varchar(50) COLLATE "pg_catalog"."default",
  "hosplist_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosplist_name" varchar(50) COLLATE "pg_catalog"."default",
  "cnt" numeric(16,4),
  "pric" numeric(16,4),
  "sumamt" numeric(16,2),
  "ownpay_amt" varchar(10) COLLATE "pg_catalog"."default",
  "spec_unt" varchar(100) COLLATE "pg_catalog"."default",
  "drord_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "drord_dr_profttl" varchar(30) COLLATE "pg_catalog"."default",
  "fee_ocur_time" date,
  "sin_dos_dscr" varchar(10) COLLATE "pg_catalog"."default",
  "used_frqu_dscr" varchar(10) COLLATE "pg_catalog"."default",
  "prd_days" varchar(10) COLLATE "pg_catalog"."default",
  "fee_flag" varchar(30) COLLATE "pg_catalog"."default",
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_BILL_DETAIL')
;

-- ----------------------------
-- Table structure for t_workload_inbed_bill_detail_f2
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_bill_detail_f2";
CREATE FOREIGN TABLE "public"."t_workload_inbed_bill_detail_f2" (
  "rx_id" varchar COLLATE "pg_catalog"."default",
  "grpno" varchar COLLATE "pg_catalog"."default",
  "hilist_type" varchar COLLATE "pg_catalog"."default",
  "chrgitm_lv" varchar COLLATE "pg_catalog"."default",
  "hilist_code" varchar COLLATE "pg_catalog"."default",
  "hilist_name" varchar COLLATE "pg_catalog"."default",
  "hosplist_code" varchar COLLATE "pg_catalog"."default",
  "hosplist_name" varchar COLLATE "pg_catalog"."default",
  "cnt" numeric(16,4),
  "pric" numeric(16,4),
  "sumamt" numeric(16,2),
  "ownpay_amt" varchar COLLATE "pg_catalog"."default",
  "spec_unt" varchar COLLATE "pg_catalog"."default",
  "drord_dept_code" varchar COLLATE "pg_catalog"."default",
  "drord_dept_name" varchar COLLATE "pg_catalog"."default",
  "drord_dr_code" varchar COLLATE "pg_catalog"."default",
  "drord_dr_name" varchar COLLATE "pg_catalog"."default",
  "drord_dr_profttl" varchar COLLATE "pg_catalog"."default",
  "fee_ocur_time" date,
  "sin_dos_dscr" varchar COLLATE "pg_catalog"."default",
  "used_frqu_dscr" varchar COLLATE "pg_catalog"."default",
  "prd_days" varchar COLLATE "pg_catalog"."default",
  "fee_flag" varchar COLLATE "pg_catalog"."default",
  "mdtrt_id" varchar COLLATE "pg_catalog"."default",
  "hosp_code" varchar COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_BILL_DETAIL')
;

-- ----------------------------
-- Table structure for t_workload_inbed_bill_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_bill_f";
CREATE FOREIGN TABLE "public"."t_workload_inbed_bill_f" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "bill_code" varchar(30) COLLATE "pg_catalog"."default",
  "bill_dt" date,
  "total_amt" numeric(16,2),
  "self_amt" numeric(16,2),
  "mi_pay_amt" numeric(16,2),
  "self_pay_amt" numeric(16,2),
  "acct_pay_amt" numeric(16,2),
  "cash_amt" numeric(16,2),
  "drug_amt" numeric(16,2),
  "diag_amt" numeric(16,2),
  "med_sup_amt" numeric(16,2),
  "insur_type" varchar(30) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_BILL')
;

-- ----------------------------
-- Table structure for t_workload_inbed_bill_f2
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_bill_f2";
CREATE FOREIGN TABLE "public"."t_workload_inbed_bill_f2" (
  "bill_id" varchar COLLATE "pg_catalog"."default",
  "mdtrt_id" varchar COLLATE "pg_catalog"."default",
  "hosp_code" varchar COLLATE "pg_catalog"."default",
  "bill_code" varchar COLLATE "pg_catalog"."default",
  "bill_dt" date,
  "total_amt" numeric(16,2),
  "self_amt" numeric(16,2),
  "mi_pay_amt" numeric(16,2),
  "self_pay_amt" numeric(16,2),
  "acct_pay_amt" numeric(16,2),
  "cash_amt" numeric(16,2),
  "drug_amt" numeric(16,2),
  "diag_amt" numeric(16,2),
  "med_sup_amt" numeric(16,2)
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_BILL')
;

-- ----------------------------
-- Table structure for t_workload_inbed_reg
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_reg";
CREATE TABLE "public"."t_workload_inbed_reg" (
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "patn_id" varchar(30) COLLATE "pg_catalog"."default",
  "patn_name" varchar(50) COLLATE "pg_catalog"."default",
  "gend" varchar(3) COLLATE "pg_catalog"."default",
  "brdy" date,
  "psn_age" numeric(3,0),
  "idcard" varchar(20) COLLATE "pg_catalog"."default",
  "is_rcmc" varchar(10) COLLATE "pg_catalog"."default",
  "patn_code" varchar(30) COLLATE "pg_catalog"."default",
  "poolarea" varchar(10) COLLATE "pg_catalog"."default",
  "insutype" varchar(10) COLLATE "pg_catalog"."default",
  "psn_type" varchar(10) COLLATE "pg_catalog"."default",
  "hi_paymtd" varchar(10) COLLATE "pg_catalog"."default",
  "mdtrt_code" varchar(30) COLLATE "pg_catalog"."default",
  "dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "bedno" varchar(30) COLLATE "pg_catalog"."default",
  "adm_date" date,
  "inbed_statu" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_date" date,
  "act_ipt_days" numeric(3,0),
  "adm_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "adm_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "adm_wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "adm_wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "med_type" varchar(6) COLLATE "pg_catalog"."default",
  "matn_stas" varchar(3) COLLATE "pg_catalog"."default",
  "dscg_way" varchar(3) COLLATE "pg_catalog"."default",
  "days_rinp_flag_31" numeric(3,0)
)
;
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."mdtrt_id" IS '就诊标识';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."patn_id" IS '患者标识';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."patn_name" IS '姓名';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."gend" IS '性别';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."brdy" IS '出生日期';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."psn_age" IS '患者年龄';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."idcard" IS '身份证号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."is_rcmc" IS '是否自费';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."patn_code" IS '医保编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."poolarea" IS '统筹区编码';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."insutype" IS '医保险种类型代码';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."psn_type" IS '医保人员类别代码';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."hi_paymtd" IS '医保支付方式代码';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."mdtrt_code" IS '住院号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dept_code" IS '当前科室编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dept_name" IS '当前科室名称';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."resi_dr_code" IS '管床医生编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."resi_dr_name" IS '管床医生姓名';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."atten_dr_code" IS '主管医生编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."atten_dr_name" IS '主管医生姓名';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."wardarea_code" IS '当前病区编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."wardarea_name" IS '当前病区名称';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."bedno" IS '当前病床号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."adm_date" IS '入院日期';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."inbed_statu" IS '在院状态';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dscg_date" IS '出院日期';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."act_ipt_days" IS '实际住院天数';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."adm_dept_code" IS '入院科室编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."adm_dept_name" IS '入院科室名称';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."adm_wardarea_code" IS '入院病区编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."adm_wardarea_name" IS '入院病区名称';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dscg_dept_code" IS '出院科室编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dscg_dept_name" IS '出院科室名称';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dscg_wardarea_code" IS '出院病区编号';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dscg_wardarea_name" IS '出院病区名称';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."med_type" IS '医疗类别';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."matn_stas" IS '生育状态';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."dscg_way" IS '离院方式';
COMMENT ON COLUMN "public"."t_workload_inbed_reg"."days_rinp_flag_31" IS '出院31天内再住院计划标志';

-- ----------------------------
-- Table structure for t_workload_inbed_reg_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_reg_f";
CREATE FOREIGN TABLE "public"."t_workload_inbed_reg_f" (
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "patn_id" varchar(30) COLLATE "pg_catalog"."default",
  "patn_name" varchar(50) COLLATE "pg_catalog"."default",
  "gend" varchar(3) COLLATE "pg_catalog"."default",
  "brdy" varchar(20) COLLATE "pg_catalog"."default",
  "psn_age" varchar(20) COLLATE "pg_catalog"."default",
  "idcard" varchar(20) COLLATE "pg_catalog"."default",
  "is_rcmc" varchar(20) COLLATE "pg_catalog"."default",
  "patn_code" varchar(30) COLLATE "pg_catalog"."default",
  "poolarea" varchar(10) COLLATE "pg_catalog"."default",
  "insutype" varchar(10) COLLATE "pg_catalog"."default",
  "psn_type" varchar(10) COLLATE "pg_catalog"."default",
  "hi_paymtd" varchar(10) COLLATE "pg_catalog"."default",
  "mdtrt_code" varchar(30) COLLATE "pg_catalog"."default",
  "dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "bedno" varchar(30) COLLATE "pg_catalog"."default",
  "adm_date" date,
  "inbed_status" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_date" date,
  "act_ipt_days" numeric(10,0),
  "adm_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "adm_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "adm_wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "adm_wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "med_type" varchar(6) COLLATE "pg_catalog"."default",
  "matn_stas" varchar(3) COLLATE "pg_catalog"."default",
  "dscg_way" varchar(3) COLLATE "pg_catalog"."default",
  "days_rinp_flag_31" varchar(10) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_REG')
;

-- ----------------------------
-- Table structure for t_workload_inbed_reg_f1
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_reg_f1";
CREATE FOREIGN TABLE "public"."t_workload_inbed_reg_f1" (
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "patn_id" varchar(30) COLLATE "pg_catalog"."default",
  "patn_name" varchar(50) COLLATE "pg_catalog"."default",
  "gend" varchar(3) COLLATE "pg_catalog"."default",
  "brdy" varchar(20) COLLATE "pg_catalog"."default",
  "psn_age" varchar(20) COLLATE "pg_catalog"."default",
  "idcard" varchar(20) COLLATE "pg_catalog"."default",
  "is_rcmc" varchar(20) COLLATE "pg_catalog"."default",
  "patn_code" varchar(30) COLLATE "pg_catalog"."default",
  "poolarea" varchar(10) COLLATE "pg_catalog"."default",
  "insutype" varchar(10) COLLATE "pg_catalog"."default",
  "psn_type" varchar(10) COLLATE "pg_catalog"."default",
  "hi_paymtd" varchar(10) COLLATE "pg_catalog"."default",
  "mdtrt_code" varchar(30) COLLATE "pg_catalog"."default",
  "dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "resi_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_code" varchar(30) COLLATE "pg_catalog"."default",
  "atten_dr_name" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "bedno" varchar(30) COLLATE "pg_catalog"."default",
  "adm_date" date,
  "inbed_status" varchar COLLATE "pg_catalog"."default",
  "dscg_date" date,
  "act_ipt_days" numeric,
  "adm_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "adm_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "adm_wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "adm_wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_dept_code" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_dept_name" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_wardarea_code" varchar(30) COLLATE "pg_catalog"."default",
  "dscg_wardarea_name" varchar(30) COLLATE "pg_catalog"."default",
  "med_type" varchar(6) COLLATE "pg_catalog"."default",
  "matn_stas" varchar(3) COLLATE "pg_catalog"."default",
  "dscg_way" varchar(3) COLLATE "pg_catalog"."default",
  "days_rinp_flag_31" varchar(10) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_REG')
;

-- ----------------------------
-- Table structure for t_workload_inbed_reg_f2
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inbed_reg_f2";
CREATE FOREIGN TABLE "public"."t_workload_inbed_reg_f2" (
  "mdtrt_id" varchar COLLATE "pg_catalog"."default",
  "hosp_code" varchar COLLATE "pg_catalog"."default",
  "patn_id" varchar COLLATE "pg_catalog"."default",
  "patn_name" varchar COLLATE "pg_catalog"."default",
  "gend" varchar COLLATE "pg_catalog"."default",
  "brdy" varchar COLLATE "pg_catalog"."default",
  "psn_age" varchar COLLATE "pg_catalog"."default",
  "idcard" varchar COLLATE "pg_catalog"."default",
  "is_rcmc" varchar COLLATE "pg_catalog"."default",
  "patn_code" varchar COLLATE "pg_catalog"."default",
  "poolarea" varchar COLLATE "pg_catalog"."default",
  "insutype" varchar COLLATE "pg_catalog"."default",
  "psn_type" varchar COLLATE "pg_catalog"."default",
  "hi_paymtd" varchar COLLATE "pg_catalog"."default",
  "mdtrt_code" varchar COLLATE "pg_catalog"."default",
  "dept_code" varchar COLLATE "pg_catalog"."default",
  "dept_name" varchar COLLATE "pg_catalog"."default",
  "resi_dr_code" varchar COLLATE "pg_catalog"."default",
  "resi_dr_name" varchar COLLATE "pg_catalog"."default",
  "atten_dr_code" varchar COLLATE "pg_catalog"."default",
  "atten_dr_name" varchar COLLATE "pg_catalog"."default",
  "wardarea_code" varchar COLLATE "pg_catalog"."default",
  "wardarea_name" varchar COLLATE "pg_catalog"."default",
  "bedno" varchar COLLATE "pg_catalog"."default",
  "adm_date" date,
  "inbed_status" varchar COLLATE "pg_catalog"."default",
  "dscg_date" date,
  "act_ipt_days" numeric,
  "adm_dept_code" varchar COLLATE "pg_catalog"."default",
  "adm_dept_name" varchar COLLATE "pg_catalog"."default",
  "adm_wardarea_code" varchar COLLATE "pg_catalog"."default",
  "adm_wardarea_name" varchar COLLATE "pg_catalog"."default",
  "dscg_dept_code" varchar COLLATE "pg_catalog"."default",
  "dscg_dept_name" varchar COLLATE "pg_catalog"."default",
  "dscg_wardarea_code" varchar COLLATE "pg_catalog"."default",
  "dscg_wardarea_name" varchar COLLATE "pg_catalog"."default",
  "med_type" varchar COLLATE "pg_catalog"."default",
  "matn_stas" varchar COLLATE "pg_catalog"."default",
  "dscg_way" varchar COLLATE "pg_catalog"."default",
  "days_rinp_flag_31" varchar COLLATE "pg_catalog"."default",
  "medical_number" varchar COLLATE "pg_catalog"."default",
  "inbed_cnt" varchar COLLATE "pg_catalog"."default",
  "bill_dt" date
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_DATA_INBED_REG')
;

-- ----------------------------
-- Table structure for t_workload_incom
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_incom";
CREATE TABLE "public"."t_workload_incom" (
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default",
  "department" varchar(32) COLLATE "pg_catalog"."default",
  "total_cost" numeric,
  "dep_id" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_inp
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inp";
CREATE TABLE "public"."t_workload_inp" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "patient_id" varchar(32) COLLATE "pg_catalog"."default",
  "visit_id" varchar(32) COLLATE "pg_catalog"."default",
  "fee_type" varchar(8) COLLATE "pg_catalog"."default",
  "status_code" varchar(10) COLLATE "pg_catalog"."default",
  "item_no" varchar(20) COLLATE "pg_catalog"."default",
  "item_class" varchar(32) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(20) COLLATE "pg_catalog"."default",
  "item_name" varchar(160) COLLATE "pg_catalog"."default",
  "item_code" varchar(32) COLLATE "pg_catalog"."default",
  "item_spec" varchar(128) COLLATE "pg_catalog"."default",
  "amount" numeric(10,0),
  "units" varchar(8000) COLLATE "pg_catalog"."default",
  "patient_in_dept" varchar(32) COLLATE "pg_catalog"."default",
  "out_area_code" varchar(20) COLLATE "pg_catalog"."default",
  "ordered_by" varchar(32) COLLATE "pg_catalog"."default",
  "performed_by" varchar(32) COLLATE "pg_catalog"."default",
  "costs" numeric(10,2),
  "charges" numeric(10,2),
  "billing_date_time" date,
  "rcpt_date" date,
  "operator_no" varchar(32) COLLATE "pg_catalog"."default",
  "rcpt_no" varchar(20) COLLATE "pg_catalog"."default",
  "special_charges" numeric(10,2),
  "class_on_inp_rcpt" varchar(32) COLLATE "pg_catalog"."default",
  "subj_code" varchar(32) COLLATE "pg_catalog"."default",
  "class_on_mr" varchar(32) COLLATE "pg_catalog"."default",
  "item_price" numeric(10,2),
  "price_quotiety" varchar(32) COLLATE "pg_catalog"."default",
  "discharge_taking_indicator" varchar(10) COLLATE "pg_catalog"."default",
  "ward_code" varchar(32) COLLATE "pg_catalog"."default",
  "class_on_reckoning" varchar(32) COLLATE "pg_catalog"."default",
  "order_group" varchar(32) COLLATE "pg_catalog"."default",
  "order_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "perform_group" varchar(32) COLLATE "pg_catalog"."default",
  "perform_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "convey_date" varchar(10) COLLATE "pg_catalog"."default",
  "doctor_user" varchar(32) COLLATE "pg_catalog"."default",
  "refund_item_no" varchar(10) COLLATE "pg_catalog"."default",
  "patient_name" varchar(128) COLLATE "pg_catalog"."default",
  "doctor_in_charge" varchar(32) COLLATE "pg_catalog"."default",
  "trade_price" numeric(10,2),
  "basic_drugs_type" varchar(100) COLLATE "pg_catalog"."default",
  "hosp_no" varchar(64) COLLATE "pg_catalog"."default",
  "zcfjl" numeric(10,2),
  "ghfjl" numeric(10,2) DEFAULT '￥0.00'::money,
  "zyjx" numeric(10,2),
  "jrjx" numeric(10,2),
  "ssjx" numeric(10,2),
  "inp_bill" numeric(15,4),
  "inp_exec" numeric(15,4),
  "inp_nurse" numeric(15,4),
  "inp_other" numeric(15,4),
  "direct_cost" numeric(15,4),
  "item_type_name" varchar(10) COLLATE "pg_catalog"."default",
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default",
  "performed_by2" varchar(32) COLLATE "pg_catalog"."default",
  "perform_doctor2" varchar(32) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_inp"."patient_id" IS '病人标识';
COMMENT ON COLUMN "public"."t_workload_inp"."visit_id" IS '病人本次住院标识';
COMMENT ON COLUMN "public"."t_workload_inp"."fee_type" IS '费别:医保,自费';
COMMENT ON COLUMN "public"."t_workload_inp"."status_code" IS '结算状态:''有效'',''无效''';
COMMENT ON COLUMN "public"."t_workload_inp"."item_no" IS '费用项目序号';
COMMENT ON COLUMN "public"."t_workload_inp"."item_class" IS '项目类别（编码）';
COMMENT ON COLUMN "public"."t_workload_inp"."item_class_name" IS '项目类别（名称）';
COMMENT ON COLUMN "public"."t_workload_inp"."item_name" IS '项目名称';
COMMENT ON COLUMN "public"."t_workload_inp"."item_code" IS '项目代码';
COMMENT ON COLUMN "public"."t_workload_inp"."item_spec" IS '项目规格';
COMMENT ON COLUMN "public"."t_workload_inp"."amount" IS '数量';
COMMENT ON COLUMN "public"."t_workload_inp"."units" IS '单位';
COMMENT ON COLUMN "public"."t_workload_inp"."patient_in_dept" IS '病人所在科室';
COMMENT ON COLUMN "public"."t_workload_inp"."out_area_code" IS '出院科室';
COMMENT ON COLUMN "public"."t_workload_inp"."ordered_by" IS '开单科室（编码）';
COMMENT ON COLUMN "public"."t_workload_inp"."performed_by" IS '执行科室（编码）';
COMMENT ON COLUMN "public"."t_workload_inp"."costs" IS '费用';
COMMENT ON COLUMN "public"."t_workload_inp"."charges" IS '应收费用';
COMMENT ON COLUMN "public"."t_workload_inp"."billing_date_time" IS '计价日期及时间';
COMMENT ON COLUMN "public"."t_workload_inp"."rcpt_date" IS '结算时间';
COMMENT ON COLUMN "public"."t_workload_inp"."operator_no" IS '计价员号';
COMMENT ON COLUMN "public"."t_workload_inp"."rcpt_no" IS '对应的结算序号';
COMMENT ON COLUMN "public"."t_workload_inp"."special_charges" IS '优惠额';
COMMENT ON COLUMN "public"."t_workload_inp"."class_on_inp_rcpt" IS '住院收据分类';
COMMENT ON COLUMN "public"."t_workload_inp"."subj_code" IS '会计科目分类';
COMMENT ON COLUMN "public"."t_workload_inp"."class_on_mr" IS '病案首页分类';
COMMENT ON COLUMN "public"."t_workload_inp"."item_price" IS '项目标准单价';
COMMENT ON COLUMN "public"."t_workload_inp"."price_quotiety" IS '收费系数';
COMMENT ON COLUMN "public"."t_workload_inp"."discharge_taking_indicator" IS '出院带药标志';
COMMENT ON COLUMN "public"."t_workload_inp"."ward_code" IS '护理单元(编码)';
COMMENT ON COLUMN "public"."t_workload_inp"."class_on_reckoning" IS '核算项目分类(编码)';
COMMENT ON COLUMN "public"."t_workload_inp"."order_group" IS '开单医生核算组(编码)';
COMMENT ON COLUMN "public"."t_workload_inp"."order_doctor" IS '开单医生（编码）';
COMMENT ON COLUMN "public"."t_workload_inp"."perform_group" IS '执行医生核算组(编码)';
COMMENT ON COLUMN "public"."t_workload_inp"."perform_doctor" IS '执行医生（编码）';
COMMENT ON COLUMN "public"."t_workload_inp"."doctor_user" IS '医生代码';
COMMENT ON COLUMN "public"."t_workload_inp"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_workload_inp"."doctor_in_charge" IS '住院医生（编码）';
COMMENT ON COLUMN "public"."t_workload_inp"."trade_price" IS '批发价';
COMMENT ON COLUMN "public"."t_workload_inp"."basic_drugs_type" IS '基药标志';
COMMENT ON COLUMN "public"."t_workload_inp"."hosp_no" IS '住院号';
COMMENT ON COLUMN "public"."t_workload_inp"."zcfjl" IS '诊察费奖励';
COMMENT ON COLUMN "public"."t_workload_inp"."ghfjl" IS '挂号费奖励';
COMMENT ON COLUMN "public"."t_workload_inp"."zyjx" IS '造影绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."jrjx" IS '介入绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."ssjx" IS '手术绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."inp_bill" IS '住院开单绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."inp_exec" IS '住院执行绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."inp_nurse" IS '住院护理绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."inp_other" IS '住院其他绩效';
COMMENT ON COLUMN "public"."t_workload_inp"."direct_cost" IS '直接成本';
COMMENT ON COLUMN "public"."t_workload_inp"."item_type_name" IS '费用类型，用于介入、造影';
COMMENT ON COLUMN "public"."t_workload_inp"."yyyy_mm" IS '年月';
COMMENT ON COLUMN "public"."t_workload_inp"."performed_by2" IS '原始执行科室编码备份';
COMMENT ON COLUMN "public"."t_workload_inp"."perform_doctor2" IS '原始执行医生编码备份';

-- ----------------------------
-- Table structure for t_workload_inp_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_inp_f";
CREATE FOREIGN TABLE "public"."t_workload_inp_f" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "patient_id" varchar(32) COLLATE "pg_catalog"."default",
  "visit_id" varchar(32) COLLATE "pg_catalog"."default",
  "fee_type" varchar(8) COLLATE "pg_catalog"."default",
  "status_code" varchar(10) COLLATE "pg_catalog"."default",
  "item_no" varchar(20) COLLATE "pg_catalog"."default",
  "item_class" varchar(32) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(20) COLLATE "pg_catalog"."default",
  "item_name" varchar(160) COLLATE "pg_catalog"."default",
  "item_code" varchar(32) COLLATE "pg_catalog"."default",
  "item_spec" varchar(128) COLLATE "pg_catalog"."default",
  "amount" numeric(10,0),
  "units" varchar(8000) COLLATE "pg_catalog"."default",
  "patient_in_dept" varchar(32) COLLATE "pg_catalog"."default",
  "out_area_code" varchar(20) COLLATE "pg_catalog"."default",
  "ordered_by" varchar(32) COLLATE "pg_catalog"."default",
  "performed_by" varchar(32) COLLATE "pg_catalog"."default",
  "costs" numeric(10,2),
  "charges" numeric(10,2),
  "billing_date_time" date,
  "rcpt_date" date,
  "operator_no" varchar(32) COLLATE "pg_catalog"."default",
  "rcpt_no" varchar(20) COLLATE "pg_catalog"."default",
  "special_charges" numeric(10,2),
  "class_on_inp_rcpt" varchar(32) COLLATE "pg_catalog"."default",
  "subj_code" varchar(32) COLLATE "pg_catalog"."default",
  "class_on_mr" varchar(32) COLLATE "pg_catalog"."default",
  "item_price" numeric(10,2),
  "price_quotiety" varchar(32) COLLATE "pg_catalog"."default",
  "discharge_taking_indicator" varchar(10) COLLATE "pg_catalog"."default",
  "ward_code" varchar(32) COLLATE "pg_catalog"."default",
  "class_on_reckoning" varchar(32) COLLATE "pg_catalog"."default",
  "order_group" varchar(32) COLLATE "pg_catalog"."default",
  "order_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "perform_group" varchar(32) COLLATE "pg_catalog"."default",
  "perform_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "convey_date" varchar(10) COLLATE "pg_catalog"."default",
  "doctor_user" varchar(32) COLLATE "pg_catalog"."default",
  "refund_item_no" varchar(10) COLLATE "pg_catalog"."default",
  "patient_name" varchar(128) COLLATE "pg_catalog"."default",
  "doctor_in_charge" varchar(32) COLLATE "pg_catalog"."default",
  "trade_price" numeric(10,2),
  "basic_drugs_type" varchar(100) COLLATE "pg_catalog"."default",
  "hosp_no" varchar(64) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPLY', "table" 'DRG_INP_BILL_DETAIL')
;

-- ----------------------------
-- Table structure for t_workload_int_transfer
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_int_transfer";
CREATE TABLE "public"."t_workload_int_transfer" (
  "转出科室" varchar(50) COLLATE "pg_catalog"."default",
  "转出科室编码" varchar(20) COLLATE "pg_catalog"."default",
  "转入科室" varchar(50) COLLATE "pg_catalog"."default",
  "转入科室编码" varchar(20) COLLATE "pg_catalog"."default",
  "转岗日期" date,
  "工号" varchar(10) COLLATE "pg_catalog"."default",
  "姓名" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_item_point
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_item_point";
CREATE TABLE "public"."t_workload_item_point" (
  "item_workload_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default" NOT NULL,
  "hosp_diag_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_med_sup_id" varchar(50) COLLATE "pg_catalog"."default",
  "chi_drug_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_bill" float4,
  "inbed_exec" float4,
  "inbed_nurse" float4,
  "inbed_other" float4,
  "outbed_bill" float4,
  "outbed_exec" float4,
  "outbed_nurse" float4,
  "outbed_other" float4,
  "begin_dt" timestamp(6),
  "end_dt" timestamp(6),
  "create_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "create_user" varchar(200) COLLATE "pg_catalog"."default",
  "create_dt" timestamp(6),
  "modify_user_id" varchar(50) COLLATE "pg_catalog"."default",
  "modify_user" varchar(200) COLLATE "pg_catalog"."default",
  "modify_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "inbed_value" float4,
  "outbed_value" float4
)
;
COMMENT ON COLUMN "public"."t_workload_item_point"."item_workload_id" IS '医院收费项目工作量配置id';
COMMENT ON COLUMN "public"."t_workload_item_point"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_workload_item_point"."hosp_diag_id" IS '医院医疗服务项目id';
COMMENT ON COLUMN "public"."t_workload_item_point"."hosp_drug_id" IS '医院药品id';
COMMENT ON COLUMN "public"."t_workload_item_point"."hosp_med_sup_id" IS '医院耗材id';
COMMENT ON COLUMN "public"."t_workload_item_point"."chi_drug_id" IS '医院中药饮片id';
COMMENT ON COLUMN "public"."t_workload_item_point"."fee_item_code" IS '费用项目编号';
COMMENT ON COLUMN "public"."t_workload_item_point"."fee_item_name" IS '费用项目名称';
COMMENT ON COLUMN "public"."t_workload_item_point"."inbed_bill" IS '住院开单点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."inbed_exec" IS '住院执行点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."inbed_nurse" IS '住院护理点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."inbed_other" IS '住院其他点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."outbed_bill" IS '门诊开单点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."outbed_exec" IS '门诊执行点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."outbed_nurse" IS '门诊护理点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."outbed_other" IS '门诊其他点数';
COMMENT ON COLUMN "public"."t_workload_item_point"."begin_dt" IS '有效开始日期';
COMMENT ON COLUMN "public"."t_workload_item_point"."end_dt" IS '有效结束日期';
COMMENT ON COLUMN "public"."t_workload_item_point"."create_user_id" IS '创建操作员id';
COMMENT ON COLUMN "public"."t_workload_item_point"."create_user" IS '创建操作员名称';
COMMENT ON COLUMN "public"."t_workload_item_point"."create_dt" IS '创建日期';
COMMENT ON COLUMN "public"."t_workload_item_point"."modify_user_id" IS '最后修改操作员ID';
COMMENT ON COLUMN "public"."t_workload_item_point"."modify_user" IS '最后操作员名称';
COMMENT ON COLUMN "public"."t_workload_item_point"."modify_dt" IS '最后修改日期';
COMMENT ON COLUMN "public"."t_workload_item_point"."status" IS '正常作废';
COMMENT ON COLUMN "public"."t_workload_item_point"."note" IS '备注';
COMMENT ON COLUMN "public"."t_workload_item_point"."inbed_value" IS '住院点值';
COMMENT ON COLUMN "public"."t_workload_item_point"."outbed_value" IS '门诊点值';

-- ----------------------------
-- Table structure for t_workload_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_log";
CREATE TABLE "public"."t_workload_log" (
  "log_id" int4 NOT NULL DEFAULT nextval('t_workload_log_log_id_seq'::regclass),
  "step_id" int4,
  "func_name" text COLLATE "pg_catalog"."default",
  "description" text COLLATE "pg_catalog"."default",
  "start_time" timestamp(6),
  "status" bool,
  "error_message" text COLLATE "pg_catalog"."default",
  "end_time" timestamp(6),
  "stdate" date,
  "eddate" date
)
;
COMMENT ON COLUMN "public"."t_workload_log"."log_id" IS '日志ID';
COMMENT ON COLUMN "public"."t_workload_log"."step_id" IS '步骤序号';
COMMENT ON COLUMN "public"."t_workload_log"."func_name" IS '函数名称';
COMMENT ON COLUMN "public"."t_workload_log"."description" IS '中文说明';
COMMENT ON COLUMN "public"."t_workload_log"."start_time" IS '开始执行时间';
COMMENT ON COLUMN "public"."t_workload_log"."status" IS '执行结果';
COMMENT ON COLUMN "public"."t_workload_log"."error_message" IS '失败原因';
COMMENT ON COLUMN "public"."t_workload_log"."end_time" IS '结束时间（可选）';
COMMENT ON TABLE "public"."t_workload_log" IS '工作量计算执行日志表';

-- ----------------------------
-- Table structure for t_workload_modification_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_modification_log";
CREATE TABLE "public"."t_workload_modification_log" (
  "log_id" int8 NOT NULL DEFAULT nextval('t_workload_modification_log_log_id_seq'::regclass),
  "operation_time" timestamptz(6) NOT NULL DEFAULT now(),
  "operator_id" text COLLATE "pg_catalog"."default" NOT NULL,
  "table_name" text COLLATE "pg_catalog"."default" NOT NULL,
  "record_id" int4 NOT NULL,
  "column_name" text COLLATE "pg_catalog"."default" NOT NULL,
  "old_value" text COLLATE "pg_catalog"."default",
  "new_value" text COLLATE "pg_catalog"."default",
  "operation_type" char(1) COLLATE "pg_catalog"."default" NOT NULL GENERATED ALWAYS AS (

CASE
    WHEN ((old_value IS NULL) AND (new_value IS NOT NULL)) THEN 'I'::text
    WHEN ((old_value IS NOT NULL) AND (new_value IS NULL)) THEN 'D'::text
    ELSE 'U'::text
END
) STORED
)
;
COMMENT ON COLUMN "public"."t_workload_modification_log"."operator_id" IS '操作员ID';
COMMENT ON COLUMN "public"."t_workload_modification_log"."record_id" IS '被修改记录的主键ID';
COMMENT ON COLUMN "public"."t_workload_modification_log"."column_name" IS '被修改的列名';
COMMENT ON TABLE "public"."t_workload_modification_log" IS '工作负载修改审计日志';

-- ----------------------------
-- Table structure for t_workload_nurse_point
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_nurse_point";
CREATE TABLE "public"."t_workload_nurse_point" (
  "科室代码" varchar(20) COLLATE "pg_catalog"."default",
  "科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "护理科室人数" int4,
  "护理工作量单价" float8,
  "护理工作量系数" float8
)
;

-- ----------------------------
-- Table structure for t_workload_opera
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_opera";
CREATE TABLE "public"."t_workload_opera" (
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_order" float8,
  "operation_name" varchar(30) COLLATE "pg_catalog"."default",
  "operation_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_date" date,
  "operation_end_date" date,
  "operation_anesthesia_type" varchar(30) COLLATE "pg_catalog"."default",
  "operation_doctor_name" varchar(30) COLLATE "pg_catalog"."default",
  "operation_doctor_code" varchar(30) COLLATE "pg_catalog"."default",
  "oper_ins_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_analgesist" varchar(30) COLLATE "pg_catalog"."default",
  "operation_analgesist_code" varchar(30) COLLATE "pg_catalog"."default",
  "anes_ins_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_level" varchar(30) COLLATE "pg_catalog"."default",
  "operation_fir_doc_name" varchar(30) COLLATE "pg_catalog"."default",
  "operation_fir_doc_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_sec_doc_name" varchar(30) COLLATE "pg_catalog"."default",
  "operation_sec_doc_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_number" varchar(30) COLLATE "pg_catalog"."default",
  "operation_type" varchar(30) COLLATE "pg_catalog"."default",
  "operation_incision_type_code" varchar(30) COLLATE "pg_catalog"."default",
  "operation_wound_heal_grad" varchar(30) COLLATE "pg_catalog"."default",
  "origin_primary_id" varchar(30) COLLATE "pg_catalog"."default",
  "anesthesia_start_time" varchar(30) COLLATE "pg_catalog"."default",
  "anesthesia_end_time" varchar(30) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_opera"."hosp_code" IS '医疗机构编码';
COMMENT ON COLUMN "public"."t_workload_opera"."inbed_code" IS '住院号';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_order" IS '手术顺序号';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_name" IS '手术及操作名称';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_code" IS '手术及操作代码';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_date" IS '手术及操作日期';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_end_date" IS '手术及操作日期';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_anesthesia_type" IS '麻醉方式';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_doctor_name" IS '术者医师姓名';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_doctor_code" IS '术者医师代码';
COMMENT ON COLUMN "public"."t_workload_opera"."oper_ins_code" IS '术者医师医保代码';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_analgesist" IS '麻醉医师姓名';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_analgesist_code" IS '麻醉医师代码';
COMMENT ON COLUMN "public"."t_workload_opera"."anes_ins_code" IS '麻醉医师医保代码';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_level" IS '手术级别';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_fir_doc_name" IS 'Ⅰ助姓名';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_fir_doc_code" IS 'Ⅰ助代码';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_sec_doc_name" IS 'Ⅱ助姓名';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_sec_doc_code" IS 'Ⅱ助代码';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_number" IS '手术序号';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_type" IS '手术操作类别';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_incision_type_code" IS '手术切口类别代码';
COMMENT ON COLUMN "public"."t_workload_opera"."operation_wound_heal_grad" IS '切口愈合等级代码';
COMMENT ON COLUMN "public"."t_workload_opera"."origin_primary_id" IS '原始数据唯一标识';
COMMENT ON COLUMN "public"."t_workload_opera"."anesthesia_start_time" IS '麻醉开始时间';
COMMENT ON COLUMN "public"."t_workload_opera"."anesthesia_end_time" IS '麻醉结束时间';

-- ----------------------------
-- Table structure for t_workload_opera_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_opera_f";
CREATE FOREIGN TABLE "public"."t_workload_opera_f" (
  "hosp_code" varchar(50) COLLATE "pg_catalog"."default",
  "inbed_code" varchar(50) COLLATE "pg_catalog"."default",
  "operation_order" varchar(20) COLLATE "pg_catalog"."default",
  "operation_name1" varchar(200) COLLATE "pg_catalog"."default",
  "operation_code1" varchar(100) COLLATE "pg_catalog"."default",
  "operation_name" varchar(200) COLLATE "pg_catalog"."default",
  "operation_code" varchar(100) COLLATE "pg_catalog"."default",
  "operation_date" varchar(50) COLLATE "pg_catalog"."default",
  "operation_end_date" varchar(50) COLLATE "pg_catalog"."default",
  "operation_anesthesia_type" varchar(50) COLLATE "pg_catalog"."default",
  "operation_doctor_name" varchar(50) COLLATE "pg_catalog"."default",
  "operation_doctor_code" varchar(50) COLLATE "pg_catalog"."default",
  "oper_ins_code" varchar(50) COLLATE "pg_catalog"."default",
  "operation_analgesist" varchar(50) COLLATE "pg_catalog"."default",
  "operation_analgesist_code" varchar(50) COLLATE "pg_catalog"."default",
  "anes_ins_code" varchar(50) COLLATE "pg_catalog"."default",
  "operation_level" varchar(20) COLLATE "pg_catalog"."default",
  "operation_fir_doc_name" varchar(50) COLLATE "pg_catalog"."default",
  "operation_fir_doc_code" varchar(50) COLLATE "pg_catalog"."default",
  "operation_sec_doc_name" varchar(50) COLLATE "pg_catalog"."default",
  "operation_sec_doc_code" varchar(50) COLLATE "pg_catalog"."default",
  "operation_number" varchar(5) COLLATE "pg_catalog"."default",
  "operation_type" varchar(20) COLLATE "pg_catalog"."default",
  "operation_incision_type_code" varchar(50) COLLATE "pg_catalog"."default",
  "operation_wound_heal_grad" varchar(50) COLLATE "pg_catalog"."default",
  "origin_primary_id" varchar(50) COLLATE "pg_catalog"."default",
  "anesthesia_start_time" varchar(50) COLLATE "pg_catalog"."default",
  "anesthesia_end_time" varchar(50) COLLATE "pg_catalog"."default"
)
SERVER "oracle_jhemr"
OPTIONS ("schema" 'JHEMR', "table" 'T_DATA_INBED_OPERATION_R')
;

-- ----------------------------
-- Table structure for t_workload_operation_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_operation_f";
CREATE FOREIGN TABLE "public"."t_workload_operation_f" (
  "patient_id" varchar(30) COLLATE "pg_catalog"."default",
  "patient_name" varchar(20) COLLATE "pg_catalog"."default",
  "visit_id" varchar(30) COLLATE "pg_catalog"."default",
  "inp_no" varchar(100) COLLATE "pg_catalog"."default",
  "diagnosis_type" varchar(200) COLLATE "pg_catalog"."default",
  "diagnosis_type_name" varchar(200) COLLATE "pg_catalog"."default",
  "diagnosis_no" varchar(100) COLLATE "pg_catalog"."default",
  "diagnosis_desc" text COLLATE "pg_catalog"."default",
  "diagnosis_date" varchar(40) COLLATE "pg_catalog"."default",
  "treat_days" varchar(10) COLLATE "pg_catalog"."default",
  "diag_code" varchar(50) COLLATE "pg_catalog"."default",
  "treat_result" text COLLATE "pg_catalog"."default",
  "oper_treat_indicator" varchar(50) COLLATE "pg_catalog"."default",
  "first_operating_code" varchar(200) COLLATE "pg_catalog"."default",
  "first_operating_name" varchar(200) COLLATE "pg_catalog"."default",
  "first_operating_grade" varchar(200) COLLATE "pg_catalog"."default",
  "operator" varchar(20) COLLATE "pg_catalog"."default",
  "operator_id" varchar(30) COLLATE "pg_catalog"."default",
  "first_assistant_id" varchar(30) COLLATE "pg_catalog"."default",
  "second_assistant_id" varchar(30) COLLATE "pg_catalog"."default",
  "diagnosis_code" varchar(200) COLLATE "pg_catalog"."default",
  "diagnosis_name" text COLLATE "pg_catalog"."default",
  "insert_indicator" varchar(20) COLLATE "pg_catalog"."default",
  "admission_condition" varchar(200) COLLATE "pg_catalog"."default",
  "diagnosis_code2" varchar(200) COLLATE "pg_catalog"."default",
  "admission_date_time" varchar(200) COLLATE "pg_catalog"."default",
  "discharge_date_time" varchar(200) COLLATE "pg_catalog"."default",
  "discharge_dept_code" varchar(50) COLLATE "pg_catalog"."default",
  "discharge_dept_name" varchar(200) COLLATE "pg_catalog"."default",
  "doctor" varchar(50) COLLATE "pg_catalog"."default",
  "critical_days" varchar(10) COLLATE "pg_catalog"."default",
  "archive_date" date,
  "upload_date" date
)
SERVER "oracle_jhemr"
OPTIONS ("schema" 'JHEMR', "table" 'MEDICAL_RECORD_INFORMATION')
;

-- ----------------------------
-- Table structure for t_workload_operation_type
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_operation_type";
CREATE TABLE "public"."t_workload_operation_type" (
  "分类编码" varchar(20) COLLATE "pg_catalog"."default",
  "分类名称" varchar(50) COLLATE "pg_catalog"."default",
  "项目编码" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "项目名称" varchar(200) COLLATE "pg_catalog"."default",
  "类别" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_outp
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_outp";
CREATE TABLE "public"."t_workload_outp" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "visit_date" date,
  "visit_no" varchar(32) COLLATE "pg_catalog"."default",
  "rcpt_no" varchar(32) COLLATE "pg_catalog"."default",
  "status_code" varchar(10) COLLATE "pg_catalog"."default",
  "item_no" varchar(20) COLLATE "pg_catalog"."default",
  "item_class" varchar(32) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(20) COLLATE "pg_catalog"."default",
  "class_on_rcpt" varchar(32) COLLATE "pg_catalog"."default",
  "item_code" varchar(32) COLLATE "pg_catalog"."default",
  "item_name" varchar(160) COLLATE "pg_catalog"."default",
  "item_spec" varchar(128) COLLATE "pg_catalog"."default",
  "amount" numeric(10,0),
  "units" varchar(100) COLLATE "pg_catalog"."default",
  "performed_by" varchar(32) COLLATE "pg_catalog"."default",
  "costs" numeric(10,2),
  "charges" numeric(10,2),
  "special_charges" numeric(10,2),
  "ordered_by" varchar(32) COLLATE "pg_catalog"."default",
  "ordered_by_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "patient_id" varchar(64) COLLATE "pg_catalog"."default",
  "patient_name" varchar(128) COLLATE "pg_catalog"."default",
  "trade_price" numeric(10,2),
  "performed_by_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "ward_code" varchar(32) COLLATE "pg_catalog"."default",
  "zcfjl" numeric(10,2),
  "ghfjl" numeric(10,2) DEFAULT '￥0.00'::money,
  "zyjx" numeric(10,2),
  "jrjx" numeric(10,2),
  "ssjx" numeric(10,2),
  "outp_bill" numeric(10,4),
  "outp_exec" numeric(10,4),
  "outp_nurse" numeric(10,4),
  "outp_other" numeric(10,4),
  "direct_cost" numeric(10,4),
  "item_type_name" varchar(10) COLLATE "pg_catalog"."default",
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default",
  "insur_type" varchar(20) COLLATE "pg_catalog"."default",
  "performed_by2" varchar(32) COLLATE "pg_catalog"."default",
  "performed_by_doctor2" varchar(32) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_outp"."visit_date" IS '结算时间';
COMMENT ON COLUMN "public"."t_workload_outp"."visit_no" IS '病人本次就诊标识';
COMMENT ON COLUMN "public"."t_workload_outp"."rcpt_no" IS '对应的结算序号';
COMMENT ON COLUMN "public"."t_workload_outp"."status_code" IS '结算状态:''有效'',''无效''';
COMMENT ON COLUMN "public"."t_workload_outp"."item_no" IS '费用项目序号';
COMMENT ON COLUMN "public"."t_workload_outp"."item_class" IS '项目类别（编码）';
COMMENT ON COLUMN "public"."t_workload_outp"."item_class_name" IS '项目类别（名称）';
COMMENT ON COLUMN "public"."t_workload_outp"."class_on_rcpt" IS '收据分类';
COMMENT ON COLUMN "public"."t_workload_outp"."item_code" IS '项目代码';
COMMENT ON COLUMN "public"."t_workload_outp"."item_name" IS '项目名称';
COMMENT ON COLUMN "public"."t_workload_outp"."item_spec" IS '项目规格';
COMMENT ON COLUMN "public"."t_workload_outp"."amount" IS '数量';
COMMENT ON COLUMN "public"."t_workload_outp"."units" IS '单位';
COMMENT ON COLUMN "public"."t_workload_outp"."performed_by" IS '执行科室（编码）';
COMMENT ON COLUMN "public"."t_workload_outp"."costs" IS '费用';
COMMENT ON COLUMN "public"."t_workload_outp"."charges" IS '应收费用';
COMMENT ON COLUMN "public"."t_workload_outp"."special_charges" IS '优惠额';
COMMENT ON COLUMN "public"."t_workload_outp"."ordered_by" IS '开单科室（编码）';
COMMENT ON COLUMN "public"."t_workload_outp"."ordered_by_doctor" IS '开单医生（编码）';
COMMENT ON COLUMN "public"."t_workload_outp"."patient_id" IS '病人标识';
COMMENT ON COLUMN "public"."t_workload_outp"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_workload_outp"."trade_price" IS '批发价';
COMMENT ON COLUMN "public"."t_workload_outp"."performed_by_doctor" IS '执行医生（编码）';
COMMENT ON COLUMN "public"."t_workload_outp"."ward_code" IS '护理单元(编码)';
COMMENT ON COLUMN "public"."t_workload_outp"."zcfjl" IS '诊察费奖励';
COMMENT ON COLUMN "public"."t_workload_outp"."ghfjl" IS '挂号费奖励';
COMMENT ON COLUMN "public"."t_workload_outp"."zyjx" IS '造影绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."jrjx" IS '介入绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."ssjx" IS '手术绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."outp_bill" IS '门诊开单绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."outp_exec" IS '门诊执行绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."outp_nurse" IS '门诊护理绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."outp_other" IS '门诊其他绩效';
COMMENT ON COLUMN "public"."t_workload_outp"."direct_cost" IS '直接成本';
COMMENT ON COLUMN "public"."t_workload_outp"."item_type_name" IS '费用类型，用于介入、造影';
COMMENT ON COLUMN "public"."t_workload_outp"."yyyy_mm" IS '年月';
COMMENT ON COLUMN "public"."t_workload_outp"."insur_type" IS '参保类型';
COMMENT ON COLUMN "public"."t_workload_outp"."performed_by2" IS '原始执行科室备份';
COMMENT ON COLUMN "public"."t_workload_outp"."performed_by_doctor2" IS '原始执行医生备份';

-- ----------------------------
-- Table structure for t_workload_outp_bak
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_outp_bak";
CREATE TABLE "public"."t_workload_outp_bak" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "visit_date" date,
  "visit_no" varchar(32) COLLATE "pg_catalog"."default",
  "rcpt_no" varchar(32) COLLATE "pg_catalog"."default",
  "status_code" varchar(10) COLLATE "pg_catalog"."default",
  "item_no" varchar(20) COLLATE "pg_catalog"."default",
  "item_class" varchar(32) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(20) COLLATE "pg_catalog"."default",
  "class_on_rcpt" varchar(32) COLLATE "pg_catalog"."default",
  "item_code" varchar(32) COLLATE "pg_catalog"."default",
  "item_name" varchar(160) COLLATE "pg_catalog"."default",
  "item_spec" varchar(128) COLLATE "pg_catalog"."default",
  "amount" numeric(10,0),
  "units" varchar(100) COLLATE "pg_catalog"."default",
  "performed_by" varchar(32) COLLATE "pg_catalog"."default",
  "costs" numeric(10,2),
  "charges" numeric(10,2),
  "special_charges" numeric(10,2),
  "ordered_by" varchar(32) COLLATE "pg_catalog"."default",
  "ordered_by_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "patient_id" varchar(64) COLLATE "pg_catalog"."default",
  "patient_name" varchar(128) COLLATE "pg_catalog"."default",
  "trade_price" numeric(10,2),
  "performed_by_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "ward_code" varchar(32) COLLATE "pg_catalog"."default",
  "zcfjl" numeric(10,2),
  "ghfjl" numeric(10,2) DEFAULT '￥0.00'::money,
  "zyjx" numeric(10,2),
  "jrjx" numeric(10,2),
  "ssjx" numeric(10,2),
  "outp_bill" numeric(10,4),
  "outp_exec" numeric(10,4),
  "outp_nurse" numeric(10,4),
  "outp_other" numeric(10,4),
  "direct_cost" numeric(10,4),
  "item_type_name" varchar(10) COLLATE "pg_catalog"."default",
  "yyyy_mm" varchar(20) COLLATE "pg_catalog"."default",
  "insur_type" varchar(20) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_outp_bak"."visit_date" IS '结算时间';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."visit_no" IS '病人本次就诊标识';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."rcpt_no" IS '对应的结算序号';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."status_code" IS '结算状态:''有效'',''无效''';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_no" IS '费用项目序号';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_class" IS '项目类别（编码）';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_class_name" IS '项目类别（名称）';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."class_on_rcpt" IS '收据分类';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_code" IS '项目代码';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_name" IS '项目名称';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_spec" IS '项目规格';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."amount" IS '数量';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."units" IS '单位';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."performed_by" IS '执行科室（编码）';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."costs" IS '费用';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."charges" IS '应收费用';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."special_charges" IS '优惠额';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."ordered_by" IS '开单科室（编码）';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."ordered_by_doctor" IS '开单医生（编码）';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."patient_id" IS '病人标识';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."patient_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."trade_price" IS '批发价';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."performed_by_doctor" IS '执行医生（编码）';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."ward_code" IS '护理单元(编码)';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."zcfjl" IS '诊察费奖励';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."ghfjl" IS '挂号费奖励';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."zyjx" IS '造影绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."jrjx" IS '介入绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."ssjx" IS '手术绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."outp_bill" IS '门诊开单绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."outp_exec" IS '门诊执行绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."outp_nurse" IS '门诊护理绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."outp_other" IS '门诊其他绩效';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."direct_cost" IS '直接成本';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."item_type_name" IS '费用类型，用于介入、造影';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."yyyy_mm" IS '年月';
COMMENT ON COLUMN "public"."t_workload_outp_bak"."insur_type" IS '参保类型';

-- ----------------------------
-- Table structure for t_workload_outp_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_outp_f";
CREATE FOREIGN TABLE "public"."t_workload_outp_f" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "visit_date" date,
  "visit_no" varchar(32) COLLATE "pg_catalog"."default",
  "rcpt_no" varchar(32) COLLATE "pg_catalog"."default",
  "status_code" varchar(10) COLLATE "pg_catalog"."default",
  "item_no" varchar(20) COLLATE "pg_catalog"."default",
  "item_class" varchar(32) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(20) COLLATE "pg_catalog"."default",
  "class_on_rcpt" varchar(32) COLLATE "pg_catalog"."default",
  "item_code" varchar(32) COLLATE "pg_catalog"."default",
  "item_name" varchar(160) COLLATE "pg_catalog"."default",
  "item_spec" varchar(128) COLLATE "pg_catalog"."default",
  "amount" numeric(10,0),
  "units" varchar(100) COLLATE "pg_catalog"."default",
  "performed_by" varchar(32) COLLATE "pg_catalog"."default",
  "costs" numeric(10,2),
  "charges" numeric(10,2),
  "special_charges" numeric(10,2),
  "ordered_by" varchar(32) COLLATE "pg_catalog"."default",
  "ordered_by_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "patient_id" varchar(64) COLLATE "pg_catalog"."default",
  "patient_name" varchar(128) COLLATE "pg_catalog"."default",
  "trade_price" numeric(10,2),
  "performed_by_doctor" varchar(32) COLLATE "pg_catalog"."default",
  "ward_code" varchar(32) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPLY', "table" 'DRG_OUTP_BILL_ITEMS')
;

-- ----------------------------
-- Table structure for t_workload_overal
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_overal";
CREATE TABLE "public"."t_workload_overal" (
  "年月" varchar(40) COLLATE "pg_catalog"."default",
  "出院结算金额" numeric(40,2),
  "出院结算人数" numeric(40,0),
  "医保出院结算金额" numeric(40,2),
  "医保出院结算人数" numeric(40,0),
  "自费出院结算金额" numeric(40,2),
  "自费出院结算人数" numeric(40,0),
  "DRG总费用" numeric(40,2),
  "DRG成本" numeric(40,2),
  "DRG人数" numeric(40,0),
  "门诊结算金额" numeric(40,2),
  "门诊结算人数" numeric(40,0),
  "总收入" numeric(20,2),
  "药品支出" numeric(20,2),
  "血液制品等支出" numeric(20,2),
  "耗材支出" numeric(20,2),
  "业务收入" numeric(20,2),
  "基本工资" numeric(20,2),
  "绩效工资占比" numeric(5,2),
  "临床权重" numeric(4,2),
  "护理权重" numeric(4,2),
  "医技医辅权重" numeric(4,2),
  "行管后勤权重" numeric(4,2),
  "临床医生人数" int2,
  "临床护理人数" int2,
  "医技医辅人数" int2,
  "行管后勤人数" int2,
  "临床内科医生" numeric(4,2),
  "临床外科医生" numeric(4,2),
  "诊断医生" numeric(4,2),
  "临床外科护理" numeric(4,4),
  "临床内科护理" numeric(4,2),
  "技师" numeric(4,2),
  "医辅" numeric(4,2),
  "绩效总额" varchar(20) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_overal"."总收入" IS '总收入';
COMMENT ON COLUMN "public"."t_workload_overal"."药品支出" IS '药品支出';
COMMENT ON COLUMN "public"."t_workload_overal"."血液制品等支出" IS '血液制品等支出';
COMMENT ON COLUMN "public"."t_workload_overal"."耗材支出" IS '耗材支出';
COMMENT ON COLUMN "public"."t_workload_overal"."业务收入" IS '业务收入';
COMMENT ON COLUMN "public"."t_workload_overal"."基本工资" IS '基本工资+5险1金支出';
COMMENT ON COLUMN "public"."t_workload_overal"."绩效工资占比" IS '绩效工资占比';
COMMENT ON COLUMN "public"."t_workload_overal"."临床权重" IS '临床权重';
COMMENT ON COLUMN "public"."t_workload_overal"."护理权重" IS '护理权重';
COMMENT ON COLUMN "public"."t_workload_overal"."医技医辅权重" IS '医技医辅权重';
COMMENT ON COLUMN "public"."t_workload_overal"."行管后勤权重" IS '行管后勤权重';
COMMENT ON COLUMN "public"."t_workload_overal"."临床医生人数" IS '临床医生人数';
COMMENT ON COLUMN "public"."t_workload_overal"."临床护理人数" IS '临床护理人数';
COMMENT ON COLUMN "public"."t_workload_overal"."医技医辅人数" IS '医技医辅人数';
COMMENT ON COLUMN "public"."t_workload_overal"."行管后勤人数" IS '行管后勤人数';

-- ----------------------------
-- Table structure for t_workload_percent
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_percent";
CREATE TABLE "public"."t_workload_percent" (
  "id" int4,
  "item_class_name" varchar(20) COLLATE "pg_catalog"."default",
  "outbed_bill" float8,
  "outbed_exec" float8,
  "outbed_nurse" float8,
  "inbed_bill" float8,
  "inbed_exec" float8,
  "inbed_nurse" float8
)
;

-- ----------------------------
-- Table structure for t_workload_perform_allocate
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perform_allocate";
CREATE TABLE "public"."t_workload_perform_allocate" (
  "年月" varchar(20) COLLATE "pg_catalog"."default",
  "权重" numeric(10,5),
  "类型" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_perform_allocate1
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perform_allocate1";
CREATE TABLE "public"."t_workload_perform_allocate1" (
  "年月" varchar(20) COLLATE "pg_catalog"."default",
  "临床" numeric(10,5),
  "护理" numeric(10,5),
  "医技" numeric(10,5),
  "行管后勤" numeric(10,5),
  "绩效总额" numeric(20,0),
  "门诊" numeric(10,5)
)
;
COMMENT ON COLUMN "public"."t_workload_perform_allocate1"."临床" IS '临床权重';
COMMENT ON COLUMN "public"."t_workload_perform_allocate1"."护理" IS '护理权重';
COMMENT ON COLUMN "public"."t_workload_perform_allocate1"."医技" IS '医技医辅权重';
COMMENT ON COLUMN "public"."t_workload_perform_allocate1"."行管后勤" IS '行管后勤权重';

-- ----------------------------
-- Table structure for t_workload_perform_amin
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perform_amin";
CREATE TABLE "public"."t_workload_perform_amin" (
  "科室" varchar(50) COLLATE "pg_catalog"."default",
  "姓名" varchar(20) COLLATE "pg_catalog"."default",
  "岗位系数" numeric(10,4)
)
;

-- ----------------------------
-- Table structure for t_workload_perfpay_cl
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perfpay_cl";
CREATE TABLE "public"."t_workload_perfpay_cl" (
  "绩效科室ID" varchar(15) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(40) COLLATE "pg_catalog"."default",
  "效益" numeric(10,2),
  "介入台助" numeric(10,2),
  "医疗质量奖惩" numeric(10,2),
  "医疗保障补助" numeric(10,2),
  "报卡奖励" numeric(10,2),
  "综合质量奖惩" numeric(10,2),
  "主任奖惩" numeric(10,2),
  "不良事件上报" numeric(10,2),
  "抗菌药物" numeric(10,2),
  "重点药物治疗" numeric(10,2),
  "门诊危急值未书写处罚" numeric(10,2),
  "未书写病历扣罚" numeric(10,2),
  "放疗" numeric(10,2),
  "麻醉" numeric(10,2),
  "感染补助" numeric(10,2),
  "科秘书" numeric(10,2),
  "职补" numeric(10,2),
  "卫生津贴" numeric(10,2),
  "出车补助" numeric(10,2),
  "夜班费" numeric(10,2),
  "yyyy_mm" varchar(10) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_perfpay_hl
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perfpay_hl";
CREATE TABLE "public"."t_workload_perfpay_hl" (
  "绩效科室ID" varchar(15) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(40) COLLATE "pg_catalog"."default",
  "效益" numeric(10,2),
  "感染补助" numeric(10,2),
  "综合质量奖惩" numeric(10,2),
  "护士长奖惩" numeric(10,2),
  "静脉溶栓治疗" numeric(10,2),
  "抗菌药物" numeric(10,2),
  "不良事件上报" numeric(10,2),
  "不良事件上报护士长" numeric(10,2),
  "护士长夜班费" numeric(10,2),
  "胸痛" numeric(10,2),
  "月刊发稿件" numeric(10,2),
  "出车补助" numeric(10,2),
  "介入台补" numeric(10,2),
  "安全员补贴" numeric(10,2),
  "职补" numeric(10,2),
  "卫生津贴" numeric(255,0),
  "夜班费" numeric(255,0),
  "yyyy_mm" varchar(10) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_perfpay_mz
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perfpay_mz";
CREATE TABLE "public"."t_workload_perfpay_mz" (
  "绩效科室ID" varchar(15) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(40) COLLATE "pg_catalog"."default",
  "效益" numeric(10,2),
  "介入台助" numeric(10,2),
  "医疗质量奖惩" numeric(10,2),
  "医疗保障补助" numeric(10,2),
  "报卡奖励" numeric(10,2),
  "综合质量奖惩" numeric(10,2),
  "主任奖惩" numeric(10,2),
  "不良事件上报" numeric(10,2),
  "抗菌药物" numeric(10,2),
  "重点药物治疗" numeric(10,2),
  "门诊危急值未书写处罚" numeric(10,2),
  "未书写病历扣罚" numeric(10,2),
  "放疗" numeric(10,2),
  "麻醉" numeric(10,2),
  "感染补助" numeric(10,2),
  "科秘书" numeric(10,2),
  "职补" numeric(10,2),
  "卫生津贴" numeric(10,2),
  "出车补助" numeric(10,2),
  "夜班费" numeric(10,2),
  "yyyy_mm" varchar(10) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_perfpay_yj
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_perfpay_yj";
CREATE TABLE "public"."t_workload_perfpay_yj" (
  "绩效科室ID" varchar(15) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(40) COLLATE "pg_catalog"."default",
  "效益" numeric(10,2),
  "体检工作量" numeric(10,2),
  "医疗质量奖惩" numeric(10,2),
  "静脉溶栓" numeric(10,2),
  "负责人" numeric(10,2),
  "组长" numeric(10,2),
  "不良事件" numeric(10,2),
  "科秘书" numeric(10,2),
  "安全员补贴" numeric(10,2),
  "职补" numeric(10,2),
  "卫生津贴" numeric(10,2),
  "夜班费" numeric(10,2),
  "yyyy_mm" varchar(10) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_point
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point";
CREATE TABLE "public"."t_workload_point" (
  "item_workload_id" int8 NOT NULL DEFAULT nextval('t_workload_point_seq'::regclass),
  "hosp_id" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(200) COLLATE "pg_catalog"."default",
  "inbed_bill" numeric(10,4),
  "inbed_exec" numeric(10,4),
  "inbed_nurse" numeric(10,4),
  "inbed_other" numeric(10,4),
  "outbed_bill" numeric(10,4),
  "outbed_exec" numeric(10,4),
  "outbed_nurse" numeric(10,4),
  "outbed_other" numeric(10,4),
  "begin_dt" timestamp(6),
  "end_dt" timestamp(6),
  "status" varchar(50) COLLATE "pg_catalog"."default",
  "note" varchar(500) COLLATE "pg_catalog"."default",
  "inbed_value" float4,
  "outbed_value" float4,
  "item_price" float4,
  "item_class" varchar(20) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(50) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_point"."item_workload_id" IS '医院收费项目工作量配置id';
COMMENT ON COLUMN "public"."t_workload_point"."hosp_id" IS '医院id';
COMMENT ON COLUMN "public"."t_workload_point"."fee_item_code" IS '费用项目编号';
COMMENT ON COLUMN "public"."t_workload_point"."fee_item_name" IS '费用项目名称';
COMMENT ON COLUMN "public"."t_workload_point"."inbed_bill" IS '住院开单点数';
COMMENT ON COLUMN "public"."t_workload_point"."inbed_exec" IS '住院执行点数';
COMMENT ON COLUMN "public"."t_workload_point"."inbed_nurse" IS '住院护理点数';
COMMENT ON COLUMN "public"."t_workload_point"."inbed_other" IS '住院其他点数';
COMMENT ON COLUMN "public"."t_workload_point"."outbed_bill" IS '门诊开单点数';
COMMENT ON COLUMN "public"."t_workload_point"."outbed_exec" IS '门诊执行点数';
COMMENT ON COLUMN "public"."t_workload_point"."outbed_nurse" IS '门诊护理点数';
COMMENT ON COLUMN "public"."t_workload_point"."outbed_other" IS '门诊其他点数';
COMMENT ON COLUMN "public"."t_workload_point"."begin_dt" IS '有效开始日期';
COMMENT ON COLUMN "public"."t_workload_point"."end_dt" IS '有效结束日期';
COMMENT ON COLUMN "public"."t_workload_point"."status" IS '正常作废';
COMMENT ON COLUMN "public"."t_workload_point"."note" IS '备注';
COMMENT ON COLUMN "public"."t_workload_point"."inbed_value" IS '住院点值';
COMMENT ON COLUMN "public"."t_workload_point"."outbed_value" IS '门诊点值';
COMMENT ON COLUMN "public"."t_workload_point"."item_price" IS '价格';

-- ----------------------------
-- Table structure for t_workload_point_exe_sp
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_exe_sp";
CREATE TABLE "public"."t_workload_point_exe_sp" (
  "item_name" varchar(100) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(100) COLLATE "pg_catalog"."default",
  "perform_name" varchar(20) COLLATE "pg_catalog"."default",
  "perform_code" varchar(20) COLLATE "pg_catalog"."default",
  "item_code" varchar(32) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_point_exe_sp20250926
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_exe_sp20250926";
CREATE TABLE "public"."t_workload_point_exe_sp20250926" (
  "item_code" varchar(50) COLLATE "pg_catalog"."default",
  "item_name" varchar(100) COLLATE "pg_catalog"."default",
  "inp_exe" float8,
  "outp_exe" float8,
  "inp_exe1" float8,
  "outp_exe1" float8
)
;

-- ----------------------------
-- Table structure for t_workload_point_exe_sp20250928
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_exe_sp20250928";
CREATE TABLE "public"."t_workload_point_exe_sp20250928" (
  "fee_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "fee_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_bill" float8,
  "inbed_exec" float8,
  "inbed_nurse" float8,
  "outbed_bill" float8,
  "outbed_exec" float8,
  "outbed_nurse" float8,
  "item_price" float8,
  "item_class" varchar(50) COLLATE "pg_catalog"."default",
  "item_class_name" varchar(100) COLLATE "pg_catalog"."default",
  "inbed_bill1" float8,
  "inbed_exec1" float8,
  "inbed_nurse1" float8,
  "outbed_bill1" float8,
  "outbed_exec1" float8,
  "outbed_nurse1" float8
)
;

-- ----------------------------
-- Table structure for t_workload_point_exe_zero
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_exe_zero";
CREATE TABLE "public"."t_workload_point_exe_zero" (
  "item_code" varchar(30) COLLATE "pg_catalog"."default",
  "item_name" varchar(100) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_point_nurse_sp
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_nurse_sp";
CREATE TABLE "public"."t_workload_point_nurse_sp" (
  "项目名称" varchar(100) COLLATE "pg_catalog"."default",
  "项目编码" varchar(50) COLLATE "pg_catalog"."default",
  "科室代码" varchar(20) COLLATE "pg_catalog"."default",
  "开单点数" float8,
  "护理点数2" float8,
  "护理单元名称" varchar(100) COLLATE "pg_catalog"."default",
  "护理单元编码" varchar(20) COLLATE "pg_catalog"."default",
  "护理点数" float8,
  "费用类型" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_point_nurse_sp20250926
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_nurse_sp20250926";
CREATE TABLE "public"."t_workload_point_nurse_sp20250926" (
  "item_code" varchar(50) COLLATE "pg_catalog"."default",
  "item_name" varchar(100) COLLATE "pg_catalog"."default",
  "inp_nurse" float8,
  "outp_nurse" float8
)
;

-- ----------------------------
-- Table structure for t_workload_point_nurse_zero
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_point_nurse_zero";
CREATE TABLE "public"."t_workload_point_nurse_zero" (
  "item_code" varchar(30) COLLATE "pg_catalog"."default",
  "item_name" varchar(100) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_pres_bill_detai
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_pres_bill_detai";
CREATE TABLE "public"."t_workload_pres_bill_detai" (
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "si_item_code" varchar(100) COLLATE "pg_catalog"."default",
  "si_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "item_price" float8,
  "item_cnt" int8,
  "si_item_unit" varchar(50) COLLATE "pg_catalog"."default",
  "drug_form_code" varchar(100) COLLATE "pg_catalog"."default",
  "drug_cnt" float8,
  "si_drug_unit" varchar(20) COLLATE "pg_catalog"."default",
  "item_amt" float8,
  "item_fee_type" varchar(20) COLLATE "pg_catalog"."default",
  "self_pay_rate" float8,
  "self_pay_amt" float8,
  "used_per" float8,
  "used_per_unit" varchar(20) COLLATE "pg_catalog"."default",
  "used_freq_code" varchar(100) COLLATE "pg_catalog"."default",
  "used_freq_name" varchar(100) COLLATE "pg_catalog"."default",
  "used_days" float8,
  "used_route" varchar(100) COLLATE "pg_catalog"."default",
  "used_note" varchar(255) COLLATE "pg_catalog"."default",
  "note" varchar(255) COLLATE "pg_catalog"."default",
  "origin_primary_id" varchar(100) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_pres_bill_detail
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_pres_bill_detail";
CREATE TABLE "public"."t_workload_pres_bill_detail" (
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "si_item_code" varchar(100) COLLATE "pg_catalog"."default",
  "si_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "item_price" float8,
  "item_cnt" float8,
  "si_item_unit" varchar(50) COLLATE "pg_catalog"."default",
  "drug_form_code" varchar(100) COLLATE "pg_catalog"."default",
  "drug_cnt" float8,
  "si_drug_unit" varchar(20) COLLATE "pg_catalog"."default",
  "item_amt" float8,
  "item_fee_type" varchar(20) COLLATE "pg_catalog"."default",
  "self_pay_rate" float8,
  "self_pay_amt" float8,
  "used_per" float8,
  "used_per_unit" varchar(20) COLLATE "pg_catalog"."default",
  "used_freq_code" varchar(100) COLLATE "pg_catalog"."default",
  "used_freq_name" varchar(100) COLLATE "pg_catalog"."default",
  "used_days" float8,
  "used_route" varchar(100) COLLATE "pg_catalog"."default",
  "used_note" varchar(255) COLLATE "pg_catalog"."default",
  "note" varchar(255) COLLATE "pg_catalog"."default",
  "origin_primary_id" varchar(100) COLLATE "pg_catalog"."default"
)
;
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."hosp_code" IS '医疗机构编号';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."pres_bill_id" IS '结算单流水号';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."hosp_item_code" IS '医院项目编号';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."hosp_item_name" IS '医院项目名称';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."si_item_code" IS '医保项目编号';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."si_item_name" IS '医保项目名称';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."item_price" IS '项目单价';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."item_cnt" IS '项目数量';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."si_item_unit" IS '项目数量单位';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."drug_form_code" IS '药品剂型代码';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."drug_cnt" IS '药品数量';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."si_drug_unit" IS '药品数量单位';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."item_amt" IS '项目金额';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."item_fee_type" IS '收费类型';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."self_pay_rate" IS '自付比例';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."self_pay_amt" IS '自付金额';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_per" IS '单次用药剂量';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_per_unit" IS '单次用药剂量单位';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_freq_code" IS '使用频次代码';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_freq_name" IS '使用频次名称';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_days" IS '使用天数';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_route" IS '给药途径';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."used_note" IS '用法说明';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."note" IS '备注';
COMMENT ON COLUMN "public"."t_workload_pres_bill_detail"."origin_primary_id" IS '原始数据唯一标识';

-- ----------------------------
-- Table structure for t_workload_pres_bill_detail_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_pres_bill_detail_f";
CREATE FOREIGN TABLE "public"."t_workload_pres_bill_detail_f" (
  "hosp_code" varchar(30) COLLATE "pg_catalog"."default",
  "pres_bill_id" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_code" varchar(50) COLLATE "pg_catalog"."default",
  "hosp_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "si_item_code" varchar(100) COLLATE "pg_catalog"."default",
  "si_item_name" varchar(100) COLLATE "pg_catalog"."default",
  "item_price" float8,
  "item_cnt" varchar(50) COLLATE "pg_catalog"."default",
  "si_item_unit" varchar(50) COLLATE "pg_catalog"."default",
  "drug_form_code" varchar(100) COLLATE "pg_catalog"."default",
  "drug_cnt" varchar(50) COLLATE "pg_catalog"."default",
  "si_drug_unit" varchar(20) COLLATE "pg_catalog"."default",
  "item_amt" float8,
  "item_fee_type" varchar(20) COLLATE "pg_catalog"."default",
  "self_pay_rate" float8,
  "self_pay_amt" float8,
  "used_per" float8,
  "used_per_unit" varchar(20) COLLATE "pg_catalog"."default",
  "used_freq_code" varchar(100) COLLATE "pg_catalog"."default",
  "used_freq_name" varchar(100) COLLATE "pg_catalog"."default",
  "used_days" float8,
  "used_route" varchar(100) COLLATE "pg_catalog"."default",
  "used_note" varchar(255) COLLATE "pg_catalog"."default",
  "note" varchar(255) COLLATE "pg_catalog"."default",
  "origin_primary_id" varchar(100) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_PRES_BILL_DETAIL')
;

-- ----------------------------
-- Table structure for t_workload_pres_bill_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_pres_bill_f";
CREATE FOREIGN TABLE "public"."t_workload_pres_bill_f" (
  "rcpt_id" varchar(32) COLLATE "pg_catalog"."default",
  "hosp_code" varchar(40) COLLATE "pg_catalog"."default",
  "bill_id" varchar(40) COLLATE "pg_catalog"."default",
  "psn_code" varchar(40) COLLATE "pg_catalog"."default",
  "psn_id" text COLLATE "pg_catalog"."default",
  "si_type_id" varchar(40) COLLATE "pg_catalog"."default",
  "psn_type" varchar(30) COLLATE "pg_catalog"."default",
  "si_area" varchar(40) COLLATE "pg_catalog"."default",
  "batch_id" varchar(40) COLLATE "pg_catalog"."default",
  "bill_code" varchar(40) COLLATE "pg_catalog"."default",
  "bill_dt" date,
  "bill_cnt" numeric(20,0),
  "bill_amt" numeric(20,2),
  "psn_acc_amt" numeric(20,2),
  "fund_amt" numeric(20,2),
  "desease_amt" numeric(20,2),
  "civil_amt" numeric(20,2),
  "cash_amt" numeric(20,2),
  "visit_code" varchar(40) COLLATE "pg_catalog"."default",
  "pres_code" varchar(40) COLLATE "pg_catalog"."default",
  "pres_type" varchar(20) COLLATE "pg_catalog"."default",
  "other_visit" varchar(30) COLLATE "pg_catalog"."default",
  "visit_dt" date,
  "dep_code" varchar(40) COLLATE "pg_catalog"."default",
  "dep_name" varchar(50) COLLATE "pg_catalog"."default",
  "doctor_code" varchar(255) COLLATE "pg_catalog"."default",
  "doctor_name" varchar(255) COLLATE "pg_catalog"."default",
  "desease_visit" varchar(255) COLLATE "pg_catalog"."default",
  "desease_reg_code" varchar(255) COLLATE "pg_catalog"."default",
  "desease_code" varchar(255) COLLATE "pg_catalog"."default",
  "desease_name" varchar(255) COLLATE "pg_catalog"."default",
  "gravida_flag" varchar(255) COLLATE "pg_catalog"."default",
  "suckling_flag" varchar(255) COLLATE "pg_catalog"."default",
  "cancel_flag" varchar(255) COLLATE "pg_catalog"."default",
  "cancel_bill_id" varchar(255) COLLATE "pg_catalog"."default",
  "note" varchar(255) COLLATE "pg_catalog"."default",
  "origin_primary_id" varchar(255) COLLATE "pg_catalog"."default",
  "insur_type" varchar(30) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPDRGS', "table" 'V_PRES_BILL')
;

-- ----------------------------
-- Table structure for t_workload_psn_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_psn_f";
CREATE FOREIGN TABLE "public"."t_workload_psn_f" (
  "org_code" varchar(30) COLLATE "pg_catalog"."default",
  "staff_code" varchar(30) COLLATE "pg_catalog"."default",
  "name" varchar(30) COLLATE "pg_catalog"."default",
  "status_code" varchar(30) COLLATE "pg_catalog"."default"
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPLY', "table" 'DRG_PAT_TRANSFER')
;

-- ----------------------------
-- Table structure for t_workload_rewards
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_rewards";
CREATE TABLE "public"."t_workload_rewards" (
  "日期" date,
  "奖罚内容" varchar(100) COLLATE "pg_catalog"."default",
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "金额" numeric(10,2),
  "序号" int4 NOT NULL DEFAULT nextval('"t_workload_rewards_序号_seq"'::regclass)
)
;

-- ----------------------------
-- Table structure for t_workload_supplement
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_supplement";
CREATE TABLE "public"."t_workload_supplement" (
  "绩效科室ID" varchar(20) COLLATE "pg_catalog"."default" DEFAULT nextval('"t_workload_dep_def_绩效科室id_seq"'::regclass),
  "绩效科室名称" varchar(100) COLLATE "pg_catalog"."default",
  "绩效科室类别" varchar(20) COLLATE "pg_catalog"."default",
  "绩效科室属性" varchar(20) COLLATE "pg_catalog"."default",
  "工作量点数" numeric(20,4),
  "备注" varchar(255) COLLATE "pg_catalog"."default",
  "yyyy_mm" varchar(10) COLLATE "pg_catalog"."default",
  "人数" int4,
  "工作量单价" numeric(10,5),
  "工作量系数" numeric(10,5),
  "工作量绩效" numeric(20,2)
)
;

-- ----------------------------
-- Table structure for t_workload_surgery_level
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_surgery_level";
CREATE TABLE "public"."t_workload_surgery_level" (
  "编码" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "手术操作名称" varchar(200) COLLATE "pg_catalog"."default",
  "类别" varchar(20) COLLATE "pg_catalog"."default",
  "手术级别" varchar(20) COLLATE "pg_catalog"."default"
)
;

-- ----------------------------
-- Table structure for t_workload_temp
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_temp";
CREATE TABLE "public"."t_workload_temp" (
  "mdtrt_id" varchar(30) COLLATE "pg_catalog"."default",
  "drgs_code" varchar(50) COLLATE "pg_catalog"."default",
  "drgs_name" varchar(200) COLLATE "pg_catalog"."default",
  "item_name" varchar(160) COLLATE "pg_catalog"."default",
  "项目使用数量" int8
)
;

-- ----------------------------
-- Table structure for t_workload_transfer
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_transfer";
CREATE TABLE "public"."t_workload_transfer" (
  "visit_id" varchar(30) COLLATE "pg_catalog"."default",
  "pat_name" varchar(30) COLLATE "pg_catalog"."default",
  "inpatientCode" varchar(30) COLLATE "pg_catalog"."default",
  "times" numeric(3,0),
  "feetype" varchar(10) COLLATE "pg_catalog"."default",
  "first_area_code" varchar(30) COLLATE "pg_catalog"."default",
  "first_dept_date" date,
  "out_area_code" varchar(30) COLLATE "pg_catalog"."default",
  "out_date" date,
  "node" varchar(254) COLLATE "pg_catalog"."default",
  "out_area" varchar(30) COLLATE "pg_catalog"."default",
  "in_area" varchar(30) COLLATE "pg_catalog"."default",
  "create_date" date,
  "numer" numeric(3,0)
)
;
COMMENT ON COLUMN "public"."t_workload_transfer"."visit_id" IS '就诊流水号';
COMMENT ON COLUMN "public"."t_workload_transfer"."pat_name" IS '患者姓名';
COMMENT ON COLUMN "public"."t_workload_transfer"."inpatientCode" IS '住院号';
COMMENT ON COLUMN "public"."t_workload_transfer"."times" IS '住院次数';
COMMENT ON COLUMN "public"."t_workload_transfer"."feetype" IS '医保类型';
COMMENT ON COLUMN "public"."t_workload_transfer"."first_area_code" IS '首次入院科室';
COMMENT ON COLUMN "public"."t_workload_transfer"."first_dept_date" IS '首次入院时间';
COMMENT ON COLUMN "public"."t_workload_transfer"."out_area_code" IS '出院科室';
COMMENT ON COLUMN "public"."t_workload_transfer"."out_date" IS '出院时间';
COMMENT ON COLUMN "public"."t_workload_transfer"."node" IS '转科节点';
COMMENT ON COLUMN "public"."t_workload_transfer"."out_area" IS ' 转出科室';
COMMENT ON COLUMN "public"."t_workload_transfer"."in_area" IS '转入科室';
COMMENT ON COLUMN "public"."t_workload_transfer"."create_date" IS '转科时间';
COMMENT ON COLUMN "public"."t_workload_transfer"."numer" IS '节点顺序';

-- ----------------------------
-- Table structure for t_workload_transfer_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."t_workload_transfer_f";
CREATE FOREIGN TABLE "public"."t_workload_transfer_f" (
  "visit_id" varchar(30) COLLATE "pg_catalog"."default",
  "pat_name" varchar(30) COLLATE "pg_catalog"."default",
  "inpatientCode" varchar(30) COLLATE "pg_catalog"."default",
  "times" numeric(3,0),
  "feetype" varchar(10) COLLATE "pg_catalog"."default",
  "first_area_code" varchar(30) COLLATE "pg_catalog"."default",
  "first_dept_date" date,
  "out_area_code" varchar(30) COLLATE "pg_catalog"."default",
  "out_date" date,
  "node" varchar(254) COLLATE "pg_catalog"."default",
  "out_area" varchar(30) COLLATE "pg_catalog"."default",
  "in_area" varchar(30) COLLATE "pg_catalog"."default",
  "create_date" date,
  "numer" numeric(3,0)
)
SERVER "oracle_hiply"
OPTIONS ("schema" 'HIPLY', "table" 'DRG_PAT_TRANSFER')
;

-- ----------------------------
-- Table structure for v_data_inbed_opt_f
-- ----------------------------
DROP TABLE IF EXISTS "public"."v_data_inbed_opt_f";
CREATE FOREIGN TABLE "public"."v_data_inbed_opt_f" (
  "mdtrt_id" varchar COLLATE "pg_catalog"."default",
  "hosp_code" varchar COLLATE "pg_catalog"."default",
  "inbed_status" varchar COLLATE "pg_catalog"."default",
  "setl_list_oprn_id" varchar COLLATE "pg_catalog"."default",
  "oprn_code" varchar COLLATE "pg_catalog"."default",
  "oprn_name" varchar COLLATE "pg_catalog"."default",
  "main_oprn_flag" varchar COLLATE "pg_catalog"."default",
  "oprn_date" varchar COLLATE "pg_catalog"."default",
  "anst_mtd_code" varchar COLLATE "pg_catalog"."default",
  "anst_way" varchar COLLATE "pg_catalog"."default",
  "oper_dr_code" varchar COLLATE "pg_catalog"."default",
  "oper_dr_name" varchar COLLATE "pg_catalog"."default",
  "anst_dr_code" varchar COLLATE "pg_catalog"."default",
  "anst_dr_name" varchar COLLATE "pg_catalog"."default"
)
SERVER "oracle_ybdb"
OPTIONS ("schema" 'YBDB', "table" 'V_DATA_INBED_OPT')
;

-- ----------------------------
-- Function structure for _navicat_temp_stored_proc
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."_navicat_temp_stored_proc"("stdate" date, "eddate" date);
CREATE OR REPLACE FUNCTION "public"."_navicat_temp_stored_proc"("stdate" date, "eddate" date)
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    v_error_message TEXT;
    v_log_message TEXT;
    v_step TEXT;
BEGIN
    -- 创建日志表（如果不存在）
    CREATE TABLE IF NOT EXISTS performance_log (
        log_id SERIAL PRIMARY KEY,
        log_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        step_name TEXT,
        status TEXT,
        message TEXT,
        stdate DATE,
        eddate DATE
    );

    -- 记录开始日志
    INSERT INTO performance_log (step_name, status, stdate, eddate) 
    VALUES ('开始执行', '开始', stdate, eddate);

    -- 验证日期范围有效性
    IF stdate > eddate THEN
        RAISE EXCEPTION '开始日期 % 不能晚于结束日期 %', stdate, eddate;
    END IF;

    BEGIN
        -- 步骤1: 获取源数据
        v_step := 'hx_fetch_source_data';
        INSERT INTO performance_log (step_name, status, stdate, eddate) 
        VALUES (v_step, '开始', stdate, eddate);
        
        PERFORM hx_fetch_source_data(stdate, eddate);
        
        -- 步骤2: 计算住院项目分配
        v_step := 'hx_cac_workload_inp';
        PERFORM hx_cac_workload_inp();
        
        -- 步骤3: 科室住院工作量
        v_step := 'hx_performance_inp_dep';
        PERFORM hx_performance_inp_dep();
        
        -- 步骤4: 医生住院工作量
        v_step := 'hx_performance_inp_doc';
        PERFORM hx_performance_inp_doc();
        
        -- 步骤5: 计算门诊项目分配
        v_step := 'hx_cac_workload_outp';
        PERFORM hx_cac_workload_outp();
        
        -- 步骤6: 科室门诊工作量
        v_step := 'hx_performance_outp_dep';
        PERFORM hx_performance_outp_dep();
        
        -- 步骤7: 医生门诊工作量
        v_step := 'hx_performance_outp_doc';
        PERFORM hx_performance_outp_doc();
        
        -- 步骤8: 手术奖励计算
        v_step := 'hx_sur_performance_inp_doc';
        PERFORM hx_sur_performance_inp_doc();
        
        -- 步骤9: 生成DRG结算单
        v_step := 'hx_create_drg_bill';
        PERFORM hx_create_drg_bill();
        
        -- 步骤10: 生成DRG结算单明细
        v_step := 'hx_create_drg_bill_detail';
        PERFORM hx_create_drg_bill_detail();
        
        -- 全部成功
        INSERT INTO performance_log (step_name, status, message, stdate, eddate) 
        VALUES ('所有步骤', '成功', '所有计算步骤完成', stdate, eddate);
        
    EXCEPTION
        WHEN OTHERS THEN
            -- 获取错误信息
            GET STACKED DIAGNOSTICS v_error_message = MESSAGE_TEXT;
            
            -- 记录错误日志
            v_log_message := format('步骤 %s 失败: %s', v_step, v_error_message);
            INSERT INTO performance_log (step_name, status, message, stdate, eddate) 
            VALUES (v_step, '失败', v_log_message, stdate, eddate);
            
            -- 回滚所有操作并终止
            RAISE EXCEPTION '%', v_log_message;
    END;

    RETURN success;
    
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for connect_sqlserver
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."connect_sqlserver"();
CREATE OR REPLACE FUNCTION "public"."connect_sqlserver"()
  RETURNS "pg_catalog"."text" AS $BODY$
BEGIN
    RETURN 'dbname=jixiao_interface host=192.168.20.108 port=1433 user=jixiao_user_2025 password=sqlserver_password';
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for connectby
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."connectby"(text, text, text, text, int4);
CREATE OR REPLACE FUNCTION "public"."connectby"(text, text, text, text, int4)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'connectby_text'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for connectby
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."connectby"(text, text, text, text, text, int4);
CREATE OR REPLACE FUNCTION "public"."connectby"(text, text, text, text, text, int4)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'connectby_text_serial'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for connectby
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."connectby"(text, text, text, text, text, int4, text);
CREATE OR REPLACE FUNCTION "public"."connectby"(text, text, text, text, text, int4, text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'connectby_text_serial'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for connectby
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."connectby"(text, text, text, text, int4, text);
CREATE OR REPLACE FUNCTION "public"."connectby"(text, text, text, text, int4, text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'connectby_text'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for crosstab
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."crosstab"(text, int4);
CREATE OR REPLACE FUNCTION "public"."crosstab"(text, int4)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'crosstab'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for crosstab
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."crosstab"(text, text);
CREATE OR REPLACE FUNCTION "public"."crosstab"(text, text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'crosstab_hash'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for crosstab
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."crosstab"(text);
CREATE OR REPLACE FUNCTION "public"."crosstab"(text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/tablefunc', 'crosstab'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for crosstab2
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."crosstab2"(text);
CREATE OR REPLACE FUNCTION "public"."crosstab2"(text)
  RETURNS SETOF "public"."tablefunc_crosstab_2" AS '$libdir/tablefunc', 'crosstab'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for crosstab3
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."crosstab3"(text);
CREATE OR REPLACE FUNCTION "public"."crosstab3"(text)
  RETURNS SETOF "public"."tablefunc_crosstab_3" AS '$libdir/tablefunc', 'crosstab'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for crosstab4
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."crosstab4"(text);
CREATE OR REPLACE FUNCTION "public"."crosstab4"(text)
  RETURNS SETOF "public"."tablefunc_crosstab_4" AS '$libdir/tablefunc', 'crosstab'
  LANGUAGE c STABLE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink"(text);
CREATE OR REPLACE FUNCTION "public"."dblink"(text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_record'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink"(text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink"(text, bool)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_record'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink"(text, text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_record'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink"(text, text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink"(text, text, bool)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_record'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_build_sql_delete
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_build_sql_delete"(text, int2vector, int4, _text);
CREATE OR REPLACE FUNCTION "public"."dblink_build_sql_delete"(text, int2vector, int4, _text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_build_sql_delete'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_build_sql_insert
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_build_sql_insert"(text, int2vector, int4, _text, _text);
CREATE OR REPLACE FUNCTION "public"."dblink_build_sql_insert"(text, int2vector, int4, _text, _text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_build_sql_insert'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_build_sql_update
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_build_sql_update"(text, int2vector, int4, _text, _text);
CREATE OR REPLACE FUNCTION "public"."dblink_build_sql_update"(text, int2vector, int4, _text, _text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_build_sql_update'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_cancel_query
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_cancel_query"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_cancel_query"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_cancel_query'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_close
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_close"(text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_close"(text, bool)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_close'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_close
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_close"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_close"(text, text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_close'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_close
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_close"(text, text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_close"(text, text, bool)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_close'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_close
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_close"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_close"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_close'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_connect
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_connect"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_connect"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_connect'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_connect
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_connect"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_connect"(text, text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_connect'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_connect_u
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_connect_u"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_connect_u"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_connect'
  LANGUAGE c VOLATILE STRICT SECURITY DEFINER
  COST 1;

-- ----------------------------
-- Function structure for dblink_connect_u
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_connect_u"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_connect_u"(text, text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_connect'
  LANGUAGE c VOLATILE STRICT SECURITY DEFINER
  COST 1;

-- ----------------------------
-- Function structure for dblink_current_query
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_current_query"();
CREATE OR REPLACE FUNCTION "public"."dblink_current_query"()
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_current_query'
  LANGUAGE c VOLATILE
  COST 1;

-- ----------------------------
-- Function structure for dblink_disconnect
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_disconnect"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_disconnect"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_disconnect'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_disconnect
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_disconnect"();
CREATE OR REPLACE FUNCTION "public"."dblink_disconnect"()
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_disconnect'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_error_message
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_error_message"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_error_message"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_error_message'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_exec
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_exec"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_exec"(text, text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_exec'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_exec
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_exec"(text, text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_exec"(text, text, bool)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_exec'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_exec
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_exec"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_exec"(text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_exec'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_exec
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_exec"(text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_exec"(text, bool)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_exec'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_fdw_validator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_fdw_validator"("options" _text, "catalog" oid);
CREATE OR REPLACE FUNCTION "public"."dblink_fdw_validator"("options" _text, "catalog" oid)
  RETURNS "pg_catalog"."void" AS '$libdir/dblink', 'dblink_fdw_validator'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_fetch
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_fetch"(text, text, int4, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_fetch"(text, text, int4, bool)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_fetch'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_fetch
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_fetch"(text, int4);
CREATE OR REPLACE FUNCTION "public"."dblink_fetch"(text, int4)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_fetch'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_fetch
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_fetch"(text, int4, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_fetch"(text, int4, bool)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_fetch'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_fetch
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_fetch"(text, text, int4);
CREATE OR REPLACE FUNCTION "public"."dblink_fetch"(text, text, int4)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_fetch'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_get_connections
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_get_connections"();
CREATE OR REPLACE FUNCTION "public"."dblink_get_connections"()
  RETURNS "pg_catalog"."_text" AS '$libdir/dblink', 'dblink_get_connections'
  LANGUAGE c VOLATILE
  COST 1;

-- ----------------------------
-- Function structure for dblink_get_notify
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_get_notify"(OUT "notify_name" text, OUT "be_pid" int4, OUT "extra" text);
CREATE OR REPLACE FUNCTION "public"."dblink_get_notify"(OUT "notify_name" text, OUT "be_pid" int4, OUT "extra" text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_get_notify'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_get_notify
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_get_notify"("conname" text, OUT "notify_name" text, OUT "be_pid" int4, OUT "extra" text);
CREATE OR REPLACE FUNCTION "public"."dblink_get_notify"(IN "conname" text, OUT "notify_name" text, OUT "be_pid" int4, OUT "extra" text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_get_notify'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_get_pkey
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_get_pkey"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_get_pkey"(text)
  RETURNS SETOF "public"."dblink_pkey_results" AS '$libdir/dblink', 'dblink_get_pkey'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_get_result
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_get_result"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_get_result"(text)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_get_result'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_get_result
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_get_result"(text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_get_result"(text, bool)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/dblink', 'dblink_get_result'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for dblink_is_busy
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_is_busy"(text);
CREATE OR REPLACE FUNCTION "public"."dblink_is_busy"(text)
  RETURNS "pg_catalog"."int4" AS '$libdir/dblink', 'dblink_is_busy'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_open
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_open"(text, text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_open"(text, text, text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_open'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_open
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_open"(text, text, text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_open"(text, text, text, bool)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_open'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_open
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_open"(text, text, bool);
CREATE OR REPLACE FUNCTION "public"."dblink_open"(text, text, bool)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_open'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_open
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_open"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_open"(text, text)
  RETURNS "pg_catalog"."text" AS '$libdir/dblink', 'dblink_open'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for dblink_send_query
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."dblink_send_query"(text, text);
CREATE OR REPLACE FUNCTION "public"."dblink_send_query"(text, text)
  RETURNS "pg_catalog"."int4" AS '$libdir/dblink', 'dblink_send_query'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for file_fdw_handler
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."file_fdw_handler"();
CREATE OR REPLACE FUNCTION "public"."file_fdw_handler"()
  RETURNS "pg_catalog"."fdw_handler" AS '$libdir/file_fdw', 'file_fdw_handler'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for file_fdw_validator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."file_fdw_validator"(_text, oid);
CREATE OR REPLACE FUNCTION "public"."file_fdw_validator"(_text, oid)
  RETURNS "pg_catalog"."void" AS '$libdir/file_fdw', 'file_fdw_validator'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for hx_add_class_columns
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_add_class_columns"("source_table" text, "class_column" text, "object_table" text);
CREATE OR REPLACE FUNCTION "public"."hx_add_class_columns"("source_table" text, "class_column" text, "object_table" text)
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    original_name TEXT;
    col_name TEXT;
    col_exists BOOLEAN;
    sql TEXT;
    success BOOLEAN := TRUE;
    target_table_regclass REGCLASS;
BEGIN
    -- 安全转换表名（防止SQL注入）
    target_table_regclass := object_table::REGCLASS;
    IF target_table_regclass IS NULL THEN
        RAISE EXCEPTION '目标表 "%" 不存在', object_table;
    END IF;

    -- 动态获取唯一值并循环
    FOR original_name IN EXECUTE
        format(
            'SELECT DISTINCT %I FROM %I WHERE %I IS NOT NULL AND %I <> ''''',
            class_column, source_table, class_column, class_column
        )
    LOOP
        -- 规范化列名（保留中文字符）
        col_name := original_name;
        col_name := REPLACE(col_name, ' ', '_');
        col_name := REPLACE(col_name, '/', '_');
        col_name := REPLACE(col_name, '-', '_');
        col_name := REPLACE(col_name, '.', '_');
        col_name := REGEXP_REPLACE(col_name, '[^a-zA-Z0-9_\u4e00-\u9fff]', '', 'g');
        
        -- 检查列是否已存在（使用系统目录）
        EXECUTE format(
            'SELECT EXISTS (
                SELECT 1 FROM pg_attribute 
                WHERE attrelid = $1 
                AND attname = $2 
                AND NOT attisdropped
            )',
            target_table_regclass, col_name
        ) INTO col_exists USING target_table_regclass, col_name;
        
        -- 动态添加列（使用安全引用）
        IF NOT col_exists THEN
            sql := format(
                'ALTER TABLE %s ADD COLUMN %I NUMERIC(12,2) DEFAULT 0',
                target_table_regclass, col_name
            );
            EXECUTE sql;
            RAISE NOTICE '已添加列: % (原始值: "%")', col_name, original_name;
        ELSE
            RAISE NOTICE '列已存在: % (原始值: "%")', col_name, original_name;
        END IF;
    END LOOP;
    
    RAISE NOTICE '所有项目类别字段已成功添加到表 %', object_table;
    RETURN success;
EXCEPTION
    WHEN others THEN
        RAISE WARNING '操作失败: %', SQLERRM;
        RETURN false;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_add_item_class_columns
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_add_item_class_columns"();
CREATE OR REPLACE FUNCTION "public"."hx_add_item_class_columns"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    original_name TEXT;
    col_name TEXT;
    col_exists BOOLEAN;
    sql TEXT;
    success BOOLEAN := TRUE;
BEGIN
    -- 检查目标表是否存在
    IF NOT EXISTS (
        SELECT 1 FROM information_schema.tables 
        WHERE table_name = 't_workload_drg_sum_fee_detail'
    ) THEN
        RAISE EXCEPTION '目标表 t_workload_drg_sum_fee_detail 不存在';
    END IF;

    -- 遍历所有唯一的项目类别名称
    FOR original_name IN 
        SELECT DISTINCT item_class_name 
        FROM t_workload_inp
        WHERE item_class_name IS NOT NULL 
          AND item_class_name <> ''
    LOOP
        -- 规范化列名 (保留中文字符)
        col_name := original_name;
        
        -- 替换特殊字符
        col_name := REPLACE(col_name, ' ', '_');
        col_name := REPLACE(col_name, '/', '_');
        col_name := REPLACE(col_name, '-', '_');
        col_name := REPLACE(col_name, '.', '_');
        
        -- 移除非字母数字和中文字符的特殊字符
        col_name := REGEXP_REPLACE(col_name, '[^a-zA-Z0-9_\u4e00-\u9fff]', '', 'g');
        
        -- 检查列是否已存在
        SELECT EXISTS (
            SELECT 1 
            FROM information_schema.columns 
            WHERE table_name = 't_workload_drg_sum_fee_detail' 
              AND column_name = col_name
        ) INTO col_exists;
        
        -- 如果列不存在则添加
        IF NOT col_exists THEN
            sql := format(
                'ALTER TABLE t_workload_drg_sum_fee_detail ADD COLUMN %I NUMERIC(12,2) DEFAULT 0',
                col_name
            );
            EXECUTE sql;
            RAISE NOTICE '已添加列: % (原始值: %)', col_name, original_name;
        ELSE
            RAISE NOTICE '列已存在: % (原始值: %)', col_name, original_name;
        END IF;
    END LOOP;
    
    RAISE NOTICE '所有项目类别字段已成功添加到表 t_workload_drg_sum_fee_detail';
    RETURN success;
EXCEPTION
    WHEN others THEN
       RETURN false;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_audit_trigger
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_audit_trigger"();
CREATE OR REPLACE FUNCTION "public"."hx_audit_trigger"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
DECLARE
    v_operator_id TEXT;
BEGIN
    -- 安全获取操作员ID--
    BEGIN
        v_operator_id := current_setting('app.current_operator_id', true);
    EXCEPTION WHEN undefined_object THEN
        v_operator_id := 'unknown';
    END;

    IF (TG_OP = 'UPDATE' AND OLD IS DISTINCT FROM NEW) THEN
        -- 修正：使用 old_data.value 和 new_data.value
        PERFORM hx_log_modification(
            v_operator_id,
            TG_TABLE_NAME,
            COALESCE(OLD.id, NEW.id),
            key,
            old_data.value::TEXT,  -- 正确引用
            new_data.value::TEXT   -- 正确引用
        )
        FROM jsonb_each(to_jsonb(OLD)) AS old_data
        JOIN jsonb_each(to_jsonb(NEW)) AS new_data USING (key)
        WHERE old_data.value IS DISTINCT FROM new_data.value;
        
    ELSIF (TG_OP = 'INSERT') THEN
        PERFORM hx_log_modification(
            v_operator_id,
            TG_TABLE_NAME,
            NEW.id,
            key,
            NULL,  -- INSERT 操作 old_value 为 NULL
            value::TEXT
        )
        FROM jsonb_each(to_jsonb(NEW));
        
    ELSIF (TG_OP = 'DELETE') THEN
        PERFORM hx_log_modification(
            v_operator_id,
            TG_TABLE_NAME,
            OLD.id,
            key,
            value::TEXT,
            NULL   -- DELETE 操作 new_value 为 NULL
        )
        FROM jsonb_each(to_jsonb(OLD));
    END IF;
    
    RETURN NULL;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_cac_perform_modal
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_cac_perform_modal"("drg_coeff" numeric);
CREATE OR REPLACE FUNCTION "public"."hx_cac_perform_modal"("drg_coeff" numeric=0.3)
  RETURNS TABLE("年月" text, "绩效科室id" text, "绩效科室名称" text, "绩效科室类别" text, "总收入" numeric, "科室直接成本总和" numeric, "人数总和" numeric, "护理工作量点数总和" numeric, "工作量点数总和" numeric, "工作量绩效总和" numeric, "总工作量绩效总和" numeric, "drg结余" numeric, "drg绩效" numeric, "净绩效" numeric, "人均绩效" numeric) AS $BODY$
BEGIN
    RETURN QUERY
    WITH perform AS (
        SELECT
            yyyy_mm,
            "绩效科室ID",
            "绩效科室名称",
            "绩效科室属性",
            "绩效科室类别",
            "绩效科室类型",
            SUM("科室直接成本") AS "科室直接成本总和",
            SUM("人数") AS "人数总和",
            SUM("护理总工作量点数") AS "护理工作量点数总和",
            SUM("总工作量点数") AS "工作量点数总和",
            SUM("工作量绩效") AS "工作量绩效总和",
            SUM("总工作量绩效") AS "总工作量绩效总和",
            SUM("drg总绩效") AS "DRG结余",
            (SUM("drg总绩效") * drg_coeff) - SUM("科室直接成本") AS "DRG绩效",
            SUM("总工作量绩效") + (SUM("drg总绩效") * drg_coeff) - SUM("科室直接成本") AS "净绩效"
        FROM
            v_workload_perform_pay_cl
        GROUP BY
            yyyy_mm,
            "绩效科室ID",
            "绩效科室名称",
            "绩效科室属性",
            "绩效科室类别",
            "绩效科室类型"
    ),
    incom AS (
        SELECT 
            t_workload_inp.yyyy_mm,
            t_workload_inp.ordered_by AS department, 
            SUM(t_workload_inp.costs) AS total_cost
        FROM t_workload_inp
        GROUP BY t_workload_inp.yyyy_mm, t_workload_inp.ordered_by
        UNION
        SELECT 
            t_workload_outp.yyyy_mm,
            t_workload_outp.ordered_by AS department,
            SUM(t_workload_outp.costs) AS total_cost
        FROM t_workload_outp
        GROUP BY t_workload_outp.yyyy_mm, t_workload_outp.ordered_by
    ),
    sum_incom AS (
        SELECT 
            incom.yyyy_mm,
            h."绩效科室ID",
            SUM(incom.total_cost) AS total_income
        FROM incom
        JOIN t_workload_dep_def2his h ON h."HIS科室编码" = incom.department
        GROUP BY  
            incom.yyyy_mm,
            h."绩效科室ID"
    )
    SELECT 
        p.yyyy_mm::text AS "年月",
        p."绩效科室ID",
        p."绩效科室名称",
        p."绩效科室类别",
        COALESCE(s.total_income, 0) AS "总收入",
        p."科室直接成本总和",
        p."人数总和",
        p."护理工作量点数总和",
        p."工作量点数总和",
        p."工作量绩效总和",
        p."总工作量绩效总和",
        p."DRG结余",
        p."DRG绩效",
        p."净绩效",
        CASE 
            WHEN p."人数总和" > 0 THEN p."净绩效" / p."人数总和"
            ELSE 0 
        END AS "人均绩效"
    FROM perform p
    LEFT JOIN sum_incom s ON p.yyyy_mm = s.yyyy_mm AND p."绩效科室ID" = s."绩效科室ID"
    ORDER BY p.yyyy_mm DESC, p."绩效科室类别";
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100
  ROWS 1000;

-- ----------------------------
-- Function structure for hx_cac_workload_inp
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_cac_workload_inp"();
CREATE OR REPLACE FUNCTION "public"."hx_cac_workload_inp"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    success BOOLEAN := TRUE;
    updated_rows INTEGER;
BEGIN
    -- 1. 设置项目介入、造影类型标志
    UPDATE t_workload_inp AS main
    SET item_type_name = ref."类别"
    FROM t_workload_operation_type AS ref
    WHERE ref."项目编码" = main.item_code;
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的项目类型', updated_rows;
    
    -- 2. 对非介入/造影/手术费/挂号费项目进行核算
    UPDATE t_workload_inp AS main
    SET 
        inp_bill = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.inbed_bill, 0)::numeric, 4),
        inp_exec = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.inbed_exec, 0)::numeric, 4),
        inp_nurse = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.inbed_nurse, 0)::numeric, 4),
        inp_other = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.inbed_other, 0)::numeric, 4)
    FROM t_workload_point AS ref
    WHERE main.item_code = ref.fee_item_code
        AND main.status_code = '有效'
        AND (main.item_type_name IS NULL OR main.item_type_name NOT IN ('介入', '造影'))
        AND main.item_class_name <> '手术费'
        AND main.item_class_name <> '挂号费';
         
    GET DIAGNOSTICS updated_rows = ROW_COUNT;         
    RAISE NOTICE '更新了 % 条记录的非特殊项目绩效', updated_rows;   
    
    
    ---3、依据t_workload_point_nurse_sp打补丁，科室内部工作量由护理执行--------------    
    UPDATE t_workload_inp AS main
    SET 
        inp_bill = ROUND(COALESCE(main.amount, 0) * COALESCE(ref."开单点数", 0)::numeric, 4),
        inp_nurse = ROUND(COALESCE(main.amount, 0) * COALESCE(ref."护理点数", 0)::numeric, 4),
        inp_exec=0,
        ward_code="护理单元编码"
    FROM t_workload_point_nurse_sp AS ref
    WHERE main.item_code = ref."项目编码"
    and main.performed_by2=ref."科室代码";
    
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的非特殊项目绩效', updated_rows;
    
    -- 4. 对造影项目绩效进行核算
    UPDATE t_workload_inp
    SET "zyjx" = COALESCE(costs, 0) * 0.06
    WHERE item_type_name = '造影'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的造影项目绩效', updated_rows;
    
    -- 5. 对介入项目绩效进行核算
    UPDATE t_workload_inp
    SET "jrjx" = COALESCE(costs, 0) * 0.06
    WHERE item_type_name = '介入'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的介入项目绩效', updated_rows;
    
    -- 6. 对手术项目绩效进行核算
    UPDATE t_workload_inp
    SET "ssjx" = COALESCE(costs, 0) * 0.1
    WHERE item_class_name = '手术费'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的手术项目绩效', updated_rows;
    
    -- 7. 挂号费奖励
    UPDATE t_workload_inp
    SET "ghfjl" = COALESCE(costs, 0) * 1
    WHERE item_class_name = '挂号费'
        AND status_code = '有效';
     
        
    ---8.非临床 、门诊医生工作量打补丁
    UPDATE t_workload_inp AS main
    SET perform_doctor ='医技'
    WHERE main.order_doctor = main.perform_doctor  and  performed_by<>ordered_by
    and performed_by in (select "HIS科室编码" from t_workload_dep_def2his where "绩效科室类别"='医技') ;
    
    ---9. 依据t_workload_point_exe_sp打补丁，执行工作量归属医技
    UPDATE t_workload_inp  i 
    set performed_by=d.perform_code  from   t_workload_point_exe_sp d
    where i.item_code=d.item_code;
   
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的挂号费奖励', updated_rows;
    
    RETURN success;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 记录详细错误信息
        RAISE NOTICE '计算住院项目绩效失败: %', SQLERRM;
        RAISE LOG '错误详情: %, 发生在: %', SQLERRM, NOW();
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_cac_workload_outp
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_cac_workload_outp"();
CREATE OR REPLACE FUNCTION "public"."hx_cac_workload_outp"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    success BOOLEAN := TRUE;
    updated_rows INTEGER;
    start_time TIMESTAMP := clock_timestamp();
BEGIN
    RAISE NOTICE '开始计算门诊项目绩效...';
    
    -- 1. 设置介入、造影项目类型标志
    UPDATE t_workload_outp AS main
    SET item_type_name = ref."类别"
    FROM t_workload_operation_type AS ref
    WHERE ref."项目编码" = main.item_code;
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤1 - 更新了 % 条记录的项目类型', updated_rows;
    
    -- 2. 对非介入/造影/手术费项目绩效进行核算
    UPDATE t_workload_outp AS main
    SET 
      outp_bill = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.outbed_bill, 0)::numeric, 4),
      outp_exec = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.outbed_exec, 0)::numeric, 4),
      outp_nurse = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.outbed_nurse, 0)::numeric, 4),
      outp_other = ROUND(COALESCE(main.amount, 0) * COALESCE(ref.outbed_other, 0)::numeric, 4)
    FROM t_workload_point AS ref
    WHERE main.item_code = ref.fee_item_code
    AND main.status_code = '有效'
    AND main.item_class_name <> '诊查费'
    AND main.item_class_name <> '挂号费';
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤2 - 更新了 % 条记录的非特殊项目绩效', updated_rows;
    
    -- 3. 依据t_workload_point_nurse_sp打补丁，科室内部工作量由护理执行
    UPDATE t_workload_outp AS main
    SET 
        outp_bill = ROUND(COALESCE(main.amount, 0) * COALESCE(ref."开单点数", 0)::numeric, 4),
        outp_nurse = ROUND(COALESCE(main.amount, 0) * COALESCE(ref."护理点数", 0)::numeric, 4),
        outp_exec = 0,
        ward_code = ref."护理单元编码"
    FROM t_workload_point_nurse_sp AS ref
    WHERE main.item_code = ref."项目编码"
    AND main.performed_by2 = ref."科室代码";
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤3 - 更新了 % 条记录的特殊项目绩效', updated_rows;
    
    
    -- 4. 对造影项目绩效进行核算
    UPDATE t_workload_outp
    SET "zyjx" = COALESCE(costs, 0) * 0.06
    WHERE item_type_name = '造影'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的造影项目绩效', updated_rows;
    
    -- 5. 对介入项目绩效进行核算
    UPDATE t_workload_outp
    SET "jrjx" = COALESCE(costs, 0) * 0.06
    WHERE item_type_name = '介入'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的介入项目绩效', updated_rows;
    
    -- 6. 对手术项目绩效进行核算
    UPDATE t_workload_outp
    SET "ssjx" = COALESCE(costs, 0) * 0.1
    WHERE item_class_name = '手术费'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '更新了 % 条记录的手术项目绩效', updated_rows;
     
    
    -- 7. 诊察费奖励
    UPDATE t_workload_outp
    SET zcfjl = ROUND(COALESCE(costs, 0) * 0.3, 4)
    WHERE item_class_name = '诊查费'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤7 - 更新了 % 条记录的诊查费奖励', updated_rows;
        
    --8. 挂号费奖励
    UPDATE t_workload_outp
    SET ghfjl = ROUND(COALESCE(costs, 0) * 1, 4)
    WHERE item_class_name = '挂号费'
        AND status_code = '有效';

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤8 - 更新了 % 条记录的挂号费奖励', updated_rows;
    
    -- 9. 对自费项目打上标志
    UPDATE t_workload_outp AS main
    SET insur_type = sub.insur_type
    FROM (
        SELECT rcpt_id, MAX(insur_type) AS insur_type
        FROM t_workload_pres_bill_f
        GROUP BY rcpt_id
    ) AS sub
    WHERE sub.rcpt_id = main.rcpt_id;
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤9 - 更新了 % 条记录的保险类型', updated_rows;
    
     -- 10. 非临床、门诊医生工作量打补丁
    UPDATE t_workload_outp AS main
    SET performed_by_doctor = '医技'
    WHERE main.ordered_by_doctor = main.performed_by_doctor  and  performed_by<>ordered_by
    and  performed_by  in (select "HIS科室编码" from t_workload_dep_def2his where "绩效科室类别"='医技');

    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤10 - 清理了 % 条记录的绩效医生', updated_rows;
    
    -- 11. 依据t_workload_point_exe_sp打补丁，执行工作量归属医技
    UPDATE t_workload_outp AS main
    SET performed_by = ref.perform_code
    FROM t_workload_point_exe_sp AS ref
    WHERE main.item_code = ref.item_code;
    
    GET DIAGNOSTICS updated_rows = ROW_COUNT;
    RAISE NOTICE '步骤11- 更新了 % 条记录的执行科室', updated_rows;
    

    
    -- 记录执行时间
    RAISE NOTICE '门诊项目绩效计算完成，总耗时: %', (clock_timestamp() - start_time);
    
    RETURN success;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 记录详细错误信息
        RAISE NOTICE '计算门诊项目绩效失败: %', SQLERRM;
        RAISE NOTICE '错误代码: %, 错误详情: %', SQLSTATE, SQLERRM;
        RAISE LOG '函数 hx_cac_workload_outp 执行失败: %, 时间: %', SQLERRM, NOW();
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_calculate_performance
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_calculate_performance"("stdate" date, "eddate" date);
CREATE OR REPLACE FUNCTION "public"."hx_calculate_performance"("stdate" date, "eddate" date)
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    v_step_id INT;
    v_func_name TEXT;
    v_description TEXT;
    v_start_time TIMESTAMP;
    v_end_time TIMESTAMP;
    v_status BOOLEAN;
    v_error_message TEXT;
    v_stdate DATE;
    v_eddate DATE;
BEGIN
    -- 步骤1: 新建工作量与DRG核算数据表
    v_step_id := 1;
    v_func_name := 'hx_fetch_source_data';
    v_description := '新建工作量与DRG核算数据表';
    v_start_time := clock_timestamp();
    v_stdate:=stdate;
    v_eddate:=eddate;
    
    BEGIN
        SELECT hx_fetch_source_data("stdate", "eddate") INTO v_status;
        v_error_message := NULL;
    EXCEPTION WHEN OTHERS THEN
        v_status := FALSE;
        v_error_message := SQLERRM;
    END;
    
    v_end_time := clock_timestamp();
    INSERT INTO t_workload_log(step_id, stdate,eddate,func_name, description, start_time, end_time, status, error_message)
    VALUES (v_step_id, v_stdate,v_eddate,v_func_name, v_description, v_start_time, v_end_time, v_status, v_error_message);
    
    IF NOT v_status THEN RETURN FALSE; END IF;

    -- 后续步骤定义
    PERFORM hx_execute_step(2, 'hx_cac_workload_inp', '计算住院项目单项分配');
    PERFORM hx_execute_step(3, 'hx_performance_inp_dep', '按月合计科室住院工作量');
    PERFORM hx_execute_step(4, 'hx_performance_inp_doc', '按月合计医生住院工作量');
    PERFORM hx_execute_step(5, 'hx_sur_performance_inp_doc', '按月合计医生3、4级手术奖励');
    PERFORM hx_execute_step(6, 'hx_create_drg_bill', '生成DRG结算单');
    PERFORM hx_execute_step(7, 'hx_create_drg_bill_detail', '生成DRG结算单明细');
    PERFORM hx_execute_step(8, 'hx_performance_inp_dep_self', '按月合计科室住院自费工作量');
    PERFORM hx_execute_step(9, 'hx_performance_inp_doc_self', '按月合计医生住院自费工作量');
    PERFORM hx_execute_step(10, 'hx_sur_performance_inp_doc_self', '自费3、4级手术奖励');
    -----------------------------------------------------------------------------------------
    PERFORM hx_execute_step(11, 'hx_cac_workload_outp', '计算门诊项目单项分配');
    PERFORM hx_execute_step(12, 'hx_performance_outp_dep', '按月合计科室门诊工作量');
    PERFORM hx_execute_step(13, 'hx_performance_outp_doc', '按月合计医生门诊工作量');
    PERFORM hx_execute_step(14, 'hx_performance_outp_dep_self', '按月合计科室门诊自费工作量');
    PERFORM hx_execute_step(15, 'hx_performance_outp_doc_self', '按月合计医生门诊自费工作量');
    --------------------------------------------------------------------------------------------
    PERFORM hx_execute_step(16, 'hx_month_static', '月度统计');

    RETURN TRUE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_create_drg_bill
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_create_drg_bill"();
CREATE OR REPLACE FUNCTION "public"."hx_create_drg_bill"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    start_time TIMESTAMP := clock_timestamp();  -- 记录函数开始时间
    step_name TEXT;                             -- 记录当前步骤名称
    result BOOLEAN;                             -- 存储子函数执行结果
    row_count INTEGER;                          -- 存储受影响的行数
BEGIN
    -- 步骤1: 创建科室费用汇总表
    step_name := '创建科室费用汇总表';
    DROP TABLE IF EXISTS t_workload_drg_sum_fee;
    
    CREATE TABLE t_workload_drg_sum_fee AS 
    SELECT 
        t_workload_inp.visit_id AS 住院标识,
        t_workload_inp.patient_in_dept AS 费用发生科室,
        SUM(t_workload_inp.charges) AS 科室总费用, 
        SUM(t_workload_inp.direct_cost) AS 科室总治疗成本
    FROM t_workload_inp
    WHERE t_workload_inp.status_code = '有效'
    GROUP BY t_workload_inp.visit_id, t_workload_inp.patient_in_dept;
    
    GET DIAGNOSTICS row_count = ROW_COUNT;
    RAISE NOTICE '步骤 "%" 完成，创建 % 条记录', step_name, row_count;
    
    -- 创建索引优化后续查询
    CREATE INDEX idx_drg_sum_fee_visit ON t_workload_drg_sum_fee (住院标识);
    CREATE INDEX idx_drg_sum_fee_dept ON t_workload_drg_sum_fee (费用发生科室);

    -- 步骤2: 创建DRG费用明细汇总表
    step_name := '创建DRG费用明细汇总表';
    DROP TABLE IF EXISTS t_workload_drg_sum_fee_detail;
    
    CREATE TABLE t_workload_drg_sum_fee_detail AS
    SELECT 
        s.住院标识,
        s.费用发生科室,
        b.医保支付价,
        s.科室总费用,
        s.科室总治疗成本,
        b.total_amt AS 总费用,
        b.total_cost AS 总成本
    FROM t_workload_drg_bill b
    INNER JOIN t_workload_drg_sum_fee s
        ON s.住院标识 = b.mdtrt_id;
    
    GET DIAGNOSTICS row_count = ROW_COUNT;
    RAISE NOTICE '步骤 "%" 完成，创建 % 条记录', step_name, row_count;
    
    -- 创建索引优化后续查询
    CREATE INDEX idx_drg_detail_visit ON t_workload_drg_sum_fee_detail (住院标识);

    -- 步骤3: 添加费用类型字段
    step_name := '添加费用类型字段';
    SELECT hx_add_item_class_columns() INTO result;
    
    IF NOT result THEN
        RAISE EXCEPTION '函数 hx_add_item_class_columns 执行失败';
    END IF;
    RAISE NOTICE '步骤 "%" 完成', step_name;

    -- 步骤4: 更新DRG汇总明细
    step_name := '更新DRG汇总明细';
    SELECT hx_update_workload_drg_sum_detail() INTO result;
    
    IF NOT result THEN
        RAISE EXCEPTION '函数 hx_update_workload_drg_sum_detail 执行失败';
    END IF;
    RAISE NOTICE '步骤 "%" 完成', step_name;
    
    -- 记录总执行时间
    RAISE NOTICE '函数执行完成，总耗时: %', (clock_timestamp() - start_time);
    
    RETURN TRUE;

EXCEPTION
    WHEN OTHERS THEN
        -- 记录详细的错误信息
        RAISE NOTICE '步骤 "%" 失败，错误信息: %', step_name, SQLERRM;
        
        -- 回滚中间表创建操作
        DROP TABLE IF EXISTS t_workload_drg_sum_fee;
        DROP TABLE IF EXISTS t_workload_drg_sum_fee_detail;
        
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_create_drg_bill_bak_no_delete
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_create_drg_bill_bak_no_delete"();
CREATE OR REPLACE FUNCTION "public"."hx_create_drg_bill_bak_no_delete"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    row_count INTEGER;  -- 用于存储受影响的行数
BEGIN
   
drop TABLE  if EXISTS  t_workload_drg_sum_fee;
 CREATE TABLE t_workload_drg_sum_fee as 
SELECT  distinct 
  t_workload_inp.visit_id as 住院标识,
  t_workload_inp.patient_in_dept  as 费用发生科室,
  sum(t_workload_inp.charges) as  科室总费用, 
  sum(t_workload_inp.direct_cost) as 科室总治疗成本
  --sum(EXTRACT(EPOCH FROM  t_workload_inp.rcpt_date))  as 转科顺序
FROM
 t_workload_inp
where   t_workload_inp.status_code='有效'
 --and visit_id in (select visit_id   from t_workload_transfer) 
GROUP BY
  t_workload_inp.visit_id,t_workload_inp.patient_in_dept
order by  t_workload_inp.visit_id;

--select count (*) from t_workload_drg_sum_fee;


--2、建立DRG病人费用明细汇总表
drop TABLE  if EXISTS  t_workload_drg_sum_fee_detail;
create table t_workload_drg_sum_fee_detail   as
SELECT distinct 
	t_workload_drg_sum_fee."住院标识",
  t_workload_drg_sum_fee."费用发生科室",
  t_workload_drg_bill."医保支付价",
  t_workload_drg_sum_fee."科室总费用",
  t_workload_drg_sum_fee."科室总治疗成本",
  t_workload_drg_bill.total_amt as 总费用, 
  t_workload_drg_bill.total_cost as 总成本
FROM
  t_workload_drg_bill
  INNER JOIN
  t_workload_drg_sum_fee
  on 
  t_workload_drg_sum_fee."住院标识"=t_workload_drg_bill.mdtrt_id
  order by  t_workload_drg_sum_fee."住院标识";

--3、添加费用类型字段
select hx_add_item_class_columns();
  

--4、明细汇总
select hx_update_workload_drg_sum_detail();
   
RETURN TRUE;

EXCEPTION
    WHEN OTHERS THEN
        -- 记录错误信息（实际生产环境应记录到日志表）
        RAISE NOTICE '操作失败: %', SQLERRM;
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_create_drg_bill_detail
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_create_drg_bill_detail"();
CREATE OR REPLACE FUNCTION "public"."hx_create_drg_bill_detail"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    row_count INTEGER;  -- 用于存储受影响的行数
BEGIN
   
--建立DRG核算明细表
-- 按DRG第二位查,分为外科部分、非手术室操作部分（接受特殊检查，如导管、内窥镜检查等）和内科部分
  --drop VIEW  if EXISTS v_workload_dep_drg_detail;
 -- drop TABLE  if EXISTS  t_workload_drg_bill_detail;
  TRUNCATE TABLE t_workload_drg_bill_detail;
  INSERT INTO  t_workload_drg_bill_detail 
  --CREATE TABLE  t_workload_drg_bill_detail as   
  SELECT  distinct
  0 as 序号, 
	t_workload_drg_bill.mdtrt_id , 
  t_workload_drg_bill.bill_dt as 结算日期 ,
  TO_CHAR(t_workload_drg_bill.bill_dt, 'YYYY-MM') as 年月,
  t_workload_drg_bill."参保类型",
  t_workload_drg_bill.poolarea  as 参保地 ,
  t_workload_drg_bill.if_tran as 转科,
	t_workload_drg_bill.psn_name as 姓名, 
	t_workload_drg_bill.drgs_code as DRG编码, 
	t_workload_drg_bill.drgs_name as DRG名称,
  t_workload_drg_sum_fee_detail."总费用"::numeric(10,2), 
	t_workload_drg_sum_fee_detail."总成本"::numeric(10,2),
  t_workload_drg_sum_fee_detail."医保支付价"::numeric(10,2),
  TRUNC(t_workload_drg_sum_fee_detail."医保支付价"::numeric(10,2)-t_workload_drg_sum_fee_detail."总成本"::numeric(10,2),2)  as 盈亏,
  TRUNC(t_workload_drg_sum_fee_detail."总费用"::numeric(10,2)/t_workload_drg_sum_fee_detail."医保支付价"::numeric(10,2),2)  as 总费用支付价比 ,
  TRUNC(t_workload_drg_sum_fee_detail."总费用"::numeric(10,2)-t_workload_drg_sum_fee_detail."总成本"::numeric(10,2),2)  as 绩效基数 ,
  CASE 
        WHEN substring(t_workload_drg_bill.drgs_code from 2 for 1)  in ('A','B','C','D','E','F','G','H','I','J')  
        THEN '外科手术' 
        when 
        substring(t_workload_drg_bill.drgs_code from 2 for 1)in ('K','L','M','N','O','P','Q') 
        THEN '介入类操作 '
        when substring(t_workload_drg_bill.drgs_code from 2 for 1) in ('R','S','T','U','V','W','X','Y','Z') 
        then  '内科治疗'
   END AS 治疗方式,
  --t_workload_transfer.node as 转科节点,
  --t_workload_transfer.out_area  as 转出科室,
  --t_workload_transfer.in_area  as 转入科室,
  --t_workload_transfer.create_date as 转科时间,
  --t_workload_transfer.numer as 转科顺序 
	t_workload_drg_bill.dept_code as 科室代码, 
	t_workload_drg_bill.dept_name as 科室名称,
  t_workload_drg_bill.drug_amt as 药品总费用,
  t_workload_drg_bill.diag_amt as  服务项目总费用, 
	t_workload_drg_bill.med_sup_amt as  耗材总费用, 
  t_workload_drg_bill."基准点数",
  t_workload_drg_bill."点值",
  t_workload_drg_bill."差异系数",
  t_workload_drg_sum_fee_detail.费用发生科室,
  null as 费用科室名称,
  t_workload_drg_sum_fee_detail."科室总费用",
  ROUND(t_workload_drg_sum_fee_detail."科室总费用"::numeric(10,2)/ t_workload_drg_sum_fee_detail."总费用"*100::numeric(10,2) ,2) as 费用占比 , 
	t_workload_drg_sum_fee_detail."科室总治疗成本",
  case
   when t_workload_drg_sum_fee_detail."科室总费用">0
   THEN  ROUND(t_workload_drg_sum_fee_detail."科室总治疗成本"::numeric(10, 2)/t_workload_drg_sum_fee_detail."科室总费用"::numeric(10, 2),2)
  end as 科室成本费用比,
  --t_workload_transfer_f.numer, 
  t_workload_drg_sum_fee_detail."化验费", 
	t_workload_drg_sum_fee_detail."床位费", 
	t_workload_drg_sum_fee_detail."治疗费", 
	t_workload_drg_sum_fee_detail."西药费", 
	t_workload_drg_sum_fee_detail."材料费", 
	t_workload_drg_sum_fee_detail."肺功能检查", 
	t_workload_drg_sum_fee_detail."放射费", 
	t_workload_drg_sum_fee_detail."手术费", 
	t_workload_drg_sum_fee_detail."诊查费",
  t_workload_drg_sum_fee_detail."CT",
  t_workload_drg_sum_fee_detail."中药费", 
	t_workload_drg_sum_fee_detail."护理费",
  t_workload_drg_sum_fee_detail."输氧费",  
  t_workload_drg_sum_fee_detail."医疗废物",  
	t_workload_drg_sum_fee_detail."脑电图", 
	t_workload_drg_sum_fee_detail."高值耗材", 
	t_workload_drg_sum_fee_detail."康复治疗", 
	t_workload_drg_sum_fee_detail."彩超费", 
	t_workload_drg_sum_fee_detail."核磁共振", 
	t_workload_drg_sum_fee_detail."心电图", 
	t_workload_drg_sum_fee_detail."麻醉费", 
	t_workload_drg_sum_fee_detail."肠镜",
  t_workload_drg_sum_fee_detail."血费",  
	t_workload_drg_sum_fee_detail."病理", 
  t_workload_drg_sum_fee_detail."草药费", 
  t_workload_drg_sum_fee_detail."胃镜", 
	t_workload_drg_sum_fee_detail."病理外检", 
	t_workload_drg_sum_fee_detail."科室检查",
  0, 
  --t_workload_drg_sum_fee_detail."检验外检",
  t_workload_drg_sum_fee_detail."肾透析", 
  t_workload_drg_sum_fee_detail."救护车", 
  --t_workload_drg_sum_fee_detail."体检费", 
  t_workload_drg_sum_fee_detail."其他",
  t_workload_drg_bill.resi_dr_code

FROM
  --t_workload_transfer_f
  --INNER JOIN
  t_workload_drg_bill
  --ON
	--t_workload_transfer_f.visit_id=t_workload_drg_bill.mdtrt_id
	INNER JOIN
	t_workload_drg_sum_fee_detail
	ON 
  	t_workload_drg_bill.mdtrt_id = t_workload_drg_sum_fee_detail.住院标识
   order by  t_workload_drg_bill.mdtrt_id,t_workload_drg_bill.drgs_code;
    
   UPDATE  t_workload_drg_bill_detail
   set "费用科室名称"=t_hosp_dep.dep_name
   from t_hosp_dep
   where 
   t_workload_drg_bill_detail."费用发生科室"=t_hosp_dep.dep_code;--,t_workload_transfer_f.numer
   
  -- CALL hx_update_tran_sequence();
   
   --select * from t_workload_drg_bill_detail  order by  t_workload_drg_bill_detail.mdtrt_id
   update t_workload_drg_bill_detail
   set  序号=0;
   -------------------------------------
   update t_workload_drg_bill_detail
   set  序号=t_workload_transfer.numer
   from t_workload_transfer
   where t_workload_drg_bill_detail.序号=0 
   and t_workload_drg_bill_detail.mdtrt_id=t_workload_transfer.visit_id
   and t_workload_drg_bill_detail."费用科室名称"=t_workload_transfer.out_area
   and t_workload_transfer.numer=1;
   ----------------------------------------------------------------------------
   update t_workload_drg_bill_detail
   set 序号=t_workload_transfer.numer+1
   from t_workload_transfer
   where t_workload_drg_bill_detail.序号=0 
   and t_workload_drg_bill_detail.mdtrt_id=t_workload_transfer.visit_id
   and t_workload_drg_bill_detail."费用科室名称"=t_workload_transfer.in_area
   and t_workload_transfer.numer=1;
   -----------------------------------------------------------------
   update t_workload_drg_bill_detail
   set 序号=t_workload_transfer.numer+1
   from t_workload_transfer
   where t_workload_drg_bill_detail.序号=0 
   and t_workload_drg_bill_detail.mdtrt_id=t_workload_transfer.visit_id
   and t_workload_drg_bill_detail."费用科室名称"=t_workload_transfer.in_area
   and t_workload_transfer.numer=2;
   ------------------------------------------------------------
   update t_workload_drg_bill_detail
   set 序号=t_workload_transfer.numer+1
   from t_workload_transfer
   where t_workload_drg_bill_detail.序号=0 
   and t_workload_drg_bill_detail.mdtrt_id=t_workload_transfer.visit_id
   and t_workload_drg_bill_detail."费用科室名称"=t_workload_transfer.in_area
   and t_workload_transfer.numer=3;
   ------------------------------------------------------------
   update t_workload_drg_bill_detail
   set 序号=t_workload_transfer.numer+1
   from t_workload_transfer
   where t_workload_drg_bill_detail.序号=0 
   and t_workload_drg_bill_detail.mdtrt_id=t_workload_transfer.visit_id
   and t_workload_drg_bill_detail."费用科室名称"=t_workload_transfer.in_area
   and t_workload_transfer.numer=4;
      ------------------------------------------------------------
   update t_workload_drg_bill_detail
   set 序号=t_workload_transfer.numer+1
   from t_workload_transfer
   where t_workload_drg_bill_detail.序号=0 
   and t_workload_drg_bill_detail.mdtrt_id=t_workload_transfer.visit_id
   and t_workload_drg_bill_detail."费用科室名称"=t_workload_transfer.in_area
   and t_workload_transfer.numer=5;
   
   --create view v_workload_dep_drg_detail as  se
   
RETURN TRUE;

EXCEPTION
    WHEN OTHERS THEN
        -- 记录错误信息（实际生产环境应记录到日志表）
        RAISE NOTICE '操作失败: %', SQLERRM;
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_create_tran_exp_tb
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_create_tran_exp_tb"();
CREATE OR REPLACE FUNCTION "public"."hx_create_tran_exp_tb"()
  RETURNS "pg_catalog"."void" AS $BODY$
DECLARE
    col_list TEXT;
    create_sql TEXT;
    col_name TEXT;
BEGIN
    -- 获取所有唯一的费用类型值
    SELECT STRING_AGG(DISTINCT quote_ident(item_class_name), ', ')
    INTO col_list
    FROM t_workload_inp;
    
    -- 如果没有数据则退出
    IF col_list IS NULL THEN
        RAISE NOTICE '没有找到任何费用类型';
        RETURN;
    END IF;
    
    -- 构建创建表的SQL
    create_sql := 'CREATE TABLE t_workload_sum_tran (';
    
    -- 为每个费用类型添加数值列
    FOR col_name IN SELECT DISTINCT item_class_name FROM t_workload_inp
    LOOP
        create_sql := create_sql || quote_ident(col_name) || ' NUMERIC(12,2) DEFAULT 0, ';
    END LOOP;
    
    -- 移除最后一个逗号并完成SQL
    create_sql := RTRIM(create_sql, ', ') || ');';
    
    -- 执行创建表语句
    EXECUTE create_sql;
    
    RAISE NOTICE '新表 expense_summary 已成功创建';
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_execute_step
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_execute_step"("step_id" int4, "func_name" text, "description" text);
CREATE OR REPLACE FUNCTION "public"."hx_execute_step"("step_id" int4, "func_name" text, "description" text)
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    v_start_time TIMESTAMP := clock_timestamp();
    v_status BOOLEAN;
    v_error_message TEXT;
BEGIN
    BEGIN
        EXECUTE 'SELECT ' || func_name || '()' INTO v_status;
        v_error_message := NULL;
    EXCEPTION WHEN OTHERS THEN
        v_status := FALSE;
        v_error_message := SQLERRM;
    END;
    
    INSERT INTO t_workload_log(step_id, func_name, description, start_time, status, error_message)
    VALUES (step_id, func_name, description, v_start_time, v_status, v_error_message);
    
    RETURN v_status;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_fetch_source_data
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_fetch_source_data"("stdate" date, "eddate" date);
CREATE OR REPLACE FUNCTION "public"."hx_fetch_source_data"("stdate" date, "eddate" date)
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    row_count INTEGER;  -- 用于存储受影响的行数
BEGIN
    -- 验证日期范围有效性
    IF stdate > eddate THEN
        RAISE EXCEPTION '开始日期不能晚于结束日期';
    END IF;

 --1、插入住院工作量记录到t_workload_inp --------------------------------------------------------------------------------
TRUNCATE TABLE t_workload_inp;
INSERT INTO  t_workload_inp 
SELECT * FROM t_workload_inp_f  --DRG_INP_BILL_DETAIL映射表
WHERE t_workload_inp_f.rcpt_id
in (select t_workload_inbed_bill_f.rcpt_id from t_workload_inbed_bill_f -----------------v_data_inbedbill映射表
where  t_workload_inbed_bill_f.bill_dt>= stdate and  t_workload_inbed_bill_f.bill_dt< eddate);

---

UPDATE t_workload_inp
SET 
    yyyy_mm = TO_CHAR(rcpt_date, 'YYYY-MM'),
    performed_by2 = performed_by,
    perform_doctor2=perform_doctor;
 
--2、插入门诊工作量记录到t_workload_outp --------------------------------------------------------------------------------
TRUNCATE TABLE t_workload_outp;
INSERT INTO  t_workload_outp 
SELECT * FROM t_workload_outp_f 

--//(WHERE t_workload_outp_f.rcpt_id
--in (select t_workload_pres_bill_f.rcpt_id from t_workload_pres_bill_f 
--where  t_workload_pres_bill_f.bill_dt>= stdate and  t_workload_pres_bill_f.bill_dt< eddate))//;

where t_workload_outp_f.visit_date >= stdate  AND t_workload_outp_f.visit_date < eddate;

update  t_workload_outp
set 
    yyyy_mm=TO_CHAR(visit_date, 'YYYY-MM'),
    performed_by2=performed_by,
    performed_by_doctor2=performed_by_doctor;
--3、住院结算单记录------------------------------------------------------------------------------------------
TRUNCATE TABLE t_workload_inbed_bill;
INSERT INTO  t_workload_inbed_bill 
--drop TABLE  if EXISTS  t_workload_inbed_bill;
--CREATE TABLE t_workload_inbed_bill as 
SELECT * FROM t_workload_inbed_bill_f 
where t_workload_inbed_bill_f.bill_dt >=stdate and t_workload_inbed_bill_f.bill_dt <eddate;
--alter table  t_workload_inbed_bill
--add  yyyy_mm varchar(20);

update t_workload_inbed_bill
set yyyy_mm=TO_CHAR(t_workload_inbed_bill.bill_dt, 'YYYY-MM');

--4、新建DRG结算表------------------------------------------------------------------------------------
 --drop TABLE  if EXISTS  t_workload_drg_bill;
 --CREATE TABLE t_workload_drg_bill as 
 TRUNCATE TABLE t_workload_drg_bill;
 INSERT INTO  t_workload_drg_bill 
 SELECT  distinct 
	t_workload_inbed_bill_f.mdtrt_id,
  t_workload_drgs_f.psn_name, 
	t_workload_drgs_f.gender_name, 
	t_workload_drgs_f.age,
	t_workload_drgs_f.inbed_code, 
	t_workload_drgs_f.inbed_days, 
	t_workload_drgs_f.drgs_code, 
	t_workload_drgs_f.drgs_name, 
	t_workload_drgs_f.cv_st, 
	t_workload_drgs_f.case_points, 
	t_workload_drgs_f.total_points, 
	t_workload_drgs_f.benchmark_points,
  t_workload_drgs_f."基准点数",
  t_workload_drgs_f."点值",
  t_workload_drgs_f."差异系数",
  t_workload_drgs_f."基准点数"::REAL*t_workload_drgs_f."点值"::REAL*t_workload_drgs_f."差异系数"::REAL as 医保支付价,
  t_workload_inbed_bill_f.total_amt, 
	t_workload_inbed_bill_f.drug_amt, 
	t_workload_inbed_bill_f.diag_amt, 
	t_workload_inbed_bill_f.med_sup_amt, 
	t_workload_inbed_reg_f.dept_code,
   CASE 
        WHEN t_workload_inbed_reg_f.insutype='310' 
        THEN '职工' 
        when 
        t_workload_inbed_reg_f.insutype='390'
        THEN '居民'
        when t_workload_inbed_reg_f.insutype='340'
        then  '离休'
   END AS 参保类型, 
	t_workload_inbed_reg_f.dept_name, 
	t_workload_inbed_reg_f.resi_dr_code, 
	t_workload_inbed_reg_f.resi_dr_name, 
	t_workload_inbed_reg_f.atten_dr_code, 
	t_workload_inbed_reg_f.atten_dr_name, 
	t_workload_inbed_reg_f.wardarea_code, 
	t_workload_inbed_reg_f.wardarea_name,
  t_workload_inbed_reg_f.insutype, 
  t_workload_inbed_reg_f.poolarea, 
	t_workload_drgs_f.key_drug_points, 
	t_workload_drgs_f.dialed_points, 
	t_workload_drgs_f.disbursement_points, 
	t_workload_drgs_f.point_fee, 
	t_workload_drgs_f.additional_fee, 
	t_workload_drgs_f.additional_points, 
	t_workload_drgs_f.re_drgs_fee, 
	t_workload_drgs_f.case_type,
  t_workload_drgs_f.doctor_code,
  t_workload_inbed_bill_f.bill_dt,
  TO_CHAR(t_workload_inbed_bill_f.bill_dt, 'YYYY-MM') as yyyy_mm,
  0,
  0,
  0,
  0,
  null
FROM
	t_workload_inbed_reg_f
	INNER JOIN
	t_workload_inbed_bill_f
	ON 
		t_workload_inbed_reg_f.mdtrt_id = t_workload_inbed_bill_f.mdtrt_id
	INNER JOIN
	t_workload_drgs_f
	ON 
		t_workload_inbed_reg_f.mdtrt_id = t_workload_drgs_f.inbed_code
WHERE
	------------t_workload_inbed_bill_f.bill_dt >=:sd AND
	------------t_workload_inbed_bill_f.bill_dt <:ed;
  t_workload_inbed_bill_f.bill_dt >= stdate 
  AND
	t_workload_inbed_bill_f.bill_dt < eddate
  and  t_workload_inbed_reg_f.is_rcmc<>'自费' ;
  
        --alter table  t_workload_drg_bill
        --add  st_fee numeric(10,2);
        --alter table  t_workload_drg_bill
        --add  total_cost numeric(10,2); 
        --alter table  t_workload_drg_bill
        --add  direct_profit numeric(10,2); 
        --alter table  t_workload_drg_bill
        --add  total_fee numeric(10,2);
        --alter table  t_workload_drg_bill
        --add  if_tran  varchar(6); 

--5、更新项目成本
UPDATE  t_workload_inp
set  direct_cost=t_hosp_fee_type.final_cost_rate*t_workload_inp."charges"/100
from t_hosp_fee_type
where t_hosp_fee_type.hosp_fee_type_name=t_workload_inp.item_class_name;  
  
--6、更新病例成本  
UPDATE t_workload_drg_bill
SET total_cost = sub.sum_cost
FROM (
    SELECT visit_id, SUM(direct_cost) AS sum_cost 
    FROM t_workload_inp  where  t_workload_inp.status_code='有效'
    GROUP BY visit_id
) AS sub
WHERE t_workload_drg_bill.mdtrt_id = sub.visit_id;


--7、更新病例总费用
UPDATE t_workload_drg_bill
SET total_fee = sub.sum_fee
FROM (
    SELECT visit_id, SUM(charges) AS sum_fee 
    FROM t_workload_inp  where  t_workload_inp.status_code='有效'
    GROUP BY visit_id
) AS sub
WHERE t_workload_drg_bill.mdtrt_id = sub.visit_id;

--8、更新转科标志

UPDATE t_workload_drg_bill
set if_tran='转科'  where t_workload_drg_bill.mdtrt_id in (select visit_id  from t_workload_transfer_f );


--9.设置--基准点数" "点值" "差异系数"  医保支付价,
UPDATE t_workload_drg_bill
set 
 "基准点数"= sub."基准点数",
 "点值"=sub."点值",
 "差异系数"=sub."差异系数",
  医保支付价=sub."基准点数"::REAL*sub."点值"::REAL*sub."差异系数"::REAL
 from
  (  select distinct 
    --"参保类型",
     "DRG编码",
    "基准点数",
    "点值",
    "差异系数"
   from  "public"."t_workload_drg_point"
) AS sub
WHERE t_workload_drg_bill.drgs_code = sub."DRG编码" ;--and t_workload_drg_bill."参保类型"=sub."参保类型"
    
    -- 获取受影响行数（可选）
    GET DIAGNOSTICS row_count = ROW_COUNT;
    
    -- 返回操作成功状态
    RETURN TRUE;

EXCEPTION
    WHEN OTHERS THEN
        -- 记录错误信息（实际生产环境应记录到日志表）
        RAISE NOTICE '操作失败: %', SQLERRM;
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_get_doc_perform_detail
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_get_doc_perform_detail"();
CREATE OR REPLACE FUNCTION "public"."hx_get_doc_perform_detail"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    v_record_count INTEGER;
    v_updated_count INTEGER;
BEGIN
    -- 清空表（如果之前有数据）
    TRUNCATE TABLE t_workload_doc_perform_detail;

    -- 插入数据到表中
    INSERT INTO t_workload_doc_perform_detail (
        yyyy_mm, doctor_id, doctor_name, department_code,
        inp_zcfjl, inp_ghfjl, inp_zyjx, inp_jrjx, inp_ssjx, inp_bill, inp_zxjx,
        outp_zcfjl, outp_ghfjl, outp_zyjx, outp_jrjx, outp_ssjx, outp_bill, outp_zxjx,
        surgery_award_3, surgery_award_4, total_surgery_award, inp_nurse, outp_nurse
    )
    WITH all_doctors AS (
        SELECT 
            d.yyyy_mm, 
            h."doc_code" AS doctor_id, 
            h."姓名" AS doctor_name
        FROM (SELECT DISTINCT yyyy_mm FROM t_workload_inp) d
        CROSS JOIN (SELECT DISTINCT "doc_code", "姓名" FROM v_workload_psn_list) h
    ), all_departments AS (
        SELECT DISTINCT depts.department_code
        FROM (
            SELECT ordered_by AS department_code FROM t_workload_inp WHERE ordered_by IS NOT NULL
            UNION
            SELECT performed_by AS department_code FROM t_workload_inp WHERE performed_by IS NOT NULL
            UNION
            SELECT ordered_by AS department_code FROM t_workload_outp WHERE ordered_by IS NOT NULL
            UNION
            SELECT performed_by AS department_code FROM t_workload_outp WHERE performed_by IS NOT NULL
            UNION
            SELECT dept_code AS department_code FROM v_workload_dep_sur_award WHERE dept_code IS NOT NULL
            UNION
            SELECT department AS department_code FROM v_workload_inp_list WHERE department IS NOT NULL
            UNION
            SELECT department AS department_code FROM v_workload_outp_list WHERE department IS NOT NULL
        ) depts
    ), inp_workload_agg AS (
        SELECT 
            yyyy_mm,
            doctor,
            department,
            SUM(COALESCE(total_zcfjl, 0)) AS total_zcfjl,
            SUM(COALESCE(total_ghfjl, 0)) AS total_ghfjl,
            SUM(COALESCE(total_zyjx, 0)) AS total_zyjx,
            SUM(COALESCE(total_jrjx, 0)) AS total_jrjx,
            SUM(COALESCE(total_ssjx, 0)) AS total_ssjx,
            SUM(COALESCE(total_inp_bill, 0)) AS total_inp_bill,
            SUM(COALESCE(total_zxjx, 0)) AS total_zxjx,
            SUM(COALESCE(total_inp_nurse, 0)) AS total_inp_nurse
        FROM v_workload_inp_list
        WHERE doctor IS NOT NULL AND department IS NOT NULL
        GROUP BY yyyy_mm, doctor, department
    ), outp_workload_agg AS (
        SELECT 
            yyyy_mm,
            doctor,
            department,
            SUM(COALESCE(total_zcfjl, 0)) AS total_zcfjl,
            SUM(COALESCE(total_ghfjl, 0)) AS total_ghfjl,
            SUM(COALESCE(total_zyjx, 0)) AS total_zyjx,
            SUM(COALESCE(total_jrjx, 0)) AS total_jrjx,
            SUM(COALESCE(total_ssjx, 0)) AS total_ssjx,
            SUM(COALESCE(total_outp_bill, 0)) AS total_outp_bill,
            SUM(COALESCE(total_zxjx, 0)) AS total_zxjx,
            SUM(COALESCE(total_outp_nurse, 0)) AS total_outp_nurse
        FROM v_workload_outp_list
        WHERE  doctor IS NOT NULL AND department IS NOT NULL
        GROUP BY yyyy_mm, doctor, department
    ), surgery_award_agg AS (
        SELECT 
            yyyy_mm,
            doctor_code,
            dept_code AS department_code,
            SUM(COALESCE(total_ssjl3, 0)) AS total_ssjl3,
            SUM(COALESCE(total_ssjl4, 0)) AS total_ssjl4
        FROM v_workload_dep_sur_award
        WHERE doctor_code IS NOT NULL AND dept_code IS NOT NULL
        GROUP BY yyyy_mm, doctor_code, dept_code
    ), base_result AS (
        SELECT 
            d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            dep.department_code,
            COALESCE(i.total_zcfjl, 0) AS inp_zcfjl,
            COALESCE(i.total_ghfjl, 0) AS inp_ghfjl,
            COALESCE(i.total_zyjx, 0) AS inp_zyjx,
            COALESCE(i.total_jrjx, 0) AS inp_jrjx,
            COALESCE(i.total_ssjx, 0) AS inp_ssjx,
            COALESCE(i.total_inp_bill, 0) AS inp_bill,
            COALESCE(i.total_zxjx, 0) AS inp_zxjx,
            COALESCE(i.total_inp_nurse, 0) AS inp_nurse,
            COALESCE(o.total_zcfjl, 0) AS outp_zcfjl,
            COALESCE(o.total_ghfjl, 0) AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0) AS outp_bill,
            COALESCE(o.total_zxjx, 0) AS outp_zxjx,
            COALESCE(o.total_outp_nurse, 0) AS outp_nurse,
            COALESCE(s.total_ssjl3, 0) AS surgery_award_3,
            COALESCE(s.total_ssjl4, 0) AS surgery_award_4,
            COALESCE(s.total_ssjl3, 0) + COALESCE(s.total_ssjl4, 0) AS total_surgery_award
        FROM all_doctors d
        CROSS JOIN all_departments dep
        LEFT JOIN inp_workload_agg i ON d.yyyy_mm::text = i.yyyy_mm::text 
            AND d.doctor_id::text = i.doctor::text 
            AND dep.department_code::text = i.department::text
        LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text 
            AND d.doctor_id::text = o.doctor::text 
            AND dep.department_code::text = o.department::text
        LEFT JOIN surgery_award_agg s ON d.yyyy_mm::text = s.yyyy_mm::text 
            AND d.doctor_id::text = s.doctor_code::text 
            AND dep.department_code::text = s.department_code::text
    )
    SELECT 
        yyyy_mm,
        doctor_id,
        doctor_name,
        department_code,
        inp_zcfjl,
        inp_ghfjl,
        inp_zyjx,
        inp_jrjx,
        inp_ssjx,
        inp_bill,
        inp_zxjx,
        outp_zcfjl,
        outp_ghfjl,
        outp_zyjx,
        outp_jrjx,
        outp_ssjx,
        outp_bill,
        outp_zxjx,
        surgery_award_3,
        surgery_award_4,
        total_surgery_award,
        inp_nurse,
        outp_nurse
    FROM base_result
    WHERE (inp_zcfjl + inp_ghfjl + inp_zyjx + inp_jrjx + inp_ssjx + inp_bill + inp_zxjx + inp_nurse +
           outp_zcfjl + outp_ghfjl + outp_zyjx + outp_jrjx + outp_ssjx + outp_bill + outp_zxjx + outp_nurse +
           surgery_award_3 + surgery_award_4) > 0;

    -- 更新dep_id字段
    UPDATE t_workload_doc_perform_detail t
    SET dep_id = d."绩效科室ID"
    FROM t_workload_dep_def2his d
    WHERE t.department_code = d."HIS科室编码";
    
    -- 获取更新记录数
    GET DIAGNOSTICS v_updated_count = ROW_COUNT;

    -- 验证数据插入
    SELECT COUNT(*) INTO v_record_count FROM t_workload_doc_perform_detail;
    
    -- 记录日志
    RAISE NOTICE '表 t_workload_doc_perform_detail 创建成功，共插入 % 条记录', v_record_count;
    RAISE NOTICE 'dep_id字段更新完成，共更新 % 条记录的dep_id字段', v_updated_count;
    RAISE NOTICE '有 % 条记录的dep_id为NULL（未在t_workload_dep_def2his中找到匹配）', 
        (SELECT COUNT(*) FROM t_workload_doc_perform_detail WHERE dep_id IS NULL);
    
    RETURN TRUE;

EXCEPTION
    WHEN OTHERS THEN
        -- 记录错误信息
        RAISE WARNING '函数执行失败: %', SQLERRM;
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_get_doc_perform_detail_a
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_get_doc_perform_detail_a"();
CREATE OR REPLACE FUNCTION "public"."hx_get_doc_perform_detail_a"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    v_table_exists BOOLEAN;
    v_record_count INTEGER;
    v_updated_count INTEGER;
BEGIN
     -- 插入数据到表中（先插入数据，dep_id暂时为NULL）
     
    INSERT INTO t_workload_doc_perform_detail (
        yyyy_mm, doctor_id, doctor_name, department_code,
        inp_zcfjl, inp_ghfjl, inp_zyjx, inp_jrjx, inp_ssjx, inp_bill, inp_zxjx,
        outp_zcfjl, outp_ghfjl, outp_zyjx, outp_jrjx, outp_ssjx, outp_bill, outp_zxjx,
        surgery_award_3, surgery_award_4, total_surgery_award
    )
    WITH all_doctors AS (
        SELECT 
            d.yyyy_mm, 
            h."doc_code" AS doctor_id, 
            h."姓名" AS doctor_name
        FROM (SELECT DISTINCT yyyy_mm FROM t_workload_inp) d
        CROSS JOIN (SELECT DISTINCT "doc_code", "姓名" FROM v_workload_psn_list) h
    ), all_departments AS (
        SELECT DISTINCT depts.department_code
        FROM (
            SELECT ordered_by AS department_code FROM t_workload_inp WHERE ordered_by IS NOT NULL
            UNION
            SELECT performed_by AS department_code FROM t_workload_inp WHERE performed_by IS NOT NULL
            UNION
            SELECT ordered_by AS department_code FROM t_workload_outp WHERE ordered_by IS NOT NULL
            UNION
            SELECT performed_by AS department_code FROM t_workload_outp WHERE performed_by IS NOT NULL
            UNION
            SELECT dept_code AS department_code FROM v_workload_doc_sur_award WHERE dept_code IS NOT NULL
            UNION
            SELECT department AS department_code FROM v_workload_inp_list WHERE department IS NOT NULL
            UNION
            SELECT department AS department_code FROM v_workload_outp_list WHERE department IS NOT NULL
        ) depts
    ), inp_workload_agg AS (
        SELECT 
            yyyy_mm,
            doctor,
            department,
            SUM(COALESCE(total_zcfjl, 0)) AS total_zcfjl,
            SUM(COALESCE(total_ghfjl, 0)) AS total_ghfjl,
            SUM(COALESCE(total_zyjx, 0)) AS total_zyjx,
            SUM(COALESCE(total_jrjx, 0)) AS total_jrjx,
            SUM(COALESCE(total_ssjx, 0)) AS total_ssjx,
            SUM(COALESCE(total_inp_bill, 0)) AS total_inp_bill,
            SUM(COALESCE(total_zxjx, 0)) AS total_zxjx
        FROM v_workload_inp_list
        WHERE wk_type = '临床医技' AND doctor IS NOT NULL AND department IS NOT NULL
        GROUP BY yyyy_mm, doctor, department
    ), outp_workload_agg AS (
        SELECT 
            yyyy_mm,
            doctor,
            department,
            SUM(COALESCE(total_zcfjl, 0)) AS total_zcfjl,
            SUM(COALESCE(total_ghfjl, 0)) AS total_ghfjl,
            SUM(COALESCE(total_zyjx, 0)) AS total_zyjx,
            SUM(COALESCE(total_jrjx, 0)) AS total_jrjx,
            SUM(COALESCE(total_ssjx, 0)) AS total_ssjx,
            SUM(COALESCE(total_outp_bill, 0)) AS total_outp_bill,
            SUM(COALESCE(total_zxjx, 0)) AS total_zxjx
        FROM v_workload_outp_list
        WHERE wk_type = '临床医技' AND doctor IS NOT NULL AND department IS NOT NULL
        GROUP BY yyyy_mm, doctor, department
    ), surgery_award_agg AS (
        SELECT 
            yyyy_mm,
            doctor_code,
            dept_code AS department_code,
            SUM(COALESCE(total_ssjl3, 0)) AS total_ssjl3,
            SUM(COALESCE(total_ssjl4, 0)) AS total_ssjl4
        FROM v_workload_doc_sur_award
        WHERE doctor_code IS NOT NULL AND dept_code IS NOT NULL
        GROUP BY yyyy_mm, doctor_code, dept_code
    ), base_result AS (
        SELECT 
            d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            dep.department_code,
            COALESCE(i.total_zcfjl, 0) AS inp_zcfjl,
            COALESCE(i.total_ghfjl, 0) AS inp_ghfjl,
            COALESCE(i.total_zyjx, 0) AS inp_zyjx,
            COALESCE(i.total_jrjx, 0) AS inp_jrjx,
            COALESCE(i.total_ssjx, 0) AS inp_ssjx,
            COALESCE(i.total_inp_bill, 0) AS inp_bill,
            COALESCE(i.total_zxjx, 0) AS inp_zxjx,
            COALESCE(o.total_zcfjl, 0) AS outp_zcfjl,
            COALESCE(o.total_ghfjl, 0) AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0) AS outp_bill,
            COALESCE(o.total_zxjx, 0) AS outp_zxjx,
            COALESCE(s.total_ssjl3, 0) AS surgery_award_3,
            COALESCE(s.total_ssjl4, 0) AS surgery_award_4,
            COALESCE(s.total_ssjl3, 0) + COALESCE(s.total_ssjl4, 0) AS total_surgery_award
        FROM all_doctors d
        CROSS JOIN all_departments dep
        LEFT JOIN inp_workload_agg i ON d.yyyy_mm::text = i.yyyy_mm::text 
            AND d.doctor_id::text = i.doctor::text 
            AND dep.department_code::text = i.department::text
        LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text 
            AND d.doctor_id::text = o.doctor::text 
            AND dep.department_code::text = o.department::text
        LEFT JOIN surgery_award_agg s ON d.yyyy_mm::text = s.yyyy_mm::text 
            AND d.doctor_id::text = s.doctor_code::text 
            AND dep.department_code::text = s.department_code::text
    )
    SELECT 
        yyyy_mm,
        doctor_id,
        doctor_name,
        department_code,
        inp_zcfjl,
        inp_ghfjl,
        inp_zyjx,
        inp_jrjx,
        inp_ssjx,
        inp_bill,
        inp_zxjx,
        outp_zcfjl,
        outp_ghfjl,
        outp_zyjx,
        outp_jrjx,
        outp_ssjx,
        outp_bill,
        outp_zxjx,
        surgery_award_3,
        surgery_award_4,
        total_surgery_award
    FROM base_result
    WHERE (inp_zcfjl + inp_ghfjl + inp_zyjx + inp_jrjx + inp_ssjx + inp_bill + inp_zxjx + 
           outp_zcfjl + outp_ghfjl + outp_zyjx + outp_jrjx + outp_ssjx + outp_bill + outp_zxjx + 
           surgery_award_3 + surgery_award_4) > 0;

    -- 更新dep_id字段
    UPDATE t_workload_doc_perform_detail t
    SET dep_id = d."绩效科室ID"
    FROM t_workload_dep_def2his d
    WHERE t.department_code = d."HIS科室编码";
    
    -- 获取更新记录数
    GET DIAGNOSTICS v_updated_count = ROW_COUNT;


    -- 验证数据插入
    SELECT COUNT(*) INTO v_record_count FROM t_workload_doc_perform_detail;
    
    -- 记录日志
    RAISE NOTICE '表 t_workload_doc_perform_detail 创建成功，共插入 % 条记录', v_record_count;
    RAISE NOTICE 'dep_id字段更新完成，共更新 % 条记录的dep_id字段', v_updated_count;
    RAISE NOTICE '有 % 条记录的dep_id为NULL（未在t_workload_dep_def2his中找到匹配）', 
        (SELECT COUNT(*) FROM t_workload_doc_perform_detail WHERE dep_id IS NULL);
    
    RETURN TRUE;

EXCEPTION
    WHEN OTHERS THEN
        -- 记录错误信息
        RAISE WARNING '函数执行失败: %', SQLERRM;
        
        -- 如果表已创建但插入失败，尝试删除表
        BEGIN
            --DROP TABLE IF EXISTS t_workload_doc_perform_detail;
        EXCEPTION
            WHEN OTHERS THEN
                NULL; -- 忽略删除表的错误
        END;
        
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_inp_set_item_typename
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_inp_set_item_typename"();
CREATE OR REPLACE FUNCTION "public"."hx_inp_set_item_typename"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    update_count INTEGER;
    success BOOLEAN := TRUE;
BEGIN
    --住院
    -- 设置项目收费类型
    UPDATE t_workload_inp
      SET item_type_name = t_hosp_fee_item_type.fee_item_type_name
    FROM t_hosp_diag, t_hosp_fee_item_type
    WHERE t_workload_inp."item_code" = t_hosp_diag.hosp_diag_code
    AND t_hosp_diag.fee_item_type_id = t_hosp_fee_item_type.fee_item_type_id;
    -- 设置介入与造影项目类型
      UPDATE t_workload_inp
      SET item_type_name =t_workload_operation_type."类别"
    FROM 
      t_workload_operation_type
    WHERE 
		  t_workload_inp."item_code" = t_workload_operation_type."项目编码";
        
    
    -- 获取影响的行数
    GET DIAGNOSTICS update_count = ROW_COUNT;
    
    -- 基础手术工作量绩效
 
    
    RETURN success;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_inp_set_item_typename_no_delete
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_inp_set_item_typename_no_delete"();
CREATE OR REPLACE FUNCTION "public"."hx_inp_set_item_typename_no_delete"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    update_count INTEGER;
    success BOOLEAN := TRUE;
BEGIN
    --住院
    -- 设置项目收费类型
    UPDATE t_workload_inp
      SET item_type_name = t_hosp_fee_item_type.fee_item_type_name
    FROM t_hosp_diag, t_hosp_fee_item_type
    WHERE t_workload_inp."item_code" = t_hosp_diag.hosp_diag_code
    AND t_hosp_diag.fee_item_type_id = t_hosp_fee_item_type.fee_item_type_id;
    -- 设置介入与造影项目类型
    UPDATE t_workload_inp
      SET item_type_name ='介入'
    FROM 
      t_hosp_diag,
      t_hosp_diag_type
    WHERE 
		  t_workload_inp."item_code" = t_hosp_diag.hosp_diag_code
    AND   
		  t_hosp_diag.diag_type_id = t_hosp_diag_type.diag_type_id
    AND 
      t_hosp_diag_type."diag_type_name"='介入';
  
    UPDATE t_workload_inp
      SET item_type_name ='造影'
    FROM 
      t_hosp_diag,
      t_hosp_diag_type
    WHERE 
		  t_workload_inp."item_code" = t_hosp_diag.hosp_diag_code
    AND   
		  t_hosp_diag.diag_type_id = t_hosp_diag_type.diag_type_id
    AND 
      t_hosp_diag_type."diag_type_name"='造影';
        
    
    -- 获取影响的行数
    GET DIAGNOSTICS update_count = ROW_COUNT;
    
    -- 基础手术工作量绩效
 
    
    RETURN success;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_log_modification
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_log_modification"("p_operator_id" text, "p_table_name" text, "p_record_id" int4, "p_column_name" text, "p_old_value" text, "p_new_value" text);
CREATE OR REPLACE FUNCTION "public"."hx_log_modification"("p_operator_id" text, "p_table_name" text, "p_record_id" int4, "p_column_name" text, "p_old_value" text, "p_new_value" text)
  RETURNS "pg_catalog"."void" AS $BODY$
BEGIN
    INSERT INTO t_workload_modification_log (
        operator_id, 
        table_name, 
        record_id, 
        column_name, 
        old_value,  -- 正确字段名--
        new_value   -- 正确字段名--
    ) VALUES (
        p_operator_id,
        p_table_name,
        p_record_id,
        p_column_name,
        p_old_value,
        p_new_value
    );
END;
$BODY$
  LANGUAGE plpgsql VOLATILE SECURITY DEFINER
  COST 100;

-- ----------------------------
-- Function structure for hx_month_static
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_month_static"();
CREATE OR REPLACE FUNCTION "public"."hx_month_static"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN

DELETE FROM t_workload_overal 
WHERE "年月" IN (SELECT DISTINCT yyyy_mm FROM t_workload_inp);

-- 插入新的年月记录
INSERT INTO t_workload_overal ("年月") 
SELECT DISTINCT yyyy_mm FROM t_workload_inp;

-- 更新指标数据
WITH zf_mdtrt AS (
    SELECT DISTINCT mdtrt_id 
    FROM t_workload_inbed_reg_f 
    WHERE is_rcmc = '自费'
),
yb_mdtrt AS (
    SELECT DISTINCT mdtrt_id 
    FROM t_workload_inbed_reg_f 
    WHERE is_rcmc <> '自费'
),
inp_data AS (
    SELECT
        i.yyyy_mm,
        SUM(i.costs) AS total_cost,
        COUNT(DISTINCT i.visit_id) AS total_visits,
        SUM(i.costs) FILTER (WHERE y.mdtrt_id IS NOT NULL) AS yb_cost,
        COUNT(DISTINCT i.visit_id) FILTER (WHERE y.mdtrt_id IS NOT NULL) AS yb_visits,
        SUM(i.costs) FILTER (WHERE z.mdtrt_id IS NOT NULL) AS zf_cost,
        COUNT(DISTINCT i.visit_id) FILTER (WHERE z.mdtrt_id IS NOT NULL) AS zf_visits,
        SUM(i.costs) FILTER (WHERE i.item_class_name IN ('草药费','西药费','中药费')) AS yp_inp_cost,
        SUM(i.costs) FILTER (WHERE i.item_class_name = '血费') AS blood_inp_cost,
        SUM(i.costs) FILTER (WHERE i.item_class_name IN ('材料费','高值耗材')) AS cl_inp_cost,
        SUM(i.direct_cost) AS direct_cost_inp
    FROM t_workload_inp i
    LEFT JOIN zf_mdtrt z ON i.visit_id = z.mdtrt_id
    LEFT JOIN yb_mdtrt y ON i.visit_id = y.mdtrt_id
    WHERE i.status_code = '有效'
    GROUP BY i.yyyy_mm
),
outp_data AS (
    SELECT
        yyyy_mm,
        SUM(costs) AS total_cost,
        COUNT(DISTINCT visit_no) AS total_visits,
        SUM(costs) FILTER (WHERE item_class_name IN ('草药费','西药费','中药费')) AS yp_outp_cost,
        SUM(costs) FILTER (WHERE item_class_name IN('血费')) AS blood_outp_cost,
        SUM(costs) FILTER (WHERE item_class_name IN ('材料费','高值耗材')) AS cl_outp_cost,
        SUM(direct_cost) AS direct_cost_outp
    FROM t_workload_outp
    WHERE status_code = '有效'
    GROUP BY yyyy_mm
),
drg_data AS (
    SELECT
        yyyy_mm,
        SUM(total_cost) AS total_cost,
        SUM(total_fee) AS total_fee,
        COUNT(*) AS person_count
    FROM t_workload_drg_bill
    GROUP BY yyyy_mm
)
UPDATE t_workload_overal tw
SET 
    "出院结算金额" = COALESCE(i.total_cost, 0),
    "出院结算人数" = COALESCE(i.total_visits, 0),
    "门诊结算金额" = COALESCE(o.total_cost, 0),
    "门诊结算人数" = COALESCE(o.total_visits, 0),
    "医保出院结算金额" = COALESCE(i.yb_cost, 0),
    "医保出院结算人数" = COALESCE(i.yb_visits, 0),
    "DRG成本" = COALESCE(d.total_cost, 0),
    "DRG总费用" = COALESCE(d.total_fee, 0),
    "DRG人数" = COALESCE(d.person_count, 0),
    "自费出院结算金额" = COALESCE(i.zf_cost, 0),
    "自费出院结算人数" = COALESCE(i.zf_visits, 0),
    "总收入" = COALESCE(i.total_cost, 0) + COALESCE(o.total_cost, 0),
    "药品支出" = COALESCE(i.yp_inp_cost, 0) + COALESCE(o.yp_outp_cost, 0),
    "血液制品等支出" = COALESCE(i.blood_inp_cost, 0) + COALESCE(o.blood_outp_cost, 0),
    "耗材支出" = COALESCE(i.cl_inp_cost, 0) + COALESCE(o.cl_outp_cost, 0),
    "业务收入" = COALESCE(i.total_cost, 0) + COALESCE(o.total_cost, 0) 
                 - COALESCE(i.direct_cost_inp, 0) - COALESCE(o.direct_cost_outp, 0)
FROM t_workload_overal tw_main
LEFT JOIN inp_data i ON tw_main."年月" = i.yyyy_mm
LEFT JOIN outp_data o ON tw_main."年月" = o.yyyy_mm
LEFT JOIN drg_data d ON tw_main."年月" = d.yyyy_mm
WHERE tw."年月" = tw_main."年月";

-- 向绩效工资表插入临床科室的月度基础数据
TRUNCATE t_workload_perfpay_cl;
INSERT INTO t_workload_perfpay_cl(
    yyyy_mm,             -- 月份
    "绩效科室ID",         -- 科室唯一标识
    "绩效科室名称",       -- 科室显示名称
    "绩效科室类别",
    "绩效科室属性"        
)
SELECT 
    d.yyyy_mm,           -- 来源：工作量表的月份
    h."绩效科室ID",       -- 来源：科室定义的ID
    h."绩效科室名称",     -- 来源：科室定义的名称
    h."绩效科室类别",      -- 来源：科室定义的类别
    h."绩效科室属性"
    
FROM (
    -- 获取所有存在工作量的月份（去重）
    SELECT DISTINCT t_workload_inp.yyyy_mm 
    FROM t_workload_inp
) d
CROSS JOIN (
    -- 获取所有临床科室定义（去重）
    SELECT DISTINCT 
        t_workload_dep_def."绩效科室ID",
        t_workload_dep_def."绩效科室名称",
        t_workload_dep_def."绩效科室类别",
        t_workload_dep_def."绩效科室属性"  
    FROM t_workload_dep_def
    -- 关键筛选：仅选择临床科室
    WHERE t_workload_dep_def.绩效科室属性 in ('门诊' ,'住院')
) h;


-- 向绩效工资表插入门诊科室的月度基础数据
TRUNCATE t_workload_perfpay_mz;
INSERT INTO t_workload_perfpay_mz(
    yyyy_mm,             -- 月份
    "绩效科室ID",         -- 科室唯一标识
    "绩效科室名称",       -- 科室显示名称
    "绩效科室类别",
    "绩效科室属性"        
)
SELECT 
    d.yyyy_mm,           -- 来源：工作量表的月份
    h."绩效科室ID",       -- 来源：科室定义的ID
    h."绩效科室名称",     -- 来源：科室定义的名称
    h."绩效科室类别",      -- 来源：科室定义的类别
    h."绩效科室属性"
    
FROM (
    -- 获取所有存在工作量的月份（去重）
    SELECT DISTINCT t_workload_inp.yyyy_mm 
    FROM t_workload_inp
) d
CROSS JOIN (
    -- 获取所有临床科室定义（去重）
    SELECT DISTINCT 
        t_workload_dep_def."绩效科室ID",
        t_workload_dep_def."绩效科室名称",
        t_workload_dep_def."绩效科室类别",
        t_workload_dep_def."绩效科室属性"  
    FROM t_workload_dep_def
    -- 关键筛选：仅选择临床科室
    WHERE t_workload_dep_def."绩效科室属性"='个人门诊'
) h; -- 添加了缺失的闭合括号和分号

-- 向绩效工资表插入护理单元科室的月度基础数据
TRUNCATE t_workload_perfpay_hl;
INSERT INTO t_workload_perfpay_hl(
    yyyy_mm,             -- 月份
    "绩效科室ID",         -- 科室唯一标识
    "绩效科室名称",       -- 科室显示名称
    "绩效科室类别"        -- 科室分类（固定为"护理"）
)
SELECT 
    d.yyyy_mm,           -- 来源：工作量表的月份
    h."绩效科室ID",       -- 来源：科室定义的ID
    h."绩效科室名称",     -- 来源：科室定义的名称
    h."绩效科室类别"      -- 来源：科室定义的类别
FROM (
    -- 获取所有存在工作量的月份（去重）
    SELECT DISTINCT t_workload_inp.yyyy_mm 
    FROM t_workload_inp
) d
CROSS JOIN (
    -- 获取所有临床科室定义（去重）
    SELECT DISTINCT 
        t_workload_dep_def."绩效科室ID",
        t_workload_dep_def."绩效科室名称",
        t_workload_dep_def."绩效科室类别"
    FROM t_workload_dep_def
    -- 关键筛选：仅选择护理
    WHERE t_workload_dep_def.绩效科室类别 = '护理' 
) h;

-- 向绩效工资表插入医技科室的月度基础数据
TRUNCATE t_workload_perfpay_yj;
INSERT INTO "t_workload_perfpay_yj"(
    yyyy_mm,             -- 月份
    "绩效科室ID",         -- 科室唯一标识
    "绩效科室名称",       -- 科室显示名称
    "绩效科室类别"        -- 科室分类（固定为医技）
)
SELECT 
    d.yyyy_mm,           -- 来源：工作量表的月份
    h."绩效科室ID",       -- 来源：科室定义的ID
    h."绩效科室名称",     -- 来源：科室定义的名称
    h."绩效科室类别"      -- 来源：科室定义的类别
FROM (
    -- 获取所有存在工作量的月份（去重）
    SELECT DISTINCT t_workload_inp.yyyy_mm 
    FROM t_workload_inp
) d
CROSS JOIN (
    -- 获取所有临床科室定义（去重）
    SELECT DISTINCT 
        t_workload_dep_def."绩效科室ID",
        t_workload_dep_def."绩效科室名称",
        t_workload_dep_def.绩效科室类别  -- 注意：此处列名未加引号
    FROM t_workload_dep_def
    -- 关键筛选：仅选择医技科室
    WHERE t_workload_dep_def.绩效科室类别 = '医技' 
) h;

    
    -- 输出完成信息
    RETURN success;
EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_outp_set_item_typename
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_outp_set_item_typename"();
CREATE OR REPLACE FUNCTION "public"."hx_outp_set_item_typename"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    update_count INTEGER;
    success BOOLEAN := TRUE;
BEGIN
    --住院
    -- 设置项目收费类型
    UPDATE t_workload_outp
      SET item_type_name = t_hosp_fee_item_type.fee_item_type_name
    FROM t_hosp_diag, t_hosp_fee_item_type
    WHERE t_workload_outp."item_code" = t_hosp_diag.hosp_diag_code
    AND t_hosp_diag.fee_item_type_id = t_hosp_fee_item_type.fee_item_type_id;
    -- 设置介入与造影项目类型
    UPDATE t_workload_outp
      SET item_type_name =t_workload_operation_type."类别"
    FROM 
      t_workload_operation_type
    WHERE 
		  t_workload_outp."item_code" = t_workload_operation_type."项目编码";
        
    
    -- 获取影响的行数
    GET DIAGNOSTICS update_count = ROW_COUNT;
    
    -- 基础手术工作量绩效
 
    
    RETURN success;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_outp_set_item_typename_no_delete
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_outp_set_item_typename_no_delete"();
CREATE OR REPLACE FUNCTION "public"."hx_outp_set_item_typename_no_delete"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    update_count INTEGER;
    success BOOLEAN := TRUE;
BEGIN
    --住院
    -- 设置项目收费类型
    UPDATE t_workload_outp
      SET item_type_name = t_hosp_fee_item_type.fee_item_type_name
    FROM t_hosp_diag, t_hosp_fee_item_type
    WHERE t_workload_outp."item_code" = t_hosp_diag.hosp_diag_code
    AND t_hosp_diag.fee_item_type_id = t_hosp_fee_item_type.fee_item_type_id;
    -- 设置介入与造影项目类型
    UPDATE t_workload_outp
      SET item_type_name ='介入'
    FROM 
      t_hosp_diag,
      t_hosp_diag_type
    WHERE 
		  t_workload_outp."item_code" = t_hosp_diag.hosp_diag_code
    AND   
		  t_hosp_diag.diag_type_id = t_hosp_diag_type.diag_type_id
    AND 
      t_hosp_diag_type."diag_type_name"='介入';
  
    UPDATE t_workload_outp
      SET item_type_name ='造影'
    FROM 
      t_hosp_diag,
      t_hosp_diag_type
    WHERE 
		  t_workload_outp."item_code" = t_hosp_diag.hosp_diag_code
    AND   
		  t_hosp_diag.diag_type_id = t_hosp_diag_type.diag_type_id
    AND 
      t_hosp_diag_type."diag_type_name"='造影';
        
    
    -- 获取影响的行数
    GET DIAGNOSTICS update_count = ROW_COUNT;
    
    -- 基础手术工作量绩效
 
    
    RETURN success;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_inp_dep
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_inp_dep"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_inp_dep"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN

    -- 步骤1: 清空表 t_workload_sum_dep_inp
    TRUNCATE TABLE t_workload_sum_dep_inp;
    
    -- 步骤2: 从 t_hosp_dep 插入数据到 t_workload_sum_dep_inp
    INSERT INTO t_workload_sum_dep_inp (yyyy_mm, department_code,department_name)
    SELECT 
    d.yyyy_mm,
    h.dep_code,
    h.dep_name
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) d  -- 先获取去重的月份
    CROSS JOIN 
    (SELECT DISTINCT dep_code,dep_name FROM t_hosp_dep) h;     -- 先获取去重的科室代码
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_dep_inp
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ssjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDERED_BY → inp_bill)
    UPDATE t_workload_sum_dep_inp d
    SET total_kdjx = COALESCE((
        SELECT SUM(inp_bill)
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORMED_BY → inp_exec)
    UPDATE t_workload_sum_dep_inp d
    SET total_zxjx = COALESCE((
        SELECT SUM(inp_exec)
        FROM t_workload_inp
        WHERE "performed_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "performed_by"
    ), 0);
    
    -- 步骤6: 计算护理绩效(WARD_CODE → inp_nurse)
    UPDATE t_workload_sum_dep_inp d
    SET total_hljx = COALESCE((
        SELECT SUM(inp_nurse)
        FROM t_workload_inp
        WHERE "ward_code" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ward_code"
    ), 0);
    
    -- 步骤7: 计算在院病人诊察费绩效(PATIENT_IN_DEPT → ZCFJL)
    --UPDATE t_workload_sum_dep_inp d
    --SET total_zcfjl =COALESCE((
        --SELECT SUM("zcfjl")
        --FROM t_workload_inp
        --WHERE "performed_by" = d.department_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "performed_by" 
    --), 0);
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    --UPDATE t_workload_sum_dep_inp d
    --SET total_ghfjl = COALESCE((
        --SELECT SUM("ghfjl")
        --FROM t_workload_inp
        --WHERE "ordered_by" = d.department_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "ordered_by"
    --), 0);
    
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_dep_inp d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code 
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm",  "ordered_by" 
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    
    UPDATE t_workload_sum_dep_inp d
    SET total_jrjx =COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
     -- 步骤11: 计算手术绩效(PATIENT_IN_DEPT → SSJX)
    UPDATE t_workload_sum_dep_inp d
    SET total_ssjx = COALESCE((
        SELECT SUM("ssjx")
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code 
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY "yyyy_mm", "ordered_by"
    ), 0);
    
    
    ----步骤12.建立部门日月表
    --TRUNCATE TABLE t_workload_dep_yyyymm; 
    --INSERT INTO t_workload_dep_yyyymm (yyyy_mm, dep_code) 
    --SELECT 
    --d.yyyy_mm,
    --h.dep_code
    --FROM 
    --(SELECT DISTINCT yyyy_mm FROM t_workload_inp) d  -- 先获取去重的月份
    --CROSS JOIN 
    --(SELECT DISTINCT dep_code FROM t_hosp_dep) h;     -- 先获取去重的科室代码
    
    
    -- 输出完成信息
    RETURN success;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_inp_dep_self
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_inp_dep_self"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_inp_dep_self"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN

    -- 步骤1: 清空表 t_workload_sum_dep_inp_selfpay
    TRUNCATE TABLE t_workload_sum_dep_inp_selfpay;
    
    -- 步骤2: 从 t_hosp_dep 插入数据到 t_workload_sum_dep_inp_selfpay
    INSERT INTO t_workload_sum_dep_inp_selfpay(yyyy_mm, department_code,department_name)
    SELECT 
    d.yyyy_mm,
    h.dep_code,
    h.dep_name
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) d  -- 先获取去重的月份
    CROSS JOIN 
    (SELECT DISTINCT dep_code,dep_name FROM t_hosp_dep) h;     -- 先获取去重的科室代码
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_dep_inp_selfpay
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ssjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDERED_BY → inp_bill)
    UPDATE t_workload_sum_dep_inp_selfpay d
    SET total_kdjx = COALESCE((
        SELECT SUM(inp_bill)
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORMED_BY → inp_exec)
    UPDATE t_workload_sum_dep_inp_selfpay d
    SET total_zxjx = COALESCE((
        SELECT SUM(inp_exec)
        FROM t_workload_inp
        WHERE "performed_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "performed_by"
    ), 0);
    
    -- 步骤6: 计算护理绩效(WARD_CODE → inp_nurse)
    UPDATE t_workload_sum_dep_inp_selfpay d
    SET total_hljx = COALESCE((
        SELECT SUM(inp_nurse)
        FROM t_workload_inp
        WHERE "ward_code" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "ward_code"
    ), 0);
    
    -- 步骤7: 计算在院病人诊察费绩效(PATIENT_IN_DEPT → ZCFJL)
    --UPDATE t_workload_sum_dep_inp_selfpay d
    --SET total_zcfjl =COALESCE((
        --SELECT SUM("zcfjl")
        --FROM t_workload_inp
        --WHERE "performed_by" = d.department_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "performed_by" 
    --), 0);
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    --UPDATE t_workload_sum_dep_inp_selfpay d
    --SET total_ghfjl = COALESCE((
        --SELECT SUM("ghfjl")
        --FROM t_workload_inp
        --WHERE "ordered_by" = d.department_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "ordered_by"
    --), 0);
    
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_dep_inp_selfpay d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code 
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm",  "ordered_by" 
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    
    UPDATE t_workload_sum_dep_inp_selfpay d
    SET total_jrjx =COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
     -- 步骤11: 计算手术绩效(PATIENT_IN_DEPT → SSJX)
    UPDATE t_workload_sum_dep_inp_selfpay d
    SET total_ssjx = COALESCE((
        SELECT SUM("ssjx")
        FROM t_workload_inp
        WHERE "ordered_by" = d.department_code 
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY "yyyy_mm", "ordered_by"
    ), 0);
    

    
    
    -- 输出完成信息
    RETURN success;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_inp_doc
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_inp_doc"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_inp_doc"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN
    -- 步骤1: 清空表 t_workload_sum_doc_inp
    TRUNCATE TABLE t_workload_sum_doc_inp;
    
    -- 步骤2: 从 t_hosp_psn_f 插入数据到 t_workload_sum_doc_inp
    INSERT INTO t_workload_sum_doc_inp (yyyy_mm, doctor_code)
    SELECT 
    months.yyyy_mm,
    doctors.psn_code
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) AS months
    CROSS JOIN 
    (SELECT DISTINCT psn_code FROM t_hosp_psn_f) AS doctors;
    ----------
    update t_workload_sum_doc_inp
    set doctor_name=t_hosp_psn_f.psn_name
    from t_hosp_psn_f
    where t_workload_sum_doc_inp.doctor_code=t_hosp_psn_f.psn_code;
    --INSERT INTO t_workload_sum_doc_inp (yyyy_mm,doctor_code)
    --SELECT distinct t_workload_inp.yyyy_mm,t_workload_doc_2dep_def."工号"
    --FROM t_workload_inp,t_workload_doc_2dep_def;
    --update t_workload_sum_doc_inp
    --set doctor_name=t_workload_doc_2dep_def."姓名"
    --from t_workload_doc_2dep_def
    --where t_workload_sum_doc_inp.doctor_code=t_workload_doc_2dep_def."工号";
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_doc_inp 
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDER_DOCTOR → inp_bill)
    UPDATE t_workload_sum_doc_inp d
    SET total_kdjx = COALESCE((
        SELECT SUM(inp_bill)
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORM_DOCTOR → inp_exec)
    UPDATE t_workload_sum_doc_inp d
    SET total_zxjx = COALESCE((
        SELECT SUM(inp_exec)
        FROM t_workload_inp
        WHERE "perform_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "perform_doctor"
    ), 0);
    
    
    -- 步骤7: 计算在院病人诊察费奖励(PATIENT_IN_DEPT → ZCFJL)
    --UPDATE t_workload_sum_doc_inp d
    --SET total_zcfjl = COALESCE((
        --SELECT SUM("zcfjl")
        --FROM t_workload_inp
        --WHERE "order_doctor" = d.doctor_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "order_doctor"
    --), 0);
    
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    --UPDATE t_workload_sum_doc_inp d
    --SET total_ghfjl = COALESCE((
        --SELECT SUM("ghfjl")
        --FROM t_workload_inp
        --WHERE "order_doctor" = d.doctor_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "order_doctor"
    --), 0);
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_doc_inp d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    UPDATE t_workload_sum_doc_inp d
    SET total_jrjx = COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    -- 步骤11: 计算手术绩效(PATIENT_IN_DEPT → SSJX)
    UPDATE t_workload_sum_doc_inp d
    SET total_ssjx = COALESCE((
        SELECT SUM("ssjx")
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    --TRUNCATE TABLE t_workload_doc_yyyymm; 
    --INSERT INTO t_workload_doc_yyyymm(yyyy_mm, doc_code) 
    --SELECT 
    --months.yyyy_mm,
    -- doctors.psn_code
    --FROM 
    --(SELECT DISTINCT yyyy_mm FROM t_workload_inp) AS months
    --CROSS JOIN 
    --(SELECT DISTINCT psn_code FROM t_hosp_psn_f) AS doctors;
    
    -- 输出完成信息
    RETURN success;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_inp_doc_self
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_inp_doc_self"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_inp_doc_self"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN
    -- 步骤1: 清空表 t_workload_sum_doc_inp_selfpay
    TRUNCATE TABLE t_workload_sum_doc_inp_selfpay;
    
    -- 步骤2: 从 t_hosp_psn_f 插入数据到 t_workload_sum_doc_inp_selfpay
    INSERT INTO t_workload_sum_doc_inp_selfpay (yyyy_mm, doctor_code)
    SELECT 
    months.yyyy_mm,
    doctors.psn_code
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) AS months
    CROSS JOIN 
    (SELECT DISTINCT psn_code FROM t_hosp_psn_f) AS doctors;
    ----------
    update t_workload_sum_doc_inp_selfpay
    set doctor_name=t_hosp_psn_f.psn_name
    from t_hosp_psn_f
    where t_workload_sum_doc_inp_selfpay.doctor_code=t_hosp_psn_f.psn_code;
    --INSERT INTO t_workload_sum_doc_inp_selfpay (yyyy_mm,doctor_code)
    --SELECT distinct t_workload_inp.yyyy_mm,t_workload_doc_2dep_def."工号"
    --FROM t_workload_inp,t_workload_doc_2dep_def;
    --update t_workload_sum_doc_inp_selfpay
    --set doctor_name=t_workload_doc_2dep_def."姓名"
    --from t_workload_doc_2dep_def
    --where t_workload_sum_doc_inp_selfpay.doctor_code=t_workload_doc_2dep_def."工号";
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_doc_inp_selfpay 
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDER_DOCTOR → inp_bill)
    UPDATE t_workload_sum_doc_inp_selfpay d
    SET total_kdjx = COALESCE((
        SELECT SUM(inp_bill)
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORM_DOCTOR → inp_exec)
    UPDATE t_workload_sum_doc_inp_selfpay d
    SET total_zxjx = COALESCE((
        SELECT SUM(inp_exec)
        FROM t_workload_inp
        WHERE "perform_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "perform_doctor"
    ), 0);
    
    
    -- 步骤7: 计算在院病人诊察费奖励(PATIENT_IN_DEPT → ZCFJL)
    --UPDATE t_workload_sum_doc_inp_selfpay d
    --SET total_zcfjl = COALESCE((
        --SELECT SUM("zcfjl")
        --FROM t_workload_inp
        --WHERE "order_doctor" = d.doctor_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "order_doctor"
    --), 0);
    
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    --UPDATE t_workload_sum_doc_inp_selfpay d
    --SET total_ghfjl = COALESCE((
        --SELECT SUM("ghfjl")
        --FROM t_workload_inp
        --WHERE "order_doctor" = d.doctor_code
        --and "yyyy_mm"=d.yyyy_mm
        --GROUP BY  "yyyy_mm", "order_doctor"
    --), 0);
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_doc_inp_selfpay d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    UPDATE t_workload_sum_doc_inp_selfpay d
    SET total_jrjx = COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    
    -- 步骤11: 计算手术绩效(PATIENT_IN_DEPT → SSJX)
    UPDATE t_workload_sum_doc_inp_selfpay d
    SET total_ssjx = COALESCE((
        SELECT SUM("ssjx")
        FROM t_workload_inp
        WHERE "order_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "fee_type"='自费'
        GROUP BY  "yyyy_mm", "order_doctor"
    ), 0);
    


    
    -- 输出完成信息
    RETURN success;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_outp_dep
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_outp_dep"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_outp_dep"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE 
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN
    -- 步骤1: 清空表 t_workload_sum_dep_outp
    TRUNCATE TABLE t_workload_sum_dep_outp;
    
    -- 步骤2: 从 t_hosp_dep 插入数据到 t_workload_sum_dep_outp
    INSERT INTO t_workload_sum_dep_outp (yyyy_mm, department_code)
    SELECT 
    d.yyyy_mm,
    h.dep_code
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) d  -- 先获取去重的月份
    CROSS JOIN 
    (SELECT DISTINCT dep_code FROM t_hosp_dep) h;     -- 先获取去重的科室代码
    -----------------------------------------------------------------
    update   t_workload_sum_dep_outp
    set department_name=h.dep_name 
    FROM t_hosp_dep  h 
    where h.dep_code=department_code;
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_dep_outp 
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDERED_BY → inp_bill)
    UPDATE t_workload_sum_dep_outp d
    SET total_kdjx = COALESCE((
        SELECT SUM(outp_bill)
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        --GROUP BY "ordered_by"
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORMED_BY → inp_exec)
    UPDATE t_workload_sum_dep_outp d
    SET total_zxjx = COALESCE((
        SELECT SUM(outp_exec)
        FROM t_workload_outp
        WHERE "performed_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "performed_by"
    ), 0);
    
    -- 步骤6: 计算护理绩效(WARD_CODE → inp_nurse)
    UPDATE t_workload_sum_dep_outp d
    SET total_hljx = COALESCE((
        SELECT SUM(outp_nurse)
        FROM t_workload_outp
        WHERE "ward_code" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ward_code"
    ), 0);
    
    -- 步骤7: 计算在院病人诊察费绩效(PATIENT_IN_DEPT → ZCFJL)
    UPDATE t_workload_sum_dep_outp d
    SET total_zcfjl = COALESCE((
        SELECT SUM("zcfjl")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    UPDATE t_workload_sum_dep_outp d
    SET total_ghfjl = COALESCE((
        SELECT SUM("ghfjl")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_dep_outp d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    UPDATE t_workload_sum_dep_outp d
    SET total_jrjx = COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 输出完成信息
    RETURN success;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_outp_dep_self
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_outp_dep_self"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_outp_dep_self"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE 
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN
    -- 步骤1: 清空表 t_workload_sum_dep_outp_selfpay
    TRUNCATE TABLE t_workload_sum_dep_outp_selfpay;
    
    -- 步骤2: 从 t_hosp_dep 插入数据到 t_workload_sum_dep_outp_selfpay
    INSERT INTO t_workload_sum_dep_outp_selfpay (yyyy_mm, department_code)
    SELECT 
    d.yyyy_mm,
    h.dep_code
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) d  -- 先获取去重的月份
    CROSS JOIN 
    (SELECT DISTINCT dep_code FROM t_hosp_dep) h;     -- 先获取去重的科室代码
    -----------------------------------------------------------------
    update   t_workload_sum_dep_outp_selfpay
    set department_name=h.dep_name 
    FROM t_hosp_dep  h 
    where h.dep_code=department_code;
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_dep_outp_selfpay 
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDERED_BY → inp_bill)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_kdjx = COALESCE((
        SELECT SUM(outp_bill)
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        --GROUP BY "ordered_by"
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORMED_BY → inp_exec)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_zxjx = COALESCE((
        SELECT SUM(outp_exec)
        FROM t_workload_outp
        WHERE "performed_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "performed_by"
    ), 0);
    
    -- 步骤6: 计算护理绩效(WARD_CODE → inp_nurse)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_hljx = COALESCE((
        SELECT SUM(outp_nurse)
        FROM t_workload_outp
        WHERE "ward_code" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ward_code"
    ), 0);
    
    -- 步骤7: 计算在院病人诊察费绩效(PATIENT_IN_DEPT → ZCFJL)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_zcfjl = COALESCE((
        SELECT SUM("zcfjl")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_ghfjl = COALESCE((
        SELECT SUM("ghfjl")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    UPDATE t_workload_sum_dep_outp_selfpay d
    SET total_jrjx = COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_outp
        WHERE "ordered_by" = d.department_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by"
    ), 0);
    
    -- 输出完成信息
    RETURN success;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_outp_doc
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_outp_doc"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_outp_doc"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE 
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN
    -- 步骤1: 清空表 t_workload_sum_doc_outp
    TRUNCATE TABLE t_workload_sum_doc_outp;
    
    INSERT INTO t_workload_sum_doc_outp (yyyy_mm, doctor_code)
    SELECT 
    months.yyyy_mm,
    doctors.psn_code
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) AS months
    CROSS JOIN 
    (SELECT DISTINCT psn_code FROM t_hosp_psn_f) AS doctors;
    ----------
    update t_workload_sum_doc_outp
    set doctor_name=t_hosp_psn_f.psn_name
    from t_hosp_psn_f
    where t_workload_sum_doc_outp.doctor_code=t_hosp_psn_f.psn_code;
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_doc_outp 
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDER_DOCTOR → inp_bill)
    UPDATE t_workload_sum_doc_outp d
    SET total_kdjx = COALESCE((
        SELECT SUM(outp_bill)
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORM_DOCTOR → inp_exec)
    UPDATE t_workload_sum_doc_outp d
    SET total_zxjx = COALESCE((
        SELECT SUM(outp_exec)
        FROM t_workload_outp
        WHERE "performed_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "performed_by_doctor" 
    ), 0);
    
    
    -- 步骤7: 计算在院病人诊察费奖励(PATIENT_IN_DEPT → ZCFJL)
    UPDATE t_workload_sum_doc_outp d
    SET total_zcfjl = COALESCE((
        SELECT SUM("zcfjl")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    UPDATE t_workload_sum_doc_outp d
    SET total_ghfjl = COALESCE((
        SELECT SUM("ghfjl")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_doc_outp d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    UPDATE t_workload_sum_doc_outp d
    SET total_jrjx = COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 输出完成信息
    RETURN TRUE;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_performance_outp_doc_self
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_performance_outp_doc_self"();
CREATE OR REPLACE FUNCTION "public"."hx_performance_outp_doc_self"()
  RETURNS "pg_catalog"."bool" AS $BODY$
 DECLARE 
 update_count INTEGER;
 success BOOLEAN := TRUE;
BEGIN
    -- 步骤1: 清空表 t_workload_sum_doc_outp_selfpay
    TRUNCATE TABLE t_workload_sum_doc_outp_selfpay;
    
    INSERT INTO t_workload_sum_doc_outp_selfpay (yyyy_mm, doctor_code)
    SELECT 
    months.yyyy_mm,
    doctors.psn_code
    FROM 
    (SELECT DISTINCT yyyy_mm FROM t_workload_inp) AS months
    CROSS JOIN 
    (SELECT DISTINCT psn_code FROM t_hosp_psn_f) AS doctors;
    ----------
    update t_workload_sum_doc_outp_selfpay
    set doctor_name=t_hosp_psn_f.psn_name
    from t_hosp_psn_f
    where t_workload_sum_doc_outp_selfpay.doctor_code=t_hosp_psn_f.psn_code;
   
    -- 步骤3-- 确保目标表有所有需要的绩效字段
    ALTER TABLE t_workload_sum_doc_outp_selfpay 
    ADD COLUMN IF NOT EXISTS total_kdjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zxjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_hljx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zcfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_ghfjl NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_zyjx NUMERIC(12,2) DEFAULT 0,
    ADD COLUMN IF NOT EXISTS total_jrjx NUMERIC(12,2) DEFAULT 0;
    
    -- 步骤4: 计算开单绩效(ORDER_DOCTOR → inp_bill)
    UPDATE t_workload_sum_doc_outp_selfpay d
    SET total_kdjx = COALESCE((
        SELECT SUM(outp_bill)
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤5: 计算执行绩效(PERFORM_DOCTOR → inp_exec)
    UPDATE t_workload_sum_doc_outp_selfpay d
    SET total_zxjx = COALESCE((
        SELECT SUM(outp_exec)
        FROM t_workload_outp
        WHERE "performed_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "performed_by_doctor" 
    ), 0);
    
    
    -- 步骤7: 计算在院病人诊察费奖励(PATIENT_IN_DEPT → ZCFJL)
    UPDATE t_workload_sum_doc_outp_selfpay d
    SET total_zcfjl = COALESCE((
        SELECT SUM("zcfjl")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤8: 计算挂号费奖励绩效(PATIENT_IN_DEPT → GHFJL)
    UPDATE t_workload_sum_doc_outp_selfpay d
    SET total_ghfjl = COALESCE((
        SELECT SUM("ghfjl")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤9: 计算造影绩效(PATIENT_IN_DEPT → ZYJX)
    UPDATE t_workload_sum_doc_outp_selfpay d
    SET total_zyjx = COALESCE((
        SELECT SUM("zyjx")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 步骤10: 计算介入绩效(PATIENT_IN_DEPT → JRJX)
    UPDATE t_workload_sum_doc_outp_selfpay d
    SET total_jrjx = COALESCE((
        SELECT SUM("jrjx")
        FROM t_workload_outp
        WHERE "ordered_by_doctor" = d.doctor_code
        and "yyyy_mm"=d.yyyy_mm
        and "insur_type"='自费'
        GROUP BY  "yyyy_mm", "ordered_by_doctor"
    ), 0);
    
    -- 输出完成信息
    RETURN TRUE;
    EXCEPTION
    WHEN OTHERS THEN
        -- 发生异常时返回false
    RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_set_operator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_set_operator"("p_operator_id" text, "p_table_name" text, "p_record_id" int4, "p_column_name" text, "p_old_value" text, "p_new_value" text);
CREATE OR REPLACE FUNCTION "public"."hx_set_operator"("p_operator_id" text, "p_table_name" text, "p_record_id" int4, "p_column_name" text, "p_old_value" text, "p_new_value" text)
  RETURNS "pg_catalog"."void" AS $BODY$
BEGIN
    INSERT INTO t_workload_modification_log (
        operator_id, table_name, record_id, column_name, old_value, new_value
    ) VALUES (
        p_operator_id,
        p_table_name,
        p_record_id,
        p_column_name,
        p_old_value,
        p_new_value
    );
END;
$BODY$
  LANGUAGE plpgsql VOLATILE SECURITY DEFINER
  COST 100;

-- ----------------------------
-- Function structure for hx_set_operator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_set_operator"("p_operator_id" text);
CREATE OR REPLACE FUNCTION "public"."hx_set_operator"("p_operator_id" text)
  RETURNS "pg_catalog"."void" AS $BODY$
BEGIN
    -- 设置会话变量 'app.current_operator_id'
    PERFORM set_config('app.current_operator_id', p_operator_id, false);
END;
$BODY$
  LANGUAGE plpgsql VOLATILE SECURITY DEFINER
  COST 100;
COMMENT ON FUNCTION "public"."hx_set_operator"("p_operator_id" text) IS '设置当前应用操作员ID会话变量';

-- ----------------------------
-- Function structure for hx_set_operator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_set_operator"();
CREATE OR REPLACE FUNCTION "public"."hx_set_operator"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
DECLARE
    v_operator_id TEXT;
BEGIN
    -- 安全获取操作员ID（带默认值）
    BEGIN
        v_operator_id := current_setting('app.current_operator_id', true);
    EXCEPTION WHEN undefined_object THEN
        v_operator_id := 'unknown';
    END;

    IF (TG_OP = 'UPDATE' AND OLD IS DISTINCT FROM NEW) THEN
        -- 记录所有更改的字段
        PERFORM hx_log_modification(
            v_operator_id,
            TG_TABLE_NAME,
            COALESCE(OLD.id, NEW.id),
            key,
            old_value::TEXT,
            new_value::TEXT
        )
        FROM jsonb_each(to_jsonb(OLD)) AS old_data
        JOIN jsonb_each(to_jsonb(NEW)) AS new_data USING (key)
        WHERE old_data.value IS DISTINCT FROM new_data.value;
        
    ELSIF (TG_OP = 'INSERT') THEN
        -- 记录所有新字段
        PERFORM hx_log_modification(
            v_operator_id,
            TG_TABLE_NAME,
            NEW.id,
            key,
            NULL,
            value::TEXT
        )
        FROM jsonb_each(to_jsonb(NEW));
        
    ELSIF (TG_OP = 'DELETE') THEN
        -- 记录所有删除的字段
        PERFORM hx_log_modification(
            v_operator_id,
            TG_TABLE_NAME,
            OLD.id,
            key,
            value::TEXT,
            NULL
        )
        FROM jsonb_each(to_jsonb(OLD));
    END IF;
    
    RETURN NULL;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_set_workpoint
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_set_workpoint"();
CREATE OR REPLACE FUNCTION "public"."hx_set_workpoint"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    divisor CONSTANT NUMERIC := 2.2; -- 定义常量，方便维护
BEGIN
    -- 清空目标表
    TRUNCATE TABLE t_workload_point;
    
    WITH 
    -- 处理 t_workload_inp_f 表，取每个组合的最新 rcpt_date 记录
    inp_data AS (
        SELECT 
            item_code, 
            item_name, 
            item_class, 
            item_class_name,
            COALESCE(item_price, 0) AS item_price, -- 确保 item_price 不为 NULL
            rcpt_date,
            ROW_NUMBER() OVER (
                PARTITION BY item_code
                ORDER BY rcpt_date DESC
            ) AS rn
        FROM 
            t_workload_inp_f
        WHERE item_class_name NOT IN ('西药费','中药费','草药费','材料费','高值耗材')
    ),
    -- 处理 t_workload_outp_f 表，取每个组合的最新 visit_date 记录
    outp_data AS (
        SELECT 
            item_code, 
            item_name, 
            item_class, 
            item_class_name,
            COALESCE(costs / NULLIF(amount, 0), 0) AS item_price,
            visit_date,
            ROW_NUMBER() OVER (
                PARTITION BY item_code
                ORDER BY visit_date DESC
            ) AS rn
        FROM 
            t_workload_outp_f
        WHERE 
            amount > 0  
            AND item_class_name NOT IN ('西药费','中药费','草药费','材料费','高值耗材')
    ),
    -- 合并两个数据集，并添加日期类型标识
    combined_data AS (
        SELECT 
            item_code, 
            item_name, 
            item_class, 
            item_class_name,
            item_price,
            rcpt_date AS max_date,
            'inp' AS source_type
        FROM 
            inp_data
        WHERE 
            rn = 1
            
        UNION ALL
        
        SELECT 
            item_code, 
            item_name, 
            item_class, 
            item_class_name,
            item_price,
            visit_date AS max_date,
            'outp' AS source_type
        FROM 
            outp_data
        WHERE 
            rn = 1
    ),
    -- 为合并后的数据排序，取每个组合的最新日期记录
    ranked_data AS (
        SELECT 
            item_code, 
            item_name, 
            item_class, 
            item_class_name,
            item_price,
            max_date,
            source_type,
            ROW_NUMBER() OVER (
                PARTITION BY item_code
                ORDER BY max_date DESC, item_price DESC
            ) AS final_rn
        FROM 
            combined_data
    )
    -- 插入到目标表
    INSERT INTO t_workload_point (fee_item_code, fee_item_name, item_class, item_class_name, item_price)
    SELECT 
        item_code AS fee_item_code, 
        item_name AS fee_item_name, 
        item_class, 
        item_class_name, 
        item_price
    FROM 
        ranked_data
    WHERE 
        final_rn = 1; 
    
    -- 更新工作点数据，添加对除法的保护
    UPDATE t_workload_point
    SET 
        inbed_bill = wp.inbed_bill * item_price / divisor,
        inbed_exec = wp.inbed_exec * item_price / divisor,
        inbed_nurse = wp.inbed_nurse * item_price / divisor,
        outbed_bill = wp.outbed_bill * item_price / divisor,
        outbed_exec = wp.outbed_exec * item_price / divisor,
        outbed_nurse = wp.outbed_nurse * item_price / divisor
    FROM t_workload_percent wp
    WHERE t_workload_point.item_class_name = wp.item_class_name;
    
    ----打t_workload_point_exe_zero补丁：执行为0---------------------------------
    update t_workload_point
    set inbed_exec=0
    from t_workload_point_exe_zero
    where  t_workload_point.fee_item_code=t_workload_point_exe_zero.item_code;
    ----打t_workload_point_nurse_zero补丁：护理为0---------------------------------------------------------
    update t_workload_point
    set inbed_nurse=0
    from t_workload_point_nurse_zero
    where  t_workload_point.fee_item_code=t_workload_point_nurse_zero.item_code;
    
    ----开单与执行补丁--------------------------------------------------
    update t_workload_point
    set inbed_exec=sp.inp_exe,
        outbed_exec=sp.outp_exe
    from t_workload_point_exe_sp20250926 sp
    where  t_workload_point.fee_item_code=sp.item_code;
    -----开单执行护理补丁----------------------------------------------------------------
    update t_workload_point
    set inbed_nurse=sp.inbed_nurse,
        inbed_bill=sp.inbed_bill,
        inbed_exec=sp.inbed_exec,
        outbed_bill=sp.outbed_bill,
        outbed_exec=sp.outbed_exec,
        outbed_nurse=sp.outbed_nurse
    from t_workload_point_exe_sp20250928 sp
    where  t_workload_point.fee_item_code=sp.fee_item_code;

   -----护理补丁---------------------------------------------------- 
    update t_workload_point
    set inbed_nurse=sp.inp_nurse,
        outbed_nurse=sp.outp_nurse
    from t_workload_point_nurse_sp20250926 sp
    where  t_workload_point.fee_item_code=sp.item_code;
    ---------------------------------------------------------------------
    
    -- 成功执行返回 TRUE
    RETURN TRUE;
    
EXCEPTION
    WHEN OTHERS THEN
        -- 记录错误信息
        RAISE NOTICE '执行过程发生错误: %', SQLERRM;
        -- 失败返回 FALSE
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_static_allocation
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_static_allocation"("p_totalnum" numeric, "p_yyyy_mm" varchar);
CREATE OR REPLACE FUNCTION "public"."hx_static_allocation"("p_totalnum" numeric, "p_yyyy_mm" varchar)
  RETURNS "pg_catalog"."int4" AS $BODY$
DECLARE
    affected_rows INTEGER;
BEGIN
    UPDATE t_workload_allocation 
    SET 
        "分配金额" = "分配比例" * p_totalnum,
        "DRG_DIP金额" = "DRG_DIP比例" * "分配比例" * p_totalnum,
        "工作量金额" = "工作量比例" * "分配比例" * p_totalnum,
        "工作量计算单价" = CASE 
                        WHEN "工作量点数总额" IS NULL OR "工作量点数总额" = 0 THEN NULL
                        ELSE ("工作量比例" * "分配比例" * p_totalnum) / "工作量点数总额" 
                      END
    WHERE yyyy_mm = p_yyyy_mm;
    
    -- 获取受影响的行数
    GET DIAGNOSTICS affected_rows = ROW_COUNT;
    
    RETURN affected_rows;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_static_by_dep_type
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_static_by_dep_type"();
CREATE OR REPLACE FUNCTION "public"."hx_static_by_dep_type"()
  RETURNS "pg_catalog"."void" AS $BODY$
BEGIN
    -- 第一次更新：门诊工作量点数
    WITH allworkpoint AS (
        SELECT
            SUM("门诊工作量点数") AS "门诊工作量点数", 
            yyyy_mm
        FROM
            m_v_workload_doc_perform_total
        GROUP BY
            yyyy_mm
    )
    UPDATE t_workload_allocation a
    SET "工作量点数总额" = p."门诊工作量点数"
    FROM allworkpoint p
    WHERE a."绩效科室类别" = '门诊'
        AND p.yyyy_mm = a.yyyy_mm;
    
    -- 第二次更新：住院工作量点数
    WITH allworkpoint AS (
        SELECT
            SUM("住院工作量点数") AS "住院工作量点数", 
            yyyy_mm 
        FROM
            m_v_workload_doc_perform_total
        GROUP BY
            yyyy_mm
    )
    UPDATE t_workload_allocation a
    SET "工作量点数总额" = p."住院工作量点数"
    FROM allworkpoint p
    WHERE a."绩效科室类别" = '临床'
        AND p.yyyy_mm = a.yyyy_mm;
   ---门诊、临床奖励、成本----------------------------------------------
   with costs_award as (
   SELECT
	  m_v_workload_doc_perform_total.yyyy_mm, 
	  m_v_workload_doc_perform_total."绩效科室类别", 
	  sum(m_v_workload_doc_perform_total."科室直接成本")  AS  "科室直接成本", 
	  sum(m_v_workload_doc_perform_total."单项奖励合计") as  "单项奖励合计"
  FROM
	  m_v_workload_doc_perform_total
  GROUP BY
    m_v_workload_doc_perform_total.yyyy_mm, 
	  m_v_workload_doc_perform_total."绩效科室类别"
  )
  UPDATE t_workload_allocation a
    SET "科室直接成本" = p."科室直接成本",
    "单项奖励合计"=p."单项奖励合计"
    FROM costs_award p
    WHERE a."绩效科室类别" = p."绩效科室类别"
        AND p.yyyy_mm = a.yyyy_mm;  
        
  ---更新医技、护理工作量、奖励、成本---------------- 
  with allperform AS (
  SELECT
    m_v_workload_dep_perform_total.yyyy_mm, 
    m_v_workload_dep_perform_total."绩效科室类别", 
    sum(m_v_workload_dep_perform_total."科室直接成本") AS "科室直接成本", 
    sum(m_v_workload_dep_perform_total."工作量点数") AS "工作量点数", 
    sum(m_v_workload_dep_perform_total."单项奖励合计") AS "单项奖励合计"  -- 修正了这里的引号错误
  FROM
    m_v_workload_dep_perform_total
  GROUP BY
    m_v_workload_dep_perform_total.yyyy_mm, 
    m_v_workload_dep_perform_total."绩效科室类别"
)
UPDATE t_workload_allocation a
  SET "科室直接成本" = p."科室直接成本",
      "单项奖励合计" = p."单项奖励合计",
      "工作量点数总额" = p."工作量点数"
  FROM allperform p
  WHERE a."绩效科室类别" = p."绩效科室类别"
      AND p.yyyy_mm = a.yyyy_mm;
  
         
        
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_sur_performance_inp_doc
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_sur_performance_inp_doc"();
CREATE OR REPLACE FUNCTION "public"."hx_sur_performance_inp_doc"()
  RETURNS "pg_catalog"."bool" AS $BODY$
BEGIN
    -- 确保目标表有需要的绩效字段
 -- 确保目标表有需要的绩效字段
ALTER TABLE t_workload_sum_doc_inp  
ADD COLUMN IF NOT EXISTS total_ssjl3 NUMERIC(12,2) DEFAULT 0,
ADD COLUMN IF NOT EXISTS total_ssjl4 NUMERIC(12,2) DEFAULT 0;

-- 合并步骤1和步骤2，一次性计算两种手术级别绩效
WITH SurgeryData AS (
    SELECT
        op.operation_doctor_code AS doctor_code,
        ib.yyyy_mm,
        COUNT(DISTINCT CASE WHEN sl."手术级别" = '三级' THEN ib.mdtrt_id END) * 100 AS total_ssjl3,
        COUNT(DISTINCT CASE WHEN sl."手术级别" = '四级' THEN ib.mdtrt_id END) * 500 AS total_ssjl4
    FROM t_workload_inbed_bill ib
    INNER JOIN t_workload_opera_f op 
        ON ib.mdtrt_id = op.inbed_code
    INNER JOIN t_workload_surgery_level sl 
        ON op.operation_code = sl."编码"
    WHERE 
        op.operation_number = '1'
        AND sl."手术级别" IN ('三级', '四级')
    GROUP BY op.operation_doctor_code, ib.yyyy_mm
)

-- 单次更新两个绩效字段
UPDATE t_workload_sum_doc_inp  d
SET 
    total_ssjl3 = COALESCE(sd.total_ssjl3, 0),
    total_ssjl4 = COALESCE(sd.total_ssjl4, 0)
FROM SurgeryData sd
WHERE 
    d.doctor_code = sd.doctor_code
    AND d.yyyy_mm = sd.yyyy_mm;
    
    
  return true ;
    
    -- 输出完成信息
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for hx_sur_performance_inp_doc_self
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_sur_performance_inp_doc_self"();
CREATE OR REPLACE FUNCTION "public"."hx_sur_performance_inp_doc_self"()
  RETURNS "pg_catalog"."bool" AS $BODY$
BEGIN
    -- 确保目标表有需要的绩效字段
 -- 确保目标表有需要的绩效字段
 -- 确保目标表有需要的绩效字段
ALTER TABLE t_workload_sum_doc_inp_selfpay  
ADD COLUMN IF NOT EXISTS total_ssjl3 NUMERIC(12,2) DEFAULT 0,
ADD COLUMN IF NOT EXISTS total_ssjl4 NUMERIC(12,2) DEFAULT 0;

-- 合并步骤1和步骤2，一次性计算两种手术级别绩效
WITH SurgeryData AS (
    SELECT
        op.operation_doctor_code AS doctor_code,
        ib.yyyy_mm,
        COUNT(DISTINCT CASE WHEN sl."手术级别" = '三级' THEN ib.mdtrt_id END) * 100 AS total_ssjl3,
        COUNT(DISTINCT CASE WHEN sl."手术级别" = '四级' THEN ib.mdtrt_id END) * 500 AS total_ssjl4
    FROM t_workload_inbed_bill ib
    INNER JOIN t_workload_opera_f op 
        ON ib.mdtrt_id = op.inbed_code
    INNER JOIN t_workload_surgery_level sl 
        ON op.operation_code = sl."编码"
    WHERE 
        op.operation_number = '1'
        AND sl."手术级别" IN ('三级', '四级')
        AND ib.mdtrt_id IN (
            SELECT mdtrt_id 
            FROM t_workload_inbed_reg_f 
            WHERE is_rcmc = '自费')
    GROUP BY op.operation_doctor_code, ib.yyyy_mm
)

-- 单次更新两个绩效字段
UPDATE t_workload_sum_doc_inp_selfpay  d
SET 
    total_ssjl3 = COALESCE(sd.total_ssjl3, 0),
    total_ssjl4 = COALESCE(sd.total_ssjl4, 0)
FROM SurgeryData sd
WHERE 
    d.doctor_code = sd.doctor_code
    AND d.yyyy_mm = sd.yyyy_mm;
    
    
  return true ;
    
    -- 输出完成信息
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Procedure structure for hx_update_tran_sequence
-- ----------------------------
DROP PROCEDURE IF EXISTS "public"."hx_update_tran_sequence"();
CREATE OR REPLACE PROCEDURE "public"."hx_update_tran_sequence"()
 AS $BODY$
DECLARE
    cur_transfer CURSOR FOR 
        SELECT visit_id, numer, out_area_code, in_area
        FROM t_workload_transfer
        ORDER BY visit_id, numer;
    
    rec_transfer RECORD;
    current_visit_id TEXT := '';
BEGIN
    OPEN cur_transfer;
    
    LOOP
        FETCH cur_transfer INTO rec_transfer;
        EXIT WHEN NOT FOUND;
        
        -- 处理新分组（visit_id变化）
        IF current_visit_id <> rec_transfer.visit_id THEN
            -- 处理分组的第一条记录（numer=1）
            -- 1.1 更新转出科室
            UPDATE t_workload_drg_tran_detail d
            SET "序号" = t.numer
            FROM t_workload_transfer t
            WHERE d."序号" = 0
                AND d.mdtrt_id = t.visit_id
                AND d."费用科室名称" = t.out_area_code
                AND t.numer = 1
                AND t.visit_id = rec_transfer.visit_id;
            
            -- 1.2 更新转入科室
            UPDATE t_workload_drg_tran_detail d
            SET "序号" = t.numer + 1
            FROM t_workload_transfer t
            WHERE d."序号" = 0
                AND d.mdtrt_id = t.visit_id
                AND d."费用科室名称" = t.in_area
                AND t.numer = 1
                AND t.visit_id = rec_transfer.visit_id;
                
            current_visit_id := rec_transfer.visit_id;
        ELSE
            -- 处理同组后续记录（numer>1）
            -- 只更新转入科室
            UPDATE t_workload_drg_tran_detail d
            SET "序号" = t.numer + 1
            FROM t_workload_transfer t
            WHERE d."序号" = 0
                AND d.mdtrt_id = t.visit_id
                AND d."费用科室名称" = t.in_area
                AND t.numer = rec_transfer.numer
                AND t.visit_id = rec_transfer.visit_id;
        END IF;
    END LOOP;
    
    CLOSE cur_transfer;
END;
$BODY$
  LANGUAGE plpgsql;

-- ----------------------------
-- Function structure for hx_update_workload_drg_sum_detail
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."hx_update_workload_drg_sum_detail"();
CREATE OR REPLACE FUNCTION "public"."hx_update_workload_drg_sum_detail"()
  RETURNS "pg_catalog"."bool" AS $BODY$
DECLARE
    rec RECORD;
    col_name TEXT;
    update_sql TEXT;
    total_rows INT := 0;
    start_time TIMESTAMP;
    end_time TIMESTAMP;
BEGIN
    -- 创建临时表存储汇总数据
    DROP TABLE IF EXISTS temp_workload_summary;
    CREATE TEMP TABLE temp_workload_summary AS
    SELECT 
        visit_id,
        patient_in_dept,
        item_class_name,
        SUM(costs) AS total_cost
    FROM t_workload_inp
    WHERE item_class_name IS NOT NULL
      AND costs IS NOT NULL
    GROUP BY visit_id, patient_in_dept, item_class_name;
    
    -- 为临时表添加索引
    CREATE INDEX idx_temp_visit_dep ON temp_workload_summary (visit_id, patient_in_dept);
    CREATE INDEX idx_temp_class ON temp_workload_summary (item_class_name);
    
    RAISE NOTICE '已创建临时汇总表，共 % 行记录', (SELECT COUNT(*) FROM temp_workload_summary);

    -- 遍历所有唯一的项目类别
    FOR rec IN 
        SELECT DISTINCT 
            item_class_name AS original_name,
            REPLACE(REPLACE(REPLACE(REGEXP_REPLACE(item_class_name, '[^a-zA-Z0-9_\u4e00-\u9fff]', '', 'g'), ' ', '_'), '-', '_'), '.', '_') AS col_name
        FROM t_workload_inp
        WHERE item_class_name IS NOT NULL
    LOOP
        -- 检查目标表中是否存在该列
        IF NOT EXISTS (
            SELECT 1 
            FROM information_schema.columns 
            WHERE table_name = 't_workload_drg_sum_fee_detail' 
              AND column_name = rec.col_name
        ) THEN
            -- 如果列不存在则创建
            EXECUTE format(
                'ALTER TABLE t_workload_drg_sum_fee_detail ADD COLUMN %I NUMERIC(12,2) DEFAULT 0',
                rec.col_name
            );
            RAISE NOTICE '已创建列: % (原始值: %)', rec.col_name, rec.original_name;
        END IF;
        
        -- 构建更新语句，满足两个关联条件
        update_sql := format(
            'UPDATE t_workload_drg_sum_fee_detail AS dst
            SET %1$I = src.total_cost
            FROM (
                SELECT visit_id, patient_in_dept, total_cost
                FROM temp_workload_summary
                WHERE item_class_name = %2$L
            ) AS src
            WHERE dst.住院标识 = src.visit_id  -- 注意目标表字段名有空格
              AND dst."费用发生科室" = src.patient_in_dept',  -- 第二个关联条件
            rec.col_name,
            rec.original_name
        );
        
        -- 执行更新
        EXECUTE update_sql;
        
        -- 获取更新行数
        GET DIAGNOSTICS total_rows = ROW_COUNT;
        
        RAISE NOTICE '已更新类别 [%] 数据: % 行', rec.original_name, total_rows;
    END LOOP;
 
    RETURN TRUE;
            -- 发生异常时返回false
    
 
    -- 清理临时表
    DROP TABLE IF EXISTS temp_workload_summary;
    EXCEPTION
    WHEN others THEN
        RAISE EXCEPTION '更新过程中出错: %', SQLERRM;
        -- 确保清理临时表
        DROP TABLE IF EXISTS temp_workload_summary;
        RETURN FALSE;
        -- 记录错误日志
        INSERT INTO workload_error_log (function_name, error_time, error_message)
        VALUES ('update_workload_summary_with_dep', clock_timestamp(), SQLERRM);
    

END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for is_numeric
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."is_numeric"(text);
CREATE OR REPLACE FUNCTION "public"."is_numeric"(text)
  RETURNS "pg_catalog"."bool" AS $BODY$
BEGIN
    RETURN $1 ~ '^\d+(\.\d+)?$';
EXCEPTION
    WHEN others THEN
        RETURN FALSE;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for normal_rand
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."normal_rand"(int4, float8, float8);
CREATE OR REPLACE FUNCTION "public"."normal_rand"(int4, float8, float8)
  RETURNS SETOF "pg_catalog"."float8" AS '$libdir/tablefunc', 'normal_rand'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for oracle_close_connections
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."oracle_close_connections"();
CREATE OR REPLACE FUNCTION "public"."oracle_close_connections"()
  RETURNS "pg_catalog"."void" AS '$libdir/oracle_fdw', 'oracle_close_connections'
  LANGUAGE c VOLATILE STRICT
  COST 1;
COMMENT ON FUNCTION "public"."oracle_close_connections"() IS 'closes all open Oracle connections';

-- ----------------------------
-- Function structure for oracle_diag
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."oracle_diag"(name);
CREATE OR REPLACE FUNCTION "public"."oracle_diag"(name=NULL::name)
  RETURNS "pg_catalog"."text" AS '$libdir/oracle_fdw', 'oracle_diag'
  LANGUAGE c STABLE
  COST 1;
COMMENT ON FUNCTION "public"."oracle_diag"(name) IS 'shows the version of oracle_fdw, PostgreSQL, Oracle client and Oracle server';

-- ----------------------------
-- Function structure for oracle_execute
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."oracle_execute"("server" name, "statement" text);
CREATE OR REPLACE FUNCTION "public"."oracle_execute"("server" name, "statement" text)
  RETURNS "pg_catalog"."void" AS '$libdir/oracle_fdw', 'oracle_execute'
  LANGUAGE c VOLATILE STRICT
  COST 1;
COMMENT ON FUNCTION "public"."oracle_execute"("server" name, "statement" text) IS 'executes an arbitrary SQL statement with no results on the Oracle server';

-- ----------------------------
-- Function structure for oracle_fdw_handler
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."oracle_fdw_handler"();
CREATE OR REPLACE FUNCTION "public"."oracle_fdw_handler"()
  RETURNS "pg_catalog"."fdw_handler" AS '$libdir/oracle_fdw', 'oracle_fdw_handler'
  LANGUAGE c VOLATILE STRICT
  COST 1;
COMMENT ON FUNCTION "public"."oracle_fdw_handler"() IS 'Oracle foreign data wrapper handler';

-- ----------------------------
-- Function structure for oracle_fdw_validator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."oracle_fdw_validator"(_text, oid);
CREATE OR REPLACE FUNCTION "public"."oracle_fdw_validator"(_text, oid)
  RETURNS "pg_catalog"."void" AS '$libdir/oracle_fdw', 'oracle_fdw_validator'
  LANGUAGE c VOLATILE STRICT
  COST 1;
COMMENT ON FUNCTION "public"."oracle_fdw_validator"(_text, oid) IS 'Oracle foreign data wrapper options validator';

-- ----------------------------
-- Function structure for pldbg_abort_target
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_abort_target"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_abort_target"("session" int4)
  RETURNS SETOF "pg_catalog"."bool" AS '$libdir/plugin_debugger', 'pldbg_abort_target'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for pldbg_attach_to_port
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_attach_to_port"("portnumber" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_attach_to_port"("portnumber" int4)
  RETURNS "pg_catalog"."int4" AS '$libdir/plugin_debugger', 'pldbg_attach_to_port'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_continue
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_continue"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_continue"("session" int4)
  RETURNS "public"."breakpoint" AS '$libdir/plugin_debugger', 'pldbg_continue'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_create_listener
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_create_listener"();
CREATE OR REPLACE FUNCTION "public"."pldbg_create_listener"()
  RETURNS "pg_catalog"."int4" AS '$libdir/plugin_debugger', 'pldbg_create_listener'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_deposit_value
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_deposit_value"("session" int4, "varname" text, "linenumber" int4, "value" text);
CREATE OR REPLACE FUNCTION "public"."pldbg_deposit_value"("session" int4, "varname" text, "linenumber" int4, "value" text)
  RETURNS "pg_catalog"."bool" AS '$libdir/plugin_debugger', 'pldbg_deposit_value'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_drop_breakpoint
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_drop_breakpoint"("session" int4, "func" oid, "linenumber" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_drop_breakpoint"("session" int4, "func" oid, "linenumber" int4)
  RETURNS "pg_catalog"."bool" AS '$libdir/plugin_debugger', 'pldbg_drop_breakpoint'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_get_breakpoints
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_get_breakpoints"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_get_breakpoints"("session" int4)
  RETURNS SETOF "public"."breakpoint" AS '$libdir/plugin_debugger', 'pldbg_get_breakpoints'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for pldbg_get_proxy_info
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_get_proxy_info"();
CREATE OR REPLACE FUNCTION "public"."pldbg_get_proxy_info"()
  RETURNS "public"."proxyinfo" AS '$libdir/plugin_debugger', 'pldbg_get_proxy_info'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_get_source
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_get_source"("session" int4, "func" oid);
CREATE OR REPLACE FUNCTION "public"."pldbg_get_source"("session" int4, "func" oid)
  RETURNS "pg_catalog"."text" AS '$libdir/plugin_debugger', 'pldbg_get_source'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_get_stack
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_get_stack"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_get_stack"("session" int4)
  RETURNS SETOF "public"."frame" AS '$libdir/plugin_debugger', 'pldbg_get_stack'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for pldbg_get_target_info
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_get_target_info"("signature" text, "targettype" char);
CREATE OR REPLACE FUNCTION "public"."pldbg_get_target_info"("signature" text, "targettype" char)
  RETURNS "public"."targetinfo" AS $BODY$
  SELECT p.oid AS target,
         pronamespace AS schema,
         pronargs::int4 AS nargs,
         -- The returned argtypes column is of type oidvector, but unlike
         -- proargtypes, it's supposed to include OUT params. So we
         -- essentially have to return proallargtypes, converted to an
         -- oidvector. There is no oid[] -> oidvector cast, so we have to
         -- do it via text.
         CASE WHEN proallargtypes IS NOT NULL THEN
           translate(proallargtypes::text, ',{}', ' ')::oidvector
         ELSE
           proargtypes
         END AS argtypes,
         proname AS targetname,
         proargmodes AS argmodes,
         proargnames AS proargnames,
         prolang AS targetlang,
         quote_ident(nspname) || '.' || quote_ident(proname) AS fqname,
         proretset AS returnsset,
         prorettype AS returntype,

         't'::bool AS isfunc,
         0::oid AS pkg,
	 NULL::text[] AS argdefvals

  FROM pg_proc p, pg_namespace n
  WHERE p.pronamespace = n.oid
  AND p.oid = $1::oid
  -- We used to support querying by function name or trigger name/oid as well,
  -- but that was never used in the client, so the support for that has been
  -- removed. The targeType argument remains as a legacy of that. You're
  -- expected to pass 'o' as target type, but it doesn't do anything.
  AND $2 = 'o'
$BODY$
  LANGUAGE sql VOLATILE
  COST 100;

-- ----------------------------
-- Function structure for pldbg_get_variables
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_get_variables"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_get_variables"("session" int4)
  RETURNS SETOF "public"."var" AS '$libdir/plugin_debugger', 'pldbg_get_variables'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for pldbg_oid_debug
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_oid_debug"("functionoid" oid);
CREATE OR REPLACE FUNCTION "public"."pldbg_oid_debug"("functionoid" oid)
  RETURNS "pg_catalog"."int4" AS '$libdir/plugin_debugger', 'pldbg_oid_debug'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_select_frame
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_select_frame"("session" int4, "frame" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_select_frame"("session" int4, "frame" int4)
  RETURNS "public"."breakpoint" AS '$libdir/plugin_debugger', 'pldbg_select_frame'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_set_breakpoint
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_set_breakpoint"("session" int4, "func" oid, "linenumber" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_set_breakpoint"("session" int4, "func" oid, "linenumber" int4)
  RETURNS "pg_catalog"."bool" AS '$libdir/plugin_debugger', 'pldbg_set_breakpoint'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_set_global_breakpoint
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_set_global_breakpoint"("session" int4, "func" oid, "linenumber" int4, "targetpid" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_set_global_breakpoint"("session" int4, "func" oid, "linenumber" int4, "targetpid" int4)
  RETURNS "pg_catalog"."bool" AS '$libdir/plugin_debugger', 'pldbg_set_global_breakpoint'
  LANGUAGE c VOLATILE
  COST 1;

-- ----------------------------
-- Function structure for pldbg_step_into
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_step_into"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_step_into"("session" int4)
  RETURNS "public"."breakpoint" AS '$libdir/plugin_debugger', 'pldbg_step_into'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_step_over
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_step_over"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_step_over"("session" int4)
  RETURNS "public"."breakpoint" AS '$libdir/plugin_debugger', 'pldbg_step_over'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_wait_for_breakpoint
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_wait_for_breakpoint"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_wait_for_breakpoint"("session" int4)
  RETURNS "public"."breakpoint" AS '$libdir/plugin_debugger', 'pldbg_wait_for_breakpoint'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for pldbg_wait_for_target
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."pldbg_wait_for_target"("session" int4);
CREATE OR REPLACE FUNCTION "public"."pldbg_wait_for_target"("session" int4)
  RETURNS "pg_catalog"."int4" AS '$libdir/plugin_debugger', 'pldbg_wait_for_target'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for plpgsql_oid_debug
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."plpgsql_oid_debug"("functionoid" oid);
CREATE OR REPLACE FUNCTION "public"."plpgsql_oid_debug"("functionoid" oid)
  RETURNS "pg_catalog"."int4" AS $BODY$ SELECT pldbg_oid_debug($1) $BODY$
  LANGUAGE sql VOLATILE STRICT
  COST 100;

-- ----------------------------
-- Function structure for postgres_fdw_disconnect
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."postgres_fdw_disconnect"(text);
CREATE OR REPLACE FUNCTION "public"."postgres_fdw_disconnect"(text)
  RETURNS "pg_catalog"."bool" AS '$libdir/postgres_fdw', 'postgres_fdw_disconnect'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for postgres_fdw_disconnect_all
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."postgres_fdw_disconnect_all"();
CREATE OR REPLACE FUNCTION "public"."postgres_fdw_disconnect_all"()
  RETURNS "pg_catalog"."bool" AS '$libdir/postgres_fdw', 'postgres_fdw_disconnect_all'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for postgres_fdw_get_connections
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."postgres_fdw_get_connections"(OUT "server_name" text, OUT "valid" bool);
CREATE OR REPLACE FUNCTION "public"."postgres_fdw_get_connections"(OUT "server_name" text, OUT "valid" bool)
  RETURNS SETOF "pg_catalog"."record" AS '$libdir/postgres_fdw', 'postgres_fdw_get_connections'
  LANGUAGE c VOLATILE STRICT
  COST 1
  ROWS 1000;

-- ----------------------------
-- Function structure for postgres_fdw_handler
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."postgres_fdw_handler"();
CREATE OR REPLACE FUNCTION "public"."postgres_fdw_handler"()
  RETURNS "pg_catalog"."fdw_handler" AS '$libdir/postgres_fdw', 'postgres_fdw_handler'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for postgres_fdw_validator
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."postgres_fdw_validator"(_text, oid);
CREATE OR REPLACE FUNCTION "public"."postgres_fdw_validator"(_text, oid)
  RETURNS "pg_catalog"."void" AS '$libdir/postgres_fdw', 'postgres_fdw_validator'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_generate_v1
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_generate_v1"();
CREATE OR REPLACE FUNCTION "public"."uuid_generate_v1"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_generate_v1'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_generate_v1mc
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_generate_v1mc"();
CREATE OR REPLACE FUNCTION "public"."uuid_generate_v1mc"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_generate_v1mc'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_generate_v3
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_generate_v3"("namespace" uuid, "name" text);
CREATE OR REPLACE FUNCTION "public"."uuid_generate_v3"("namespace" uuid, "name" text)
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_generate_v3'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_generate_v4
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_generate_v4"();
CREATE OR REPLACE FUNCTION "public"."uuid_generate_v4"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_generate_v4'
  LANGUAGE c VOLATILE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_generate_v5
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_generate_v5"("namespace" uuid, "name" text);
CREATE OR REPLACE FUNCTION "public"."uuid_generate_v5"("namespace" uuid, "name" text)
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_generate_v5'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_nil
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_nil"();
CREATE OR REPLACE FUNCTION "public"."uuid_nil"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_nil'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_ns_dns
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_ns_dns"();
CREATE OR REPLACE FUNCTION "public"."uuid_ns_dns"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_ns_dns'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_ns_oid
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_ns_oid"();
CREATE OR REPLACE FUNCTION "public"."uuid_ns_oid"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_ns_oid'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_ns_url
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_ns_url"();
CREATE OR REPLACE FUNCTION "public"."uuid_ns_url"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_ns_url'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- Function structure for uuid_ns_x500
-- ----------------------------
DROP FUNCTION IF EXISTS "public"."uuid_ns_x500"();
CREATE OR REPLACE FUNCTION "public"."uuid_ns_x500"()
  RETURNS "pg_catalog"."uuid" AS '$libdir/uuid-ossp', 'uuid_ns_x500'
  LANGUAGE c IMMUTABLE STRICT
  COST 1;

-- ----------------------------
-- View structure for v_workload_data_perform_audit
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_data_perform_audit";
CREATE VIEW "public"."v_workload_data_perform_audit" AS  SELECT "年月",
    "出院结算金额",
    "出院结算金额" - "医保出院结算金额" - "自费出院结算金额" AS "出院结算金额核对",
    "出院结算人数",
    "出院结算人数" - "自费出院结算人数" - "医保出院结算人数" AS "出院人数核对",
    "医保出院结算金额",
    "医保出院结算金额" - "DRG总费用" AS "医保费用核对",
    "DRG总费用",
    "医保出院结算人数",
    "DRG人数",
    "医保出院结算人数" - "DRG人数" AS "医保人数核对",
    "自费出院结算金额",
    "自费出院结算人数",
    "DRG成本",
    "门诊结算金额",
    "门诊结算人数"
   FROM t_workload_overal;

-- ----------------------------
-- View structure for t_data_inbed_opt
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_data_inbed_opt";
CREATE VIEW "public"."t_data_inbed_opt" AS  SELECT NULL::character varying(50) AS inbed_opt_id,
    i.icd_9_id,
    o.mdtrt_id AS inbed_reg_id,
    NULL::text AS icd_no,
    o.oprn_code AS icd_code,
    o.oprn_name AS icd_name,
        CASE
            WHEN o.main_oprn_flag::text = '1'::text THEN '1'::text
            ELSE '0'::text
        END AS main_flag,
    o.oprn_date AS opt_dt,
    o.oprn_name AS opt_name,
    NULL::text AS opt_lev,
    o.anst_way,
    o.oper_dr_name,
    o.oper_dr_code,
    o.anst_dr_name,
    o.anst_dr_code
   FROM fdw.v_data_inbed_opt o
     LEFT JOIN t_icd9 i ON o.oprn_code::text = i.icd_code::text;

-- ----------------------------
-- View structure for v_hosp_incom_outp
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_hosp_incom_outp";
CREATE VIEW "public"."v_hosp_incom_outp" AS  SELECT visit_date,
    item_class_name,
    sum(costs) AS costs
   FROM t_workload_outp_f
  WHERE visit_date >= CURRENT_DATE AND visit_date < (CURRENT_DATE + 1)
  GROUP BY visit_date, item_class_name;

-- ----------------------------
-- View structure for v_workload_sur_detail
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_sur_detail";
CREATE VIEW "public"."v_workload_sur_detail" AS  SELECT sl."手术级别",
    ib.bill_dt AS "结算日期",
    op.operation_doctor_code AS "医生代码",
    op.operation_doctor_name AS "医生姓名",
    op.operation_fir_doc_code AS "一刀医生代码",
    op.operation_fir_doc_name AS "一刀医生姓名",
    op.operation_sec_doc_code AS "二刀医生代码",
    op.operation_sec_doc_name AS "二刀医生姓名",
    r.patn_name AS "患者姓名",
    ib.rcpt_id AS "结算单号",
    ib.mdtrt_id AS "患者唯一号",
    ib.total_amt AS "总费用"
   FROM t_workload_inbed_bill_f ib
     JOIN v_workload_inbed_reg_f r ON ib.mdtrt_id::text = r.mdtrt_id::text
     JOIN v_workload_opera_f op ON ib.mdtrt_id::text = op.inbed_code::text
     JOIN t_workload_surgery_level sl ON op.operation_code::text = sl."编码"::text
  WHERE op.operation_order::text = '1'::text AND (sl."手术级别"::text = ANY (ARRAY['三级'::character varying::text, '四级'::character varying::text]))
  ORDER BY ib.bill_dt;

-- ----------------------------
-- View structure for v_workload_perform_admin
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_perform_admin";
CREATE VIEW "public"."v_workload_perform_admin" AS  SELECT d.yyyy_mm,
    a."姓名",
    a."科室",
    a."岗位系数"
   FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
           FROM t_workload_inp) d
     CROSS JOIN ( SELECT t_workload_perform_amin."科室",
            t_workload_perform_amin."姓名",
            t_workload_perform_amin."岗位系数"
           FROM t_workload_perform_amin) a;

-- ----------------------------
-- View structure for t_data_inbed_bill_detail
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_data_inbed_bill_detail";
CREATE VIEW "public"."t_data_inbed_bill_detail" AS  SELECT rx_id AS inbed_bill_detail_id,
    NULL::text AS hosp_med_sup_id,
    NULL::text AS drug_id,
    NULL::text AS med_sup_id,
    NULL::text AS hosp_diag_id,
    NULL::text AS inbed_bill_id,
    NULL::text AS diag_id,
    NULL::text AS hosp_drug_id,
    NULL::text AS chi_drug_id,
    mdtrt_id AS inbed_reg_id,
    rx_id AS fee_item_id,
        CASE hilist_type
            WHEN '101'::text THEN '药品'::text
            WHEN '102'::text THEN '药品'::text
            WHEN '201'::text THEN '医疗服务'::text
            WHEN '301'::text THEN '医用耗材'::text
            ELSE NULL::text
        END AS fee_item_type,
    hilist_type AS mi_fee_type,
    hilist_code AS mi_item_code,
    hilist_name AS mi_item_name,
    hosplist_code AS hosp_item_code,
    hosplist_name AS hosp_item_name,
    cnt AS fee_item_cnt,
    pric AS fee_item_price,
    sumamt AS fee_item_amt,
    spec_unt AS fee_item_unit,
    ownpay_amt AS fee_item_self_amt,
    fee_ocur_time AS fee_item_dt,
    NULL::text AS fee_item_spec,
    NULL::text AS factory_name,
    cnt AS fee_item_rel_cnt,
    sumamt AS fee_item_rel_amt,
    ownpay_amt AS fee_item_rel_self_amt,
    NULL::text AS group_no,
    NULL::text AS fee_type,
    drord_dept_code AS dep_code,
    drord_dept_name AS dep_name,
    NULL::text AS fee_flag,
    drord_dept_code AS dep_id,
    drord_dr_code AS psn_id,
    drord_dr_name AS dr_resid_name,
    drord_dr_code AS dr_resid_code
   FROM t_workload_inbed_bill_detail_f f;

-- ----------------------------
-- View structure for v_workload_matrix
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix";
CREATE VIEW "public"."v_workload_matrix" AS  WITH all_doctors AS (
         SELECT d.yyyy_mm,
            pls.doc_code AS doctor_id,
            pls."姓名" AS doctor_name
           FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
                   FROM t_workload_inp) d
             CROSS JOIN ( SELECT DISTINCT v_workload_psn_list.doc_code,
                    v_workload_psn_list."姓名"
                   FROM v_workload_psn_list) pls
        ), all_departments AS (
         SELECT DISTINCT depts.department_code
           FROM ( SELECT t_workload_inp.ordered_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_inp.performed_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.performed_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.ordered_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.performed_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.performed_by IS NOT NULL
                UNION
                 SELECT v_workload_doc_sur_award.dept_code AS department_code
                   FROM v_workload_doc_sur_award
                  WHERE v_workload_doc_sur_award.dept_code IS NOT NULL
                UNION
                 SELECT v_workload_matrix_inp.department AS department_code
                   FROM v_workload_matrix_inp
                  WHERE v_workload_matrix_inp.department IS NOT NULL
                UNION
                 SELECT v_workload_matrix_outp.department AS department_code
                   FROM v_workload_matrix_outp
                  WHERE v_workload_matrix_outp.department IS NOT NULL) depts
        ), inp_workload_agg AS (
         SELECT v_workload_matrix_inp.yyyy_mm,
            v_workload_matrix_inp.doctor,
            v_workload_matrix_inp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_inp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_inp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_inp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_inp.total_inp_bill, 0::numeric)) AS total_inp_bill,
            sum(COALESCE(v_workload_matrix_inp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_inp.total_inp_nurse, 0::numeric)) AS total_inp_nurse
           FROM v_workload_matrix_inp
          WHERE v_workload_matrix_inp.department IS NOT NULL
          GROUP BY v_workload_matrix_inp.yyyy_mm, v_workload_matrix_inp.doctor, v_workload_matrix_inp.department
        ), outp_workload_agg AS (
         SELECT v_workload_matrix_outp.yyyy_mm,
            v_workload_matrix_outp.doctor,
            v_workload_matrix_outp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_outp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_outp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_outp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_bill, 0::numeric)) AS total_outp_bill,
            sum(COALESCE(v_workload_matrix_outp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_nurse, 0::numeric)) AS total_outp_nurse
           FROM v_workload_matrix_outp
          WHERE v_workload_matrix_outp.department IS NOT NULL
          GROUP BY v_workload_matrix_outp.yyyy_mm, v_workload_matrix_outp.doctor, v_workload_matrix_outp.department
        ), surgery_award_agg AS (
         SELECT v_workload_doc_sur_award.yyyy_mm,
            v_workload_doc_sur_award.doctor_code,
            v_workload_doc_sur_award.dept_code AS department_code,
            NULL::numeric AS total_ssjl3,
            NULL::numeric AS total_ssjl4
           FROM v_workload_doc_sur_award
          WHERE v_workload_doc_sur_award.doctor_code IS NOT NULL AND v_workload_doc_sur_award.dept_code IS NOT NULL
          GROUP BY v_workload_doc_sur_award.yyyy_mm, v_workload_doc_sur_award.doctor_code, v_workload_doc_sur_award.dept_code
        ), base_result AS (
         SELECT d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            dep.department_code,
            NULL::numeric AS inp_zcfjl,
            NULL::numeric AS inp_ghfjl,
            COALESCE(i.total_zyjx, 0::numeric) AS inp_zyjx,
            COALESCE(i.total_jrjx, 0::numeric) AS inp_jrjx,
            COALESCE(i.total_ssjx, 0::numeric) AS inp_ssjx,
            COALESCE(i.total_inp_bill, 0::numeric) AS inp_bill,
            COALESCE(i.total_zxjx, 0::numeric) AS inp_zxjx,
            COALESCE(i.total_inp_nurse, 0::numeric) AS inp_nurse,
            NULL::numeric AS outp_zcfjl,
            NULL::numeric AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0::numeric) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0::numeric) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0::numeric) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0::numeric) AS outp_bill,
            COALESCE(o.total_zxjx, 0::numeric) AS outp_zxjx,
            COALESCE(o.total_outp_nurse, 0::numeric) AS outp_nurse,
            NULL::numeric AS surgery_award_3,
            NULL::numeric AS surgery_award_4,
            NULL::numeric AS total_surgery_award
           FROM all_doctors d
             CROSS JOIN all_departments dep
             LEFT JOIN inp_workload_agg i ON d.yyyy_mm::text = i.yyyy_mm::text AND d.doctor_id::text = i.doctor::text AND dep.department_code::text = i.department::text
             LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text AND d.doctor_id::text = o.doctor::text AND dep.department_code::text = o.department::text
             LEFT JOIN surgery_award_agg s ON d.yyyy_mm::text = s.yyyy_mm::text AND d.doctor_id::text = s.doctor_code::text AND dep.department_code::text = s.department_code::text
        )
 SELECT br.yyyy_mm,
    h."绩效科室ID",
    br.doctor_id,
    br.doctor_name,
    br.department_code,
    br.inp_zcfjl,
    br.inp_ghfjl,
    br.inp_zyjx,
    br.inp_jrjx,
    br.inp_ssjx,
    br.inp_bill,
    br.inp_zxjx,
    br.outp_zcfjl,
    br.outp_ghfjl,
    br.outp_zyjx,
    br.outp_jrjx,
    br.outp_ssjx,
    br.outp_bill,
    br.outp_zxjx,
    br.surgery_award_3,
    br.surgery_award_4,
    br.total_surgery_award,
    br.inp_nurse,
    br.outp_nurse
   FROM base_result br
     LEFT JOIN t_workload_dep_def2his h ON h."HIS科室编码"::text = br.department_code::text
  WHERE (COALESCE(br.inp_zcfjl, 0::numeric) + COALESCE(br.inp_ghfjl, 0::numeric) + COALESCE(br.inp_zyjx, 0::numeric) + COALESCE(br.inp_jrjx, 0::numeric) + COALESCE(br.inp_ssjx, 0::numeric) + COALESCE(br.inp_bill, 0::numeric) + COALESCE(br.inp_zxjx, 0::numeric) + COALESCE(br.inp_nurse, 0::numeric) + COALESCE(br.outp_zcfjl, 0::numeric) + COALESCE(br.outp_ghfjl, 0::numeric) + COALESCE(br.outp_zyjx, 0::numeric) + COALESCE(br.outp_jrjx, 0::numeric) + COALESCE(br.outp_ssjx, 0::numeric) + COALESCE(br.outp_bill, 0::numeric) + COALESCE(br.outp_zxjx, 0::numeric) + COALESCE(br.outp_nurse, 0::numeric) + COALESCE(br.surgery_award_3, 0::numeric) + COALESCE(br.surgery_award_4, 0::numeric)) > 0::numeric
  ORDER BY br.yyyy_mm, br.doctor_id, br.department_code;

-- ----------------------------
-- View structure for v_workload_matrix_dep
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix_dep";
CREATE VIEW "public"."v_workload_matrix_dep" AS  WITH all_doctors AS (
         SELECT d.yyyy_mm,
            pls.doc_code AS doctor_id,
            pls."姓名" AS doctor_name
           FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
                   FROM t_workload_inp) d
             CROSS JOIN ( SELECT DISTINCT v_workload_psn_list.doc_code,
                    v_workload_psn_list."姓名"
                   FROM v_workload_psn_list) pls
        ), all_departments AS (
         SELECT DISTINCT depts.department_code
           FROM ( SELECT t_workload_inp.ordered_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_inp.performed_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.performed_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.ordered_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.performed_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.performed_by IS NOT NULL
                UNION
                 SELECT v_workload_doc_sur_award.dept_code AS department_code
                   FROM v_workload_doc_sur_award
                  WHERE v_workload_doc_sur_award.dept_code IS NOT NULL
                UNION
                 SELECT v_workload_matrix_inp.department AS department_code
                   FROM v_workload_matrix_inp
                  WHERE v_workload_matrix_inp.department IS NOT NULL
                UNION
                 SELECT v_workload_matrix_outp.department AS department_code
                   FROM v_workload_matrix_outp
                  WHERE v_workload_matrix_outp.department IS NOT NULL) depts
        ), inp_workload_agg AS (
         SELECT v_workload_matrix_inp.yyyy_mm,
            v_workload_matrix_inp.doctor,
            v_workload_matrix_inp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_inp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_inp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_inp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_inp.total_inp_bill, 0::numeric)) AS total_inp_bill,
            sum(COALESCE(v_workload_matrix_inp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_inp.total_inp_nurse, 0::numeric)) AS total_inp_nurse
           FROM v_workload_matrix_inp
          WHERE v_workload_matrix_inp.department IS NOT NULL
          GROUP BY v_workload_matrix_inp.yyyy_mm, v_workload_matrix_inp.doctor, v_workload_matrix_inp.department
        ), outp_workload_agg AS (
         SELECT v_workload_matrix_outp.yyyy_mm,
            v_workload_matrix_outp.doctor,
            v_workload_matrix_outp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_outp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_outp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_outp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_bill, 0::numeric)) AS total_outp_bill,
            sum(COALESCE(v_workload_matrix_outp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_nurse, 0::numeric)) AS total_outp_nurse
           FROM v_workload_matrix_outp
          WHERE v_workload_matrix_outp.department IS NOT NULL
          GROUP BY v_workload_matrix_outp.yyyy_mm, v_workload_matrix_outp.doctor, v_workload_matrix_outp.department
        ), surgery_award_agg AS (
         SELECT v_workload_doc_sur_award.yyyy_mm,
            v_workload_doc_sur_award.doctor_code,
            v_workload_doc_sur_award.dept_code AS department_code,
            NULL::numeric AS total_ssjl3,
            NULL::numeric AS total_ssjl4
           FROM v_workload_doc_sur_award
          WHERE v_workload_doc_sur_award.doctor_code IS NOT NULL AND v_workload_doc_sur_award.dept_code IS NOT NULL
          GROUP BY v_workload_doc_sur_award.yyyy_mm, v_workload_doc_sur_award.doctor_code, v_workload_doc_sur_award.dept_code
        ), base_result AS (
         SELECT d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            dep.department_code,
            NULL::numeric AS inp_zcfjl,
            NULL::numeric AS inp_ghfjl,
            COALESCE(i.total_zyjx, 0::numeric) AS inp_zyjx,
            COALESCE(i.total_jrjx, 0::numeric) AS inp_jrjx,
            COALESCE(i.total_ssjx, 0::numeric) AS inp_ssjx,
            COALESCE(i.total_inp_bill, 0::numeric) AS inp_bill,
            COALESCE(i.total_zxjx, 0::numeric) AS inp_zxjx,
            COALESCE(i.total_inp_nurse, 0::numeric) AS inp_nurse,
            NULL::numeric AS outp_zcfjl,
            NULL::numeric AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0::numeric) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0::numeric) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0::numeric) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0::numeric) AS outp_bill,
            COALESCE(o.total_zxjx, 0::numeric) AS outp_zxjx,
            COALESCE(o.total_outp_nurse, 0::numeric) AS outp_nurse,
            NULL::numeric AS surgery_award_3,
            NULL::numeric AS surgery_award_4,
            NULL::numeric AS total_surgery_award
           FROM all_doctors d
             CROSS JOIN all_departments dep
             LEFT JOIN inp_workload_agg i ON d.yyyy_mm::text = i.yyyy_mm::text AND d.doctor_id::text = i.doctor::text AND dep.department_code::text = i.department::text
             LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text AND d.doctor_id::text = o.doctor::text AND dep.department_code::text = o.department::text
             LEFT JOIN surgery_award_agg s ON d.yyyy_mm::text = s.yyyy_mm::text AND d.doctor_id::text = s.doctor_code::text AND dep.department_code::text = s.department_code::text
        )
 SELECT br.yyyy_mm,
    h."绩效科室ID",
    br.department_code,
    br.inp_zcfjl,
    br.inp_ghfjl,
    br.inp_zyjx,
    br.inp_jrjx,
    br.inp_ssjx,
    br.inp_bill,
    br.inp_zxjx,
    br.outp_zcfjl,
    br.outp_ghfjl,
    br.outp_zyjx,
    br.outp_jrjx,
    br.outp_ssjx,
    br.outp_bill,
    br.outp_zxjx,
    br.surgery_award_3,
    br.surgery_award_4,
    br.total_surgery_award,
    br.inp_nurse,
    br.outp_nurse
   FROM base_result br
     LEFT JOIN t_workload_dep_def2his h ON h."HIS科室编码"::text = br.department_code::text
  WHERE (COALESCE(br.inp_zcfjl, 0::numeric) + COALESCE(br.inp_ghfjl, 0::numeric) + COALESCE(br.inp_zyjx, 0::numeric) + COALESCE(br.inp_jrjx, 0::numeric) + COALESCE(br.inp_ssjx, 0::numeric) + COALESCE(br.inp_bill, 0::numeric) + COALESCE(br.inp_zxjx, 0::numeric) + COALESCE(br.inp_nurse, 0::numeric) + COALESCE(br.outp_zcfjl, 0::numeric) + COALESCE(br.outp_ghfjl, 0::numeric) + COALESCE(br.outp_zyjx, 0::numeric) + COALESCE(br.outp_jrjx, 0::numeric) + COALESCE(br.outp_ssjx, 0::numeric) + COALESCE(br.outp_bill, 0::numeric) + COALESCE(br.outp_zxjx, 0::numeric) + COALESCE(br.outp_nurse, 0::numeric) + COALESCE(br.surgery_award_3, 0::numeric) + COALESCE(br.surgery_award_4, 0::numeric)) > 0::numeric
  ORDER BY br.yyyy_mm, br.department_code;

-- ----------------------------
-- View structure for v_inpatient_surgery
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_inpatient_surgery";
CREATE VIEW "public"."v_inpatient_surgery" AS  SELECT t_data_inbed_bill_d.inbed_reg_id,
    t_data_inbed_opt_d.icd_9_id,
    t_data_inbed_opt_d.icd_code,
    t_data_inbed_opt_d.icd_name,
    t_data_inbed_opt_d.main_flag,
    t_data_inbed_opt_d.opt_dt,
    t_data_inbed_opt_d.opt_name,
    t_data_inbed_opt_d.opt_lev,
    t_data_inbed_opt_d.anst_way,
    t_data_inbed_opt_d.oper_dr_name,
    t_data_inbed_opt_d.oper_dr_code,
    t_data_inbed_opt_d.anst_dr_name,
    t_data_inbed_opt_d.anst_dr_code,
    t_data_inbed_bill_d.patient_no,
    t_data_inbed_bill_d.status,
    t_data_inbed_bill_d.patient_name,
    t_data_inbed_bill_d.idcard,
    t_data_inbed_bill_d.birth_day,
    t_data_inbed_bill_d.psn_age_day,
    t_data_inbed_bill_d.psn_age,
    t_data_inbed_bill_d.gender_code,
    t_data_inbed_bill_d.gender_name,
    t_data_inbed_bill_d.psn_type_id,
    t_data_inbed_bill_d.psn_type_code,
    t_data_inbed_bill_d.psn_type_name,
    t_data_inbed_bill_d.paymtd_id,
    t_data_inbed_bill_d.paymtd_code,
    t_data_inbed_bill_d.paymtd_name,
    t_data_inbed_bill_d.org_code,
    t_data_inbed_bill_d.org_name,
    t_data_inbed_bill_d.hosp_code,
    t_data_inbed_bill_d.hosp_name,
    t_data_inbed_bill_d.bill_no,
    t_data_inbed_bill_d.bill_dt,
    t_data_inbed_bill_d.total_amt,
    t_data_inbed_bill_d.self_amt,
    t_data_inbed_bill_d.mi_pay_amt,
    t_data_inbed_bill_d.self_pay_amt,
    t_data_inbed_bill_d.acct_pay_amt,
    t_data_inbed_bill_d.cash_pay_amt,
    t_data_inbed_bill_d.drug_amt,
    t_data_inbed_bill_d.diag_amt,
    t_data_inbed_bill_d.med_sup_amt,
    t_data_inbed_bill_d.dr_resid_code,
    t_data_inbed_bill_d.dr_resid_name,
    t_data_inbed_bill_d.dr_atten_code,
    t_data_inbed_bill_d.dr_atten_name,
    t_data_inbed_bill_d.outbed_dt,
    t_data_inbed_bill_d.inbed_days,
    t_data_inbed_bill_d.outbed_dep_code,
    t_data_inbed_bill_d.outbed_dep_name,
    t_data_inbed_bill_d.outbed_area_code,
    t_data_inbed_bill_d.outbed_area_name,
    t_data_inbed_bill_d.outbed_bed_code,
    t_data_inbed_bill_d.inbed_result,
    t_medical_opt_lev.opt_lev_code,
    t_medical_opt_lev.opt_lev_name
   FROM t_data_inbed_bill_d
     JOIN t_data_inbed_opt_d ON t_data_inbed_bill_d.inbed_reg_id::text = t_data_inbed_opt_d.inbed_reg_id::text
     JOIN t_medical_icd9 ON t_data_inbed_opt_d.icd_9_id::text = t_medical_icd9.icd9_id::text
     JOIN t_medical_opt_lev ON t_medical_icd9.opt_lev_id::text = t_medical_opt_lev.opt_lev_id::text;

-- ----------------------------
-- View structure for v_data_check_detail
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_data_check_detail";
CREATE VIEW "public"."v_data_check_detail" AS  SELECT c.inbed_check_rule_id,
    c.inbed_reg_id,
    c.rule_id,
    c.rule_code,
    c.rule_name,
    c.sev_deg,
    c.doubt_amt,
    c.doubt_msg,
    c.deduc_amt,
    c.doubt_lev,
    c.doubt_cnt,
    c.deduc_cnt,
    c.mi_item_code,
    c.mi_item_name,
    c.hosp_item_code,
    c.hosp_item_name,
    c.create_user_id,
    c.create_user,
    c.create_dt,
    c.modify_user_id,
    c.modify_user,
    c.modify_dt,
    c.status,
    c.note,
    c.check_result_id,
    r.org_id,
    r.si_type_id,
    r.paymtd_id,
    r.hosp_id,
    h.hosp_code,
    h.hosp_name,
    r.inbed_dt,
    r.outbed_dt,
    r.inbed_days,
    r.inbed_status,
    r.total_amt,
    r.bill_cnt,
    r.dep_code,
    r.dep_name,
    r.dr_resid_code,
    r.dr_resid_name
   FROM t_data_check_rule c,
    t_data_check_result r,
    t_hosp_info h
  WHERE c.check_result_id::text = r.check_result_id::text AND r.hosp_id::text = h.hosp_id::text;

-- ----------------------------
-- View structure for v_data_group_result
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_data_group_result";
CREATE VIEW "public"."v_data_group_result" AS  SELECT r.group_result_id,
    r.mdc_id,
    r.hosp_id,
    r.inbed_reg_id,
    r.inbed_bill_id,
    r.drg_id,
    r.dip_id,
    r.dep_id,
    r.adrg_id,
    r.psn_id,
    r.org_id,
    r.bill_no,
    r.bill_dt,
    r.total_amt,
    r.self_amt,
    r.mi_pay_amt,
    r.self_pay_amt,
    r.acct_pay_amt,
    r.cash_pay_amt,
    r.drug_amt,
    r.diag_amt,
    r.med_sup_amt,
    r.dep_code,
    r.dep_name,
    r.dr_resid_code,
    r.dr_resid_name,
    r.dr_atten_code,
    r.dr_atten_name,
    r.inbed_days,
    r.create_user_id,
    r.create_user,
    r.create_dt,
    r.modify_user_id,
    r.modify_user,
    r.modify_dt,
    r.status,
    r.note,
    r.patient_no,
    r.patient_name,
    r.idcard,
    r.birth_day,
    r.psn_age_day,
    r.psn_age,
    r.gender_code,
    r.gender_name,
    r.psn_type_id,
    r.psn_type_code,
    r.psn_type_name,
    r.si_type_id,
    r.si_type_code,
    r.si_type_name,
    r.paymtd_id,
    r.paymtd_code,
    r.paymtd_name,
    r.org_code,
    r.org_name,
    r.hosp_code,
    r.hosp_name,
    r.chs_ver_code,
    r.chs_ver_name,
    r.chs_ver_type,
    r.group_dt,
    r.mdc_code,
    r.mdc_name,
    r.adrg_code,
    r.adrg_name,
    r.group_code,
    r.group_name,
    r.group_point,
    r.group_value,
    r.group_adjust,
    r.group_pay_std,
    r.main_diag,
    r.main_opt,
    r.disease_type,
    r.si_case_type,
    r.exec_dt,
    r.exec_params_in,
    r.exec_params_out,
    r.exec_cost,
    r.exec_msg,
    r.def_pay_amt,
    r.inbed_status,
    r.main_diag_code,
    r.main_opt_code,
    r.main_diag_id,
    r.main_opt_id,
    r.visit_id,
    r.high_rate,
    r.low_rate,
    r.high_std,
    r.low_std,
    r.inbed_reg_code,
    r.inbed_dt,
    r.outbed_dt,
    r.inbed_result,
    r.dr_atten_psn_id,
    to_char(r.inbed_dt, 'yyyy'::text) AS year,
    to_char(r.inbed_dt, 'yyyymm'::text) AS month,
    i.rw,
    r.inbed_days::double precision / i.inbed_days_avg AS time_factor,
    r.total_amt::double precision / i.total_amt_avg AS fee_factor
   FROM t_data_group_result r
     LEFT JOIN t_data_group_indicator i ON r.group_code::text = i.group_code::text AND date_part('year'::text, r.inbed_dt)::text = i.yearly::text AND r.org_code::text = i.org_code::text
  WHERE r.group_code IS NOT NULL;

-- ----------------------------
-- View structure for v_data_mi_group_result
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_data_mi_group_result";
CREATE VIEW "public"."v_data_mi_group_result" AS  SELECT r.si_group_result_id,
    r.mdc_id,
    r.hosp_id,
    r.inbed_reg_id,
    r.inbed_bill_id,
    r.mission_id,
    r.drg_id,
    r.dip_id,
    r.dep_id,
    r.adrg_id,
    r.psn_id,
    r.org_id,
    r.bill_no,
    r.bill_dt,
    r.total_amt,
    r.self_amt,
    r.mi_pay_amt,
    r.self_pay_amt,
    r.acct_pay_amt,
    r.cash_pay_amt,
    r.drug_amt,
    r.diag_amt,
    r.med_sup_amt,
    r.dep_code,
    r.dep_name,
    r.dr_resid_code,
    r.dr_resid_name,
    r.dr_atten_code,
    r.dr_atten_name,
    r.inbed_days,
    r.create_user_id,
    r.create_user,
    r.create_dt,
    r.modify_user_id,
    r.modify_user,
    r.modify_dt,
    r.status,
    r.note,
    r.patient_no,
    r.patient_name,
    r.idcard,
    r.birth_day,
    r.psn_age_day,
    r.psn_age,
    r.gender_code,
    r.gender_name,
    r.psn_type_id,
    r.psn_type_code,
    r.psn_type_name,
    r.si_type_id,
    r.si_type_code,
    r.si_type_name,
    r.paymtd_id,
    r.paymtd_code,
    r.paymtd_name,
    r.org_code,
    r.org_name,
    r.hosp_code,
    r.hosp_name,
    r.chs_ver_code,
    r.chs_ver_name,
    r.chs_ver_type,
    r.group_dt,
    r.mdc_code,
    r.mdc_name,
    r.adrg_code,
    r.adrg_name,
    r.group_code,
    r.group_name,
    r.group_point,
    r.group_value,
    r.group_adjust,
    r.group_pay_std,
    r.main_diag,
    r.main_opt,
    r.disease_type,
    r.si_case_type,
    r.year,
    r.bill_type,
    r.mi_rel_pay_amt,
    r.def_pay_amt,
    r.group_last_point,
    r.inbed_reg_code,
    r.main_diag_code,
    r.main_opt_code,
    r.main_diag_id,
    r.main_opt_id,
    r.visit_id,
    r.appeal_request,
    r.appeal_content,
    r.appeal_begin_dt,
    r.review_user_id,
    r.review_user,
    r.review_dt,
    r.review_content,
    r.complete_user_id,
    r.complete_user,
    r.complete_dt,
    r.appeal_user_id,
    r.appeal_user,
    r.appeal_dt,
    r.appeal_end_dt,
    r.inbed_dt,
    r.outbed_dt,
    to_char(r.bill_dt, 'yyyymm'::text) AS month,
    i.rw,
    r.inbed_days::double precision / i.inbed_days_avg AS time_factor,
    r.total_amt::double precision / i.total_amt_avg AS fee_factor
   FROM t_data_mi_group_result r
     LEFT JOIN t_data_group_indicator i ON r.group_code::text = i.group_code::text AND r.year::text = i.yearly::text AND r.org_code::text = i.org_code::text
  WHERE r.group_code IS NOT NULL;

-- ----------------------------
-- View structure for v_workload_doc_sur_award_nub
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_doc_sur_award_nub";
CREATE VIEW "public"."v_workload_doc_sur_award_nub" AS  SELECT op.operation_doctor_code AS doctor_code,
    ib.yyyy_mm,
    r.dept_code,
    r.dept_name,
    count(DISTINCT
        CASE
            WHEN sl."手术级别"::text = '三级'::text THEN ib.mdtrt_id
            ELSE NULL::character varying
        END) * 100 AS total_ssjl3,
    count(DISTINCT
        CASE
            WHEN sl."手术级别"::text = '四级'::text THEN ib.mdtrt_id
            ELSE NULL::character varying
        END) * 500 AS total_ssjl4
   FROM t_workload_inbed_bill ib
     JOIN t_workload_opera_f op ON ib.mdtrt_id::text = op.inbed_code::text
     JOIN t_workload_surgery_level sl ON op.operation_code::text = sl."编码"::text
     JOIN t_workload_inbed_reg_f r ON r.mdtrt_id::text = ib.mdtrt_id::text
  WHERE op.operation_number::text = '1'::text AND (sl."手术级别"::text = ANY (ARRAY['三级'::character varying, '四级'::character varying]::text[]))
  GROUP BY op.operation_doctor_code, ib.yyyy_mm, r.dept_code, r.dept_name;

-- ----------------------------
-- View structure for v_workload_dep_doc_code
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_dep_doc_code";
CREATE VIEW "public"."v_workload_dep_doc_code" AS  SELECT DISTINCT t_workload_inp.yyyy_mm,
    t_workload_inp.ordered_by,
    t_workload_inp.performed_by,
    t_workload_inp.order_doctor,
    t_workload_inp.perform_doctor,
    '住院'::text AS type
   FROM t_workload_inp
UNION
 SELECT DISTINCT t_workload_outp.yyyy_mm,
    t_workload_outp.ordered_by,
    t_workload_outp.performed_by,
    t_workload_outp.ordered_by_doctor AS order_doctor,
    t_workload_outp.performed_by_doctor AS perform_doctor,
    '门诊'::text AS type
   FROM t_workload_outp;

-- ----------------------------
-- View structure for v_workload_doc_month
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_doc_month";
CREATE VIEW "public"."v_workload_doc_month" AS  SELECT d.yyyy_mm,
    h."工号",
    h."姓名"
   FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
           FROM t_workload_inp) d
     CROSS JOIN ( SELECT DISTINCT t_workload_doc_2dep_def."工号",
            t_workload_doc_2dep_def."姓名"
           FROM t_workload_doc_2dep_def) h;

-- ----------------------------
-- View structure for v_workload_dep_his_month
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_dep_his_month";
CREATE VIEW "public"."v_workload_dep_his_month" AS  SELECT d.yyyy_mm,
    h."绩效科室ID",
    h."绩效科室名称",
    h."HIS科室编码",
    h."HIS科室名称"
   FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
           FROM t_workload_inp) d
     CROSS JOIN ( SELECT DISTINCT t_workload_dep_def2his."绩效科室ID",
            t_workload_dep_def2his."绩效科室名称",
            t_workload_dep_def2his."HIS科室编码",
            t_workload_dep_def2his."HIS科室名称"
           FROM t_workload_dep_def2his) h;

-- ----------------------------
-- View structure for v_workload_log
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_log";
CREATE VIEW "public"."v_workload_log" AS  SELECT log_id AS "序号",
    step_id AS "步骤序号",
    func_name AS "函数名称",
    description AS "函数功能",
    start_time AS "开始执行时间",
    status AS "执行状态",
    error_message AS "错误信息",
    end_time AS "结束时间"
   FROM t_workload_log;

-- ----------------------------
-- View structure for v_yb_tb_inbed_reg
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_yb_tb_inbed_reg";
CREATE VIEW "public"."v_yb_tb_inbed_reg" AS  SELECT inbed_reg_id,
    hosp_id,
    org_id,
    create_user_id,
    create_user,
    create_dt,
    modify_user_id,
    modify_user,
    modify_dt,
    status,
    note,
    patient_no,
    patient_name,
    idcard,
    to_char(birth_day, 'yyyy-mm-dd hh24:mi:ss'::text) AS birth_day,
    psn_age_day,
    psn_age,
    gender_code,
    gender_name,
    psn_type_id,
    psn_type_code,
    psn_type_name,
    si_type_id,
    si_type_code,
    si_type_name,
    paymtd_id,
    paymtd_code,
    paymtd_name,
    org_code,
    org_name,
    hosp_code,
    hosp_name,
    inbed_reg_code,
    visit_id,
    inbed_status,
    to_char(inbed_dt, 'yyyy-mm-dd hh24:mi:ss'::text) AS inbed_dt,
    inbed_dep_code,
    inbed_dep_name,
    inbed_area_code,
    inbed_area_name,
    inbed_bed_code,
    to_char(outbed_dt, 'yyyy-mm-dd hh24:mi:ss'::text) AS outbed_dt,
    outbed_dep_code,
    outbed_dep_name,
    outbed_area_code,
    outbed_area_name,
    outbed_bed_code,
    inbed_days,
    inbed_result,
    dr_atten_code,
    dr_atten_name,
    dr_resid_code,
    dr_resid_name,
    dep_id,
    psn_id,
    dr_atten_psn_id
   FROM t_data_inbed_reg_d
  WHERE inbed_status::text = '已出院'::text;

-- ----------------------------
-- View structure for v_yb_tb_inbed_diag
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_yb_tb_inbed_diag";
CREATE VIEW "public"."v_yb_tb_inbed_diag" AS  SELECT d.inbed_diag_id,
    d.inbed_reg_id,
    d.icd10_id,
    d.icd_no,
    d.icd_code,
    d.icd_name,
    d.main_flag,
    d.dise_date,
    d.med_diag,
    d.diag_type,
    d.diag_class,
    d.adm_cond,
    r.hosp_code
   FROM t_data_inbed_diag_d d
     JOIN t_data_inbed_reg_d r ON r.inbed_reg_id::text = d.inbed_reg_id::text
  WHERE r.inbed_status::text = '已出院'::text;

-- ----------------------------
-- View structure for v_yb_tb_inbed_oper
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_yb_tb_inbed_oper";
CREATE VIEW "public"."v_yb_tb_inbed_oper" AS  SELECT o.inbed_reg_id,
    o.operation_id,
    o.operation_order,
    o.operation_name,
    o.operation_code,
    o.operation_date,
    o.operation_anesthesia_type,
    o.operation_doctor_name,
    o.operation_doctor_code,
    o.operation_analgesist,
    o.operation_analgesist_code,
    o.operation_level,
    o.operation_fir_doc_name,
    o.operation_fir_doc_code,
    o.operation_sec_doc_name,
    o.operation_sec_doc_code,
    o.operation_number,
    o.operation_type,
    o.operation_incision_type_code,
    o.operation_wound_heal_grad,
    o.status,
    o.complication_name,
    o.complication_code,
    o.is_major_iden,
    o.is_iatrogenic,
    o.operation_finish_date,
    o.is_complication,
    o.operation_record,
    o.record_doctor_code,
    o.record_doctor_name,
    o.modify_user_id,
    o.modify_user_name,
    o.inbed_code,
    o.create_time,
    o.hosp_id,
    o.api_type,
    o.anst_dr_code,
    o.anst_begntime,
    o.anst_endtime,
    o.anst_way,
    r.hosp_code
   FROM t_data_inbed_operation_file o
     JOIN t_data_inbed_reg_d r ON r.inbed_reg_id::text = o.inbed_reg_id::text
  WHERE r.inbed_status::text = '已出院'::text;

-- ----------------------------
-- View structure for v_yb_tb_inbed_bill
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_yb_tb_inbed_bill";
CREATE VIEW "public"."v_yb_tb_inbed_bill" AS  SELECT inbed_bill_id,
    hosp_id,
    inbed_reg_id,
    org_id,
    create_user_id,
    create_user,
    create_dt,
    modify_user_id,
    modify_user,
    modify_dt,
    status,
    note,
    patient_no,
    patient_name,
    idcard,
    birth_day,
    psn_age_day,
    psn_age,
    gender_code,
    gender_name,
    psn_type_id,
    psn_type_code,
    psn_type_name,
    si_type_id,
    si_type_code,
    si_type_name,
    paymtd_id,
    paymtd_code,
    paymtd_name,
    org_code,
    org_name,
    hosp_code,
    hosp_name,
    bill_no,
    bill_dt,
    total_amt,
    self_amt,
    mi_pay_amt,
    self_pay_amt,
    acct_pay_amt,
    cash_pay_amt,
    drug_amt,
    diag_amt,
    med_sup_amt,
    dr_resid_code,
    dr_resid_name,
    dr_atten_code,
    dr_atten_name,
    outbed_dt,
    inbed_days,
    outbed_dep_code,
    outbed_dep_name,
    outbed_area_code,
    outbed_area_name,
    outbed_bed_code,
    inbed_result,
    dep_id,
    psn_id,
    dr_atten_psn_id
   FROM t_data_inbed_bill_d b
  WHERE (EXISTS ( SELECT 1
           FROM t_data_inbed_reg_d r
          WHERE r.inbed_status::text = '已出院'::text AND r.inbed_reg_id::text = b.inbed_reg_id::text));

-- ----------------------------
-- View structure for v_yb_tb_inbed_bill_detail
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_yb_tb_inbed_bill_detail";
CREATE VIEW "public"."v_yb_tb_inbed_bill_detail" AS  SELECT d.inbed_bill_detail_id,
    d.hosp_med_sup_id,
    d.drug_id,
    d.med_sup_id,
    d.hosp_diag_id,
    d.inbed_bill_id,
    d.diag_id,
    d.hosp_drug_id,
    d.chi_drug_id,
    d.inbed_reg_id,
    d.fee_item_id,
    d.fee_item_type,
    d.mi_fee_type,
    d.mi_item_code,
    d.mi_item_name,
    d.hosp_item_code,
    d.hosp_item_name,
    d.fee_item_cnt,
    d.fee_item_price,
    d.fee_item_amt,
    d.fee_item_unit,
    d.fee_item_self_amt,
    to_char(d.fee_item_dt, 'yyyy-mm-dd hh24:mi:ss'::text) AS fee_item_dt,
    d.fee_item_spec,
    d.factory_name,
    d.fee_item_rel_cnt,
    d.fee_item_rel_amt,
    d.fee_item_rel_self_amt,
    d.group_no,
    d.fee_type,
    d.dep_code,
    d.dep_name,
    d.fee_flag,
    d.dep_id,
    d.psn_id,
    d.dr_resid_name,
    d.dr_resid_code,
    r.hosp_code
   FROM t_data_inbed_bill_detail_d d
     JOIN t_data_inbed_reg_d r ON r.inbed_reg_id::text = d.inbed_reg_id::text
  WHERE r.inbed_status::text = '已出院'::text;

-- ----------------------------
-- View structure for v_workload_total_costs
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_total_costs";
CREATE VIEW "public"."v_workload_total_costs" AS  WITH salary AS (
         SELECT "V_人员信息"."科室编码",
            "V_人员信息"."科室",
            "V_人员信息"."年",
            "V_人员信息"."月",
            ("V_人员信息"."年" || '-'::text) || "V_人员信息"."月" AS "年月",
            sum("V_人员信息"."实发工资")::numeric(18,2) AS "实发工资",
            sum("V_人员信息"."住房公积金-院部")::numeric(18,2) AS "住房公积金-院部",
            sum("V_人员信息"."住房公积金-个人")::numeric(18,2) AS "住房公积金-个人",
            sum("V_人员信息"."养老金-个人")::numeric(18,2) AS "养老金-个人",
            sum("V_人员信息"."养老金-院部")::numeric(18,2) AS "养老金-院部",
            sum("V_人员信息"."医保-个人")::numeric(18,2) AS "医保-个人",
            sum("V_人员信息"."医保-院部")::numeric(18,2) AS "医保-院部",
            sum("V_人员信息"."失业保险-个人")::numeric(18,2) AS "失业保险-个人",
            sum("V_人员信息"."失业保险-院部")::numeric(18,2) AS "失业保险-院部",
            sum("V_人员信息"."住房公积金-院部" + "V_人员信息"."住房公积金-个人" + "V_人员信息"."养老金-院部" + "V_人员信息"."养老金-个人" + "V_人员信息"."医保-院部" + "V_人员信息"."医保-个人" + "V_人员信息"."失业保险-院部" + "V_人员信息"."失业保险-个人")::numeric(18,2) AS "五险一金总额",
            sum("V_人员信息"."实发工资" + "V_人员信息"."住房公积金-个人" + "V_人员信息"."养老金-个人" + "V_人员信息"."医保-个人" + "V_人员信息"."失业保险-个人")::numeric(18,2) AS "应发工资总额",
            sum("V_人员信息"."实发工资" + "V_人员信息"."住房公积金-院部" + "V_人员信息"."住房公积金-个人" + "V_人员信息"."养老金-院部" + "V_人员信息"."养老金-个人" + "V_人员信息"."医保-院部" + "V_人员信息"."医保-个人" + "V_人员信息"."失业保险-院部" + "V_人员信息"."失业保险-个人")::numeric(18,2) AS "单位用人总成本"
           FROM "V_人员信息"
          GROUP BY "V_人员信息"."科室编码", "V_人员信息"."科室", "V_人员信息"."年", "V_人员信息"."月"
        )
 SELECT salary."年月",
    t_workload_dep_def2fina."绩效科室ID",
    t_workload_dep_def2fina."绩效科室名称",
    t_workload_dep_def2fina."财务科室名称",
    "V_科室直接成本"."科室分类",
    "V_科室直接成本"."人员经费",
    "V_科室直接成本"."卫生材料费",
    "V_科室直接成本"."药品费",
    "V_科室直接成本"."固定资产折旧",
    "V_科室直接成本"."无形资产摊销",
    "V_科室直接成本"."计提医疗风险金",
    "V_科室直接成本"."其他费用",
    salary."实发工资",
    salary."住房公积金-院部",
    salary."住房公积金-个人",
    salary."养老金-个人",
    salary."养老金-院部",
    salary."医保-个人",
    salary."医保-院部",
    salary."失业保险-个人",
    salary."失业保险-院部",
    salary."五险一金总额",
    salary."应发工资总额",
    salary."单位用人总成本"
   FROM t_workload_dep_def2fina
     JOIN "V_科室直接成本" ON t_workload_dep_def2fina."财务科室编码"::text = "V_科室直接成本"."科室编码"::text
     JOIN salary ON salary."科室编码"::text = "V_科室直接成本"."科室编码"::text AND salary."年" = "V_科室直接成本"."年" AND salary."月" = "V_科室直接成本"."月"
  ORDER BY salary."年月";

-- ----------------------------
-- View structure for t_data_inbed_reg
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_data_inbed_reg";
CREATE VIEW "public"."t_data_inbed_reg" AS  SELECT r.mdtrt_id AS inbed_reg_id,
    h.hosp_id,
    h.org_id,
    NULL::character varying(50) AS create_user_id,
    NULL::character varying(200) AS create_user,
    NULL::timestamp without time zone AS create_dt,
    NULL::character varying(50) AS modify_user_id,
    NULL::character varying(200) AS modify_user,
    NULL::timestamp without time zone AS modify_dt,
    '正常'::text AS status,
    NULL::character varying(500) AS note,
    r.patn_code AS patient_no,
    r.patn_name AS patient_name,
    r.idcard,
    r.brdy AS birth_day,
    NULL::text AS psn_age_day,
    NULL::text AS psn_age,
    r.gend AS gender_code,
        CASE r.gend
            WHEN '1'::text THEN '男'::text
            WHEN '2'::text THEN '女'::text
            ELSE '其他'::text
        END AS gender_name,
    NULL::text AS psn_type_id,
    NULL::text AS psn_type_code,
    NULL::text AS psn_type_name,
    NULL::text AS si_type_id,
        CASE
            WHEN r.insutype::text = ANY (ARRAY['1'::character varying::text, '310'::character varying::text, '340'::character varying::text]) THEN '310'::text
            WHEN r.insutype::text = ANY (ARRAY['2'::character varying::text, '3'::character varying::text, '390'::character varying::text]) THEN '390'::text
            ELSE NULL::text
        END AS si_type_code,
        CASE
            WHEN r.insutype::text = ANY (ARRAY['1'::character varying::text, '310'::character varying::text, '340'::character varying::text]) THEN '城职'::text
            WHEN r.insutype::text = ANY (ARRAY['2'::character varying::text, '3'::character varying::text, '390'::character varying::text]) THEN '城居'::text
            ELSE NULL::text
        END AS si_type_name,
    r.hi_paymtd AS paymtd_id,
    NULL::text AS paymtd_code,
    NULL::text AS paymtd_name,
    NULL::text AS org_code,
    o.org_name,
    h.hosp_code,
    h.hosp_name,
    r.mdtrt_id AS inbed_reg_code,
    r.mdtrt_id AS visit_id,
        CASE r.inbed_status
            WHEN '1'::text THEN '已出院'::text
            ELSE '在院'::text
        END AS inbed_status,
    r.adm_date AS inbed_dt,
    r.adm_dept_code AS inbed_dep_code,
    r.adm_dept_name AS inbed_dep_name,
    r.adm_wardarea_code AS inbed_area_code,
    r.adm_wardarea_name AS inbed_area_name,
    r.bedno AS inbed_bed_code,
    r.dscg_date AS outbed_dt,
    r.dscg_dept_code AS outbed_dep_code,
    r.dscg_dept_name AS outbed_dep_name,
    r.dscg_wardarea_code AS outbed_area_code,
    r.dscg_wardarea_name AS outbed_area_name,
    r.bedno AS outbed_bed_code,
    r.act_ipt_days AS inbed_days,
    NULL::text AS inbed_result,
    r.atten_dr_code AS dr_atten_code,
    r.atten_dr_name AS dr_atten_name,
    r.resi_dr_code AS dr_resid_code,
    r.resi_dr_name AS dr_resid_name,
    r.dscg_dept_code AS dep_id,
    r.resi_dr_code AS psn_id,
    r.atten_dr_code AS dr_atten_psn_id,
    r.medical_number,
    r.inbed_cnt,
    r.bill_dt,
    NULL::text AS nwb_bir_wt
   FROM t_workload_inbed_reg_f2 r
     JOIN t_hosp_info h ON r.hosp_code::text = h.hosp_code::text
     LEFT JOIN t_chs_org o ON r.poolarea::text = o.org_code::text;

-- ----------------------------
-- View structure for t_data_inbed_bill
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_data_inbed_bill";
CREATE VIEW "public"."t_data_inbed_bill" AS  SELECT b.bill_id AS inbed_bill_id,
    r.hosp_id,
    b.mdtrt_id AS inbed_reg_id,
    r.org_id,
    r.create_user_id,
    r.create_user,
    r.create_dt,
    r.modify_user_id,
    r.modify_user,
    r.modify_dt,
    r.status,
    r.note,
    r.patient_no,
    r.patient_name,
    r.idcard,
    r.birth_day,
    r.psn_age_day,
    r.psn_age,
    r.gender_code,
    r.gender_name,
    r.psn_type_id,
    r.psn_type_code,
    r.psn_type_name,
    r.si_type_id,
    r.si_type_code,
    r.si_type_name,
    r.paymtd_id,
    r.paymtd_code,
    r.paymtd_name,
    r.org_code,
    r.org_name,
    b.hosp_code,
    r.hosp_name,
    b.bill_code AS bill_no,
    b.bill_dt,
    b.total_amt,
    b.self_amt,
    b.mi_pay_amt,
    b.self_pay_amt,
    b.acct_pay_amt,
    b.cash_amt AS cash_pay_amt,
    b.drug_amt,
    b.diag_amt,
    b.med_sup_amt,
    r.dr_resid_code,
    r.dr_resid_name,
    r.dr_atten_code,
    r.dr_atten_name,
    r.outbed_dt,
    r.inbed_days,
    r.outbed_dep_code,
    r.outbed_dep_name,
    r.outbed_area_code,
    r.outbed_area_name,
    r.outbed_bed_code,
    r.inbed_result,
    r.dep_id,
    r.psn_id,
    r.dr_atten_psn_id
   FROM t_workload_inbed_bill_f2 b,
    t_data_inbed_reg r
  WHERE b.mdtrt_id::text = r.inbed_reg_id::text;

-- ----------------------------
-- View structure for v_workload_person
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_person";
CREATE VIEW "public"."v_workload_person" AS  SELECT (p."年" || '-'::text) || lpad(p."月"::text, 2, '0'::text) AS "年月",
    t."绩效科室ID",
    t."绩效科室名称",
    p."员工编码",
    p."员工姓名",
    p."年",
    p."月",
    p."科室编码",
    p."科室",
    p."员工状态",
    p."实发工资",
    p."发薪次数",
    p."住房公积金-院部",
    p."住房公积金-个人",
    p."养老金-个人",
    p."养老金-院部",
    p."医保-个人",
    p."医保-院部",
    p."失业保险-个人",
    p."失业保险-院部",
    p."发薪组织"
   FROM "V_人员信息" p
     JOIN t_workload_dep_def2fina t ON t."财务科室编码"::text = p."科室编码"::text
  ORDER BY p."年", p."月", p."科室编码", p."员工编码";

-- ----------------------------
-- View structure for t_hosp_chi_drug
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_hosp_chi_drug";
CREATE VIEW "public"."t_hosp_chi_drug" AS  SELECT d.chi_drug_code AS chi_drug_id,
    d.chi_drug_code AS drug_id,
    h.hosp_id,
    h.create_user_id,
    h.create_user,
    h.create_dt,
    h.modify_user_id,
    h.modify_user,
    h.modify_dt,
    '正常'::text AS status,
    NULL::character varying(500) AS note,
    d.chi_drug_code,
    d.chi_drug_name,
    d.hilist_code AS mi_item_code,
    NULL::text AS hosp_account_type_id,
    NULL::text AS hosp_page_fee_type_id,
    NULL::text AS hosp_fee_type_id,
    NULL::text AS fee_item_type_id
   FROM fdw.v_hosp_chi_drug d,
    t_hosp_info h
  WHERE d.hosp_code::text = h.hosp_code::text;

-- ----------------------------
-- View structure for v_workload_matrix_outp
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix_outp";
CREATE VIEW "public"."v_workload_matrix_outp" AS  SELECT t_workload_outp.yyyy_mm,
    sum(t_workload_outp.zcfjl) AS total_zcfjl,
    sum(t_workload_outp.ghfjl) AS total_ghfjl,
    sum(t_workload_outp.zyjx) AS total_zyjx,
    sum(t_workload_outp.jrjx) AS total_jrjx,
    sum(t_workload_outp.ssjx) AS total_ssjx,
    sum(t_workload_outp.outp_bill) AS total_outp_bill,
    NULL::numeric AS total_zxjx,
    NULL::numeric AS total_outp_nurse,
    t_workload_outp.ordered_by AS department,
    t_workload_outp.ordered_by_doctor AS doctor,
    '临床医技'::text AS wk_type
   FROM t_workload_outp
  GROUP BY t_workload_outp.yyyy_mm, t_workload_outp.ordered_by, t_workload_outp.ordered_by_doctor
UNION ALL
 SELECT t_workload_outp.yyyy_mm,
    NULL::numeric AS total_zcfjl,
    NULL::numeric AS total_ghfjl,
    NULL::numeric AS total_zyjx,
    NULL::numeric AS total_jrjx,
    NULL::numeric AS total_ssjx,
    NULL::numeric AS total_outp_bill,
    sum(t_workload_outp.outp_exec) AS total_zxjx,
    NULL::numeric AS total_outp_nurse,
    t_workload_outp.performed_by AS department,
    t_workload_outp.performed_by_doctor AS doctor,
    '临床医技'::text AS wk_type
   FROM t_workload_outp
  GROUP BY t_workload_outp.yyyy_mm, t_workload_outp.performed_by, t_workload_outp.performed_by_doctor
UNION ALL
 SELECT t_workload_outp.yyyy_mm,
    NULL::numeric AS total_zcfjl,
    NULL::numeric AS total_ghfjl,
    NULL::numeric AS total_zyjx,
    NULL::numeric AS total_jrjx,
    NULL::numeric AS total_ssjx,
    NULL::numeric AS total_outp_bill,
    NULL::numeric AS total_zxjx,
    sum(t_workload_outp.outp_nurse) AS total_outp_nurse,
    t_workload_outp.ward_code AS department,
    'nurse'::character varying AS doctor,
    '护理'::text AS wk_type
   FROM t_workload_outp
  GROUP BY t_workload_outp.yyyy_mm, t_workload_outp.ward_code;

-- ----------------------------
-- View structure for t_workload_psn
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_workload_psn";
CREATE VIEW "public"."t_workload_psn" AS  SELECT org_code AS hosp_id,
    staff_code AS psn_code,
    name AS psn_name,
    status_code
   FROM t_workload_psn_f;

-- ----------------------------
-- View structure for t_hosp_diag
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_hosp_diag";
CREATE VIEW "public"."t_hosp_diag" AS  SELECT d.med_item_code AS hosp_diag_id,
    h.hosp_id,
    d.hilist_code AS diag_id,
    h.create_user_id,
    h.create_user,
    h.create_dt,
    h.modify_user_id,
    h.modify_user,
    h.modify_dt,
    '正常'::text AS status,
    NULL::character varying(500) AS note,
    d.med_item_code AS hosp_diag_code,
    d.hel_item_name AS hosp_diag_name,
    d.prcunt AS price_unit,
    NULL::text AS price_note,
    NULL::text AS diag_except,
    NULL::text AS diag_content,
    d.hilist_code AS mi_item_code,
    NULL::text AS diag_type_id,
    NULL::text AS hosp_account_type_id,
    NULL::text AS hosp_page_fee_type_id,
    NULL::text AS hosp_fee_type_id,
    NULL::text AS medical_diag_id,
    NULL::text AS fee_item_type_id
   FROM fdw.v_hosp_diag d,
    t_hosp_info h
  WHERE d.hosp_code::text = h.hosp_code::text;

-- ----------------------------
-- View structure for v_workload_dep_month
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_dep_month";
CREATE VIEW "public"."v_workload_dep_month" AS  SELECT d.yyyy_mm,
    h."绩效科室ID",
    h."绩效科室名称",
    h."绩效科室属性",
    h."绩效科室类别",
    h."绩效科室类型",
    h."工作量单价",
    h."工作量系数",
    h."人数"
   FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
           FROM t_workload_inp) d
     CROSS JOIN ( SELECT DISTINCT t_workload_dep_def."绩效科室ID",
            t_workload_dep_def."绩效科室名称",
            t_workload_dep_def."绩效科室属性",
            t_workload_dep_def."绩效科室类别",
            t_workload_dep_def."绩效科室类型",
            t_workload_dep_def."工作量单价",
            t_workload_dep_def."工作量系数",
            t_workload_dep_def."人数"
           FROM t_workload_dep_def) h;

-- ----------------------------
-- View structure for t_hosp_dep
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_hosp_dep";
CREATE VIEW "public"."t_hosp_dep" AS  SELECT d.hosp_dept_code AS dep_id,
    h.hosp_id,
    NULL::character varying(50) AS create_user_id,
    NULL::character varying(200) AS create_user,
    NULL::timestamp without time zone AS create_dt,
    NULL::character varying(50) AS modify_user_id,
    NULL::character varying(200) AS modify_user,
    NULL::timestamp without time zone AS modify_dt,
    '正常'::text AS status,
    NULL::character varying(500) AS note,
    d.hosp_dept_code AS dep_code,
    d.hosp_dept_name AS dep_name,
    d.is_wardarea,
    d.aprv_bed_cnt,
    NULL::character varying(50) AS dep_type_id
   FROM fdw.v_hosp_dep d,
    t_hosp_info h
  WHERE d.hosp_code::text = h.hosp_code::text;

-- ----------------------------
-- View structure for t_hosp_medsup
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_hosp_medsup";
CREATE VIEW "public"."t_hosp_medsup" AS  SELECT d.med_sup_code AS hosp_med_sup_id,
    d.med_sup_code AS med_sup_id,
    h.hosp_id,
    h.create_user_id,
    h.create_user,
    h.create_dt,
    h.modify_user_id,
    h.modify_user,
    h.modify_dt,
    h.status,
    NULL::text AS note,
    d.med_sup_code AS hosp_medsup_code,
    d.med_sup_name AS hosp_medsup_name,
    d.reg_no,
    d.reg_name,
    d.pro_mod,
    d.sup_matrl,
    NULL::text AS sup_spec,
    NULL::text AS factory_name,
    d.hilist_code AS mi_item_code,
    NULL::text AS hosp_account_type_id,
    NULL::text AS hosp_page_fee_type_id,
    NULL::text AS hosp_fee_type_id,
    NULL::text AS fee_item_type_id
   FROM fdw.v_hosp_medsup d,
    t_hosp_info h
  WHERE d.hosp_code::text = h.hosp_code::text;

-- ----------------------------
-- View structure for t_hosp_psn
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_hosp_psn";
CREATE VIEW "public"."t_hosp_psn" AS  SELECT p.prac_psn_no AS psn_id,
    h.hosp_id,
    h.create_user_id,
    h.create_user,
    h.create_dt,
    h.modify_user_id,
    h.modify_user,
    h.modify_dt,
    '正常'::text AS status,
    NULL::character varying(500) AS note,
    p.prac_psn_no AS psn_code,
    p.prac_psn_name AS psn_name,
    p.medins_psn_type AS med_psn_type,
    p.drord_dr_profttl AS doctor_title
   FROM fdw.v_hosp_psn p,
    t_hosp_info h
  WHERE p.hosp_code::text = h.hosp_code::text;

-- ----------------------------
-- View structure for v_workload_matrix_award
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix_award";
CREATE VIEW "public"."v_workload_matrix_award" AS  WITH all_doctors AS (
         SELECT DISTINCT d.yyyy_mm,
            h.doc_code AS doctor_id,
            h."姓名" AS doctor_name
           FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
                   FROM t_workload_inp) d
             CROSS JOIN ( SELECT DISTINCT v_workload_psn_list.doc_code,
                    v_workload_psn_list."姓名"
                   FROM v_workload_psn_list) h
        ), inp_workload_agg AS (
         SELECT v_workload_matrix_inp.yyyy_mm,
            v_workload_matrix_inp.doctor,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            NULL::numeric AS total_zyjx,
            NULL::numeric AS total_jrjx,
            NULL::numeric AS total_ssjx,
            NULL::numeric AS total_inp_bill,
            NULL::numeric AS total_zxjx,
            NULL::numeric AS total_inp_nurse
           FROM v_workload_matrix_inp
          WHERE v_workload_matrix_inp.doctor IS NOT NULL
          GROUP BY v_workload_matrix_inp.yyyy_mm, v_workload_matrix_inp.doctor
        ), outp_workload_agg AS (
         SELECT v_workload_matrix_outp.yyyy_mm,
            v_workload_matrix_outp.doctor,
            sum(COALESCE(v_workload_matrix_outp.total_zcfjl, 0::numeric)) AS total_zcfjl,
            sum(COALESCE(v_workload_matrix_outp.total_ghfjl, 0::numeric)) AS total_ghfjl,
            NULL::numeric AS total_zyjx,
            NULL::numeric AS total_jrjx,
            NULL::numeric AS total_ssjx,
            NULL::numeric AS total_outp_bill,
            NULL::numeric AS total_zxjx,
            NULL::numeric AS total_outp_nurse
           FROM v_workload_matrix_outp
          WHERE v_workload_matrix_outp.doctor IS NOT NULL
          GROUP BY v_workload_matrix_outp.yyyy_mm, v_workload_matrix_outp.doctor
        ), surgery_award_agg AS (
         SELECT v_workload_doc_sur_award.yyyy_mm,
            v_workload_doc_sur_award.doctor_code,
            sum(COALESCE(v_workload_doc_sur_award.total_ssjl3::numeric, 0::numeric)) AS total_ssjl3,
            sum(COALESCE(v_workload_doc_sur_award.total_ssjl4::numeric, 0::numeric)) AS total_ssjl4
           FROM v_workload_doc_sur_award
          WHERE v_workload_doc_sur_award.doctor_code IS NOT NULL
          GROUP BY v_workload_doc_sur_award.yyyy_mm, v_workload_doc_sur_award.doctor_code
        ), base_result AS (
         SELECT d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            COALESCE(i.total_zcfjl, 0::numeric) AS inp_zcfjl,
            COALESCE(i.total_ghfjl, 0::numeric) AS inp_ghfjl,
            COALESCE(i.total_zyjx, 0::numeric) AS inp_zyjx,
            COALESCE(i.total_jrjx, 0::numeric) AS inp_jrjx,
            COALESCE(i.total_ssjx, 0::numeric) AS inp_ssjx,
            COALESCE(i.total_inp_bill, 0::numeric) AS inp_bill,
            COALESCE(i.total_zxjx, 0::numeric) AS inp_zxjx,
            COALESCE(i.total_inp_nurse, 0::numeric) AS inp_nurse,
            COALESCE(o.total_zcfjl, 0::numeric) AS outp_zcfjl,
            COALESCE(o.total_ghfjl, 0::numeric) AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0::numeric) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0::numeric) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0::numeric) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0::numeric) AS outp_bill,
            COALESCE(o.total_zxjx, 0::numeric) AS outp_zxjx,
            COALESCE(o.total_outp_nurse, 0::numeric) AS outp_nurse,
            COALESCE(s.total_ssjl3, 0::numeric) AS surgery_award_3,
            COALESCE(s.total_ssjl4, 0::numeric) AS surgery_award_4,
            COALESCE(s.total_ssjl3, 0::numeric) + COALESCE(s.total_ssjl4, 0::numeric) AS total_surgery_award
           FROM all_doctors d
             LEFT JOIN inp_workload_agg i ON d.yyyy_mm::text = i.yyyy_mm::text AND d.doctor_id::text = i.doctor::text
             LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text AND d.doctor_id::text = o.doctor::text
             LEFT JOIN surgery_award_agg s ON d.yyyy_mm::text = s.yyyy_mm::text AND d.doctor_id::text = s.doctor_code::text
        )
 SELECT br.yyyy_mm,
    doc."绩效科室ID",
    doc."绩效科室名称",
    br.doctor_id,
    br.doctor_name,
    br.inp_zcfjl,
    br.inp_ghfjl,
    br.inp_zyjx,
    br.inp_jrjx,
    br.inp_ssjx,
    br.inp_bill,
    br.inp_zxjx,
    br.outp_zcfjl,
    br.outp_ghfjl,
    br.outp_zyjx,
    br.outp_jrjx,
    br.outp_ssjx,
    br.outp_bill,
    br.outp_zxjx,
    br.surgery_award_3,
    br.surgery_award_4,
    br.total_surgery_award,
    br.inp_nurse,
    br.outp_nurse
   FROM base_result br
     LEFT JOIN t_workload_doc_2dep_def doc ON doc."工号"::text = br.doctor_id::text
  WHERE (COALESCE(br.inp_zcfjl, 0::numeric) + COALESCE(br.inp_ghfjl, 0::numeric) + COALESCE(br.inp_zyjx, 0::numeric) + COALESCE(br.inp_jrjx, 0::numeric) + COALESCE(br.inp_ssjx, 0::numeric) + COALESCE(br.inp_bill, 0::numeric) + COALESCE(br.inp_zxjx, 0::numeric) + COALESCE(br.inp_nurse, 0::numeric) + COALESCE(br.outp_zcfjl, 0::numeric) + COALESCE(br.outp_ghfjl, 0::numeric) + COALESCE(br.outp_zyjx, 0::numeric) + COALESCE(br.outp_jrjx, 0::numeric) + COALESCE(br.outp_ssjx, 0::numeric) + COALESCE(br.outp_bill, 0::numeric) + COALESCE(br.outp_zxjx, 0::numeric) + COALESCE(br.outp_nurse, 0::numeric) + COALESCE(br.surgery_award_3, 0::numeric) + COALESCE(br.surgery_award_4, 0::numeric)) > 0::numeric;

-- ----------------------------
-- View structure for v_workload_matrix_doc_inp
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix_doc_inp";
CREATE VIEW "public"."v_workload_matrix_doc_inp" AS  WITH all_doctors AS (
         SELECT d.yyyy_mm,
            h_1.doc_code AS doctor_id,
            h_1."姓名" AS doctor_name
           FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
                   FROM t_workload_inp) d
             CROSS JOIN ( SELECT DISTINCT v_workload_psn_list.doc_code,
                    v_workload_psn_list."姓名"
                   FROM v_workload_psn_list) h_1
        ), all_departments AS (
         SELECT DISTINCT depts.department_code
           FROM ( SELECT t_workload_inp.ordered_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_inp.performed_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.performed_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.ordered_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.performed_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.performed_by IS NOT NULL
                UNION
                 SELECT v_workload_doc_sur_award.dept_code AS department_code
                   FROM v_workload_doc_sur_award
                  WHERE v_workload_doc_sur_award.dept_code IS NOT NULL
                UNION
                 SELECT v_workload_matrix_inp.department AS department_code
                   FROM v_workload_matrix_inp
                  WHERE v_workload_matrix_inp.department IS NOT NULL
                UNION
                 SELECT v_workload_matrix_outp.department AS department_code
                   FROM v_workload_matrix_outp
                  WHERE v_workload_matrix_outp.department IS NOT NULL) depts
        ), inp_workload_agg AS (
         SELECT v_workload_matrix_inp.yyyy_mm,
            v_workload_matrix_inp.doctor,
            v_workload_matrix_inp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_inp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_inp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_inp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_inp.total_inp_bill, 0::numeric)) AS total_inp_bill,
            sum(COALESCE(v_workload_matrix_inp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_inp.total_inp_nurse, 0::numeric)) AS total_inp_nurse
           FROM v_workload_matrix_inp
          WHERE v_workload_matrix_inp.doctor IS NOT NULL AND v_workload_matrix_inp.department IS NOT NULL
          GROUP BY v_workload_matrix_inp.yyyy_mm, v_workload_matrix_inp.doctor, v_workload_matrix_inp.department
        ), outp_workload_agg AS (
         SELECT v_workload_matrix_outp.yyyy_mm,
            v_workload_matrix_outp.doctor,
            v_workload_matrix_outp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_outp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_outp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_outp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_bill, 0::numeric)) AS total_outp_bill,
            sum(COALESCE(v_workload_matrix_outp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_nurse, 0::numeric)) AS total_outp_nurse
           FROM v_workload_matrix_outp
          WHERE v_workload_matrix_outp.doctor IS NOT NULL AND v_workload_matrix_outp.department IS NOT NULL
          GROUP BY v_workload_matrix_outp.yyyy_mm, v_workload_matrix_outp.doctor, v_workload_matrix_outp.department
        ), surgery_award_agg AS (
         SELECT v_workload_doc_sur_award.yyyy_mm,
            v_workload_doc_sur_award.doctor_code,
            v_workload_doc_sur_award.dept_code AS department_code,
            NULL::numeric AS total_ssjl3,
            NULL::numeric AS total_ssjl4
           FROM v_workload_doc_sur_award
          WHERE v_workload_doc_sur_award.doctor_code IS NOT NULL AND v_workload_doc_sur_award.dept_code IS NOT NULL
          GROUP BY v_workload_doc_sur_award.yyyy_mm, v_workload_doc_sur_award.doctor_code, v_workload_doc_sur_award.dept_code
        ), base_result AS (
         SELECT d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            dep.department_code,
            NULL::numeric AS inp_zcfjl,
            NULL::numeric AS inp_ghfjl,
            COALESCE(i.total_zyjx, 0::numeric) AS inp_zyjx,
            COALESCE(i.total_jrjx, 0::numeric) AS inp_jrjx,
            COALESCE(i.total_ssjx, 0::numeric) AS inp_ssjx,
            COALESCE(i.total_inp_bill, 0::numeric) AS inp_bill,
            COALESCE(i.total_zxjx, 0::numeric) AS inp_zxjx,
            COALESCE(i.total_inp_nurse, 0::numeric) AS inp_nurse,
            NULL::numeric AS outp_zcfjl,
            NULL::numeric AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0::numeric) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0::numeric) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0::numeric) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0::numeric) AS outp_bill,
            COALESCE(o.total_zxjx, 0::numeric) AS outp_zxjx,
            COALESCE(o.total_outp_nurse, 0::numeric) AS outp_nurse,
            NULL::numeric AS surgery_award_3,
            NULL::numeric AS surgery_award_4,
            NULL::numeric AS total_surgery_award
           FROM all_doctors d
             CROSS JOIN all_departments dep
             LEFT JOIN inp_workload_agg i ON d.yyyy_mm::text = i.yyyy_mm::text AND d.doctor_id::text = i.doctor::text AND dep.department_code::text = i.department::text
             LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text AND d.doctor_id::text = o.doctor::text AND dep.department_code::text = o.department::text
             LEFT JOIN surgery_award_agg s ON d.yyyy_mm::text = s.yyyy_mm::text AND d.doctor_id::text = s.doctor_code::text AND dep.department_code::text = s.department_code::text
        )
 SELECT br.yyyy_mm,
    h."绩效科室ID",
    h."绩效科室名称",
    br.doctor_id,
    br.doctor_name,
    br.department_code,
    br.inp_zcfjl,
    br.inp_ghfjl,
    br.inp_zyjx,
    br.inp_jrjx,
    br.inp_ssjx,
    br.inp_bill,
    br.inp_zxjx,
    0 AS outp_zcfjl,
    0 AS outp_ghfjl,
    0 AS outp_zyjx,
    0 AS outp_jrjx,
    0 AS outp_ssjx,
    0 AS outp_bill,
    0 AS outp_zxjx,
    0 AS surgery_award_3,
    0 AS surgery_award_4,
    0 AS total_surgery_award,
    0 AS inp_nurse,
    0 AS outp_nurse
   FROM base_result br
     LEFT JOIN t_workload_doc_2dep_def h ON h."工号"::text = br.doctor_id::text
  WHERE (COALESCE(br.inp_zcfjl, 0::numeric) + COALESCE(br.inp_ghfjl, 0::numeric) + COALESCE(br.inp_zyjx, 0::numeric) + COALESCE(br.inp_jrjx, 0::numeric) + COALESCE(br.inp_ssjx, 0::numeric) + COALESCE(br.inp_bill, 0::numeric) + COALESCE(br.inp_zxjx, 0::numeric) + COALESCE(br.inp_nurse, 0::numeric) + COALESCE(br.outp_zcfjl, 0::numeric) + COALESCE(br.outp_ghfjl, 0::numeric) + COALESCE(br.outp_zyjx, 0::numeric) + COALESCE(br.outp_jrjx, 0::numeric) + COALESCE(br.outp_ssjx, 0::numeric) + COALESCE(br.outp_bill, 0::numeric) + COALESCE(br.outp_zxjx, 0::numeric) + COALESCE(br.outp_nurse, 0::numeric) + COALESCE(br.surgery_award_3, 0::numeric) + COALESCE(br.surgery_award_4, 0::numeric)) > 0::numeric
  ORDER BY br.yyyy_mm, br.doctor_id, br.department_code;

-- ----------------------------
-- View structure for v_workload_matrix_doc_outp
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix_doc_outp";
CREATE VIEW "public"."v_workload_matrix_doc_outp" AS  WITH all_doctors AS (
         SELECT d.yyyy_mm,
            h_1.doc_code AS doctor_id,
            h_1."姓名" AS doctor_name
           FROM ( SELECT DISTINCT t_workload_inp.yyyy_mm
                   FROM t_workload_inp) d
             CROSS JOIN ( SELECT DISTINCT v_workload_psn_list.doc_code,
                    v_workload_psn_list."姓名"
                   FROM v_workload_psn_list) h_1
        ), all_departments AS (
         SELECT DISTINCT depts.department_code
           FROM ( SELECT t_workload_inp.ordered_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_inp.performed_by AS department_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.performed_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.ordered_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.ordered_by IS NOT NULL
                UNION
                 SELECT t_workload_outp.performed_by AS department_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.performed_by IS NOT NULL
                UNION
                 SELECT v_workload_doc_sur_award.dept_code AS department_code
                   FROM v_workload_doc_sur_award
                  WHERE v_workload_doc_sur_award.dept_code IS NOT NULL
                UNION
                 SELECT v_workload_matrix_inp.department AS department_code
                   FROM v_workload_matrix_inp
                  WHERE v_workload_matrix_inp.department IS NOT NULL
                UNION
                 SELECT v_workload_matrix_outp.department AS department_code
                   FROM v_workload_matrix_outp
                  WHERE v_workload_matrix_outp.department IS NOT NULL) depts
        ), outp_workload_agg AS (
         SELECT v_workload_matrix_outp.yyyy_mm,
            v_workload_matrix_outp.doctor,
            v_workload_matrix_outp.department,
            NULL::numeric AS total_zcfjl,
            NULL::numeric AS total_ghfjl,
            sum(COALESCE(v_workload_matrix_outp.total_zyjx, 0::numeric)) AS total_zyjx,
            sum(COALESCE(v_workload_matrix_outp.total_jrjx, 0::numeric)) AS total_jrjx,
            sum(COALESCE(v_workload_matrix_outp.total_ssjx, 0::numeric)) AS total_ssjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_bill, 0::numeric)) AS total_outp_bill,
            sum(COALESCE(v_workload_matrix_outp.total_zxjx, 0::numeric)) AS total_zxjx,
            sum(COALESCE(v_workload_matrix_outp.total_outp_nurse, 0::numeric)) AS total_outp_nurse
           FROM v_workload_matrix_outp
          WHERE v_workload_matrix_outp.doctor IS NOT NULL AND v_workload_matrix_outp.department IS NOT NULL
          GROUP BY v_workload_matrix_outp.yyyy_mm, v_workload_matrix_outp.doctor, v_workload_matrix_outp.department
        ), base_result AS (
         SELECT d.yyyy_mm,
            d.doctor_id,
            d.doctor_name,
            dep.department_code,
            NULL::numeric AS outp_zcfjl,
            NULL::numeric AS outp_ghfjl,
            COALESCE(o.total_zyjx, 0::numeric) AS outp_zyjx,
            COALESCE(o.total_jrjx, 0::numeric) AS outp_jrjx,
            COALESCE(o.total_ssjx, 0::numeric) AS outp_ssjx,
            COALESCE(o.total_outp_bill, 0::numeric) AS outp_bill,
            COALESCE(o.total_zxjx, 0::numeric) AS outp_zxjx
           FROM all_doctors d
             CROSS JOIN all_departments dep
             LEFT JOIN outp_workload_agg o ON d.yyyy_mm::text = o.yyyy_mm::text AND d.doctor_id::text = o.doctor::text AND dep.department_code::text = o.department::text
        )
 SELECT br.yyyy_mm,
    h."绩效科室ID",
    h."绩效科室名称",
    br.doctor_id,
    br.doctor_name,
    br.department_code,
    0 AS inp_zcfjl,
    0 AS inp_ghfjl,
    0 AS inp_zyjx,
    0 AS inp_jrjx,
    0 AS inp_ssjx,
    0 AS inp_bill,
    0 AS inp_zxjx,
    0 AS outp_zcfjl,
    0 AS outp_ghfjl,
    br.outp_zyjx,
    br.outp_jrjx,
    br.outp_ssjx,
    br.outp_bill,
    br.outp_zxjx,
    0 AS surgery_award_3,
    0 AS surgery_award_4,
    0 AS total_surgery_award,
    0 AS inp_nurse,
    0 AS outp_nurse
   FROM base_result br
     LEFT JOIN t_workload_doc_2dep_def h ON h."工号"::text = br.doctor_id::text
  WHERE (COALESCE(br.outp_jrjx, 0::numeric) + COALESCE(br.outp_ssjx, 0::numeric) + COALESCE(br.outp_bill, 0::numeric) + COALESCE(br.outp_zxjx, 0::numeric)) > 0::numeric
  ORDER BY br.yyyy_mm, br.doctor_id, br.department_code;

-- ----------------------------
-- View structure for v_workload_doc_perform_total
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_doc_perform_total";
CREATE VIEW "public"."v_workload_doc_perform_total" AS  WITH date_range AS (
         SELECT DISTINCT t_workload_inp.yyyy_mm
           FROM t_workload_inp
        ), department_info AS (
         SELECT DISTINCT t_workload_dep_def."绩效科室ID",
            t_workload_dep_def."绩效科室名称",
            t_workload_dep_def."绩效科室属性",
            t_workload_dep_def."绩效科室类别",
            t_workload_dep_def."绩效科室类型",
            t_workload_dep_def."工作量单价",
            t_workload_dep_def."工作量系数",
            t_workload_dep_def."人数",
            t_workload_dep_def."同类序号"
           FROM t_workload_dep_def
        ), main_data AS (
         SELECT d.yyyy_mm,
            h."绩效科室ID",
            h."绩效科室名称",
            h."绩效科室属性",
            h."绩效科室类别",
            h."绩效科室类型",
            h."工作量单价",
            h."工作量系数",
            h."人数",
            h."同类序号"
           FROM date_range d
             CROSS JOIN department_info h
        ), income_data AS (
         SELECT combined_data.yyyy_mm,
            combined_data.department,
            sum(combined_data.costs) AS total_cost
           FROM ( SELECT t_workload_inp.yyyy_mm,
                    t_workload_inp.patient_in_dept AS department,
                    t_workload_inp.costs
                   FROM t_workload_inp
                UNION ALL
                 SELECT t_workload_outp.yyyy_mm,
                    t_workload_outp.ordered_by AS department,
                    t_workload_outp.costs
                   FROM t_workload_outp) combined_data
          GROUP BY combined_data.yyyy_mm, combined_data.department
        ), department_income AS (
         SELECT s.yyyy_mm,
            h."绩效科室ID",
            sum(s.total_cost) AS total_income
           FROM income_data s
             LEFT JOIN t_workload_dep_def2his h ON h."HIS科室编码"::text = s.department::text
          GROUP BY s.yyyy_mm, h."绩效科室ID"
        ), workload_metrics_all AS (
         SELECT v_workload_matrix_award.yyyy_mm,
            v_workload_matrix_award."绩效科室ID",
            v_workload_matrix_award."绩效科室名称",
            v_workload_matrix_award.doctor_id,
            v_workload_matrix_award.doctor_name,
            v_workload_matrix_award.inp_zcfjl,
            v_workload_matrix_award.inp_ghfjl,
            v_workload_matrix_award.inp_zyjx,
            v_workload_matrix_award.inp_jrjx,
            v_workload_matrix_award.inp_ssjx,
            v_workload_matrix_award.inp_bill,
            v_workload_matrix_award.inp_zxjx,
            v_workload_matrix_award.outp_zcfjl,
            v_workload_matrix_award.outp_ghfjl,
            v_workload_matrix_award.outp_zyjx,
            v_workload_matrix_award.outp_jrjx,
            v_workload_matrix_award.outp_ssjx,
            v_workload_matrix_award.outp_bill,
            v_workload_matrix_award.outp_zxjx,
            v_workload_matrix_award.surgery_award_3,
            v_workload_matrix_award.surgery_award_4,
            v_workload_matrix_award.total_surgery_award,
            v_workload_matrix_award.inp_nurse,
            v_workload_matrix_award.outp_nurse
           FROM v_workload_matrix_award
        UNION
         SELECT v_workload_matrix_doc_inp.yyyy_mm,
            v_workload_matrix_doc_inp."绩效科室ID",
            v_workload_matrix_doc_inp."绩效科室名称",
            v_workload_matrix_doc_inp.doctor_id,
            v_workload_matrix_doc_inp.doctor_name,
            v_workload_matrix_doc_inp.inp_zcfjl,
            v_workload_matrix_doc_inp.inp_ghfjl,
            v_workload_matrix_doc_inp.inp_zyjx,
            v_workload_matrix_doc_inp.inp_jrjx,
            v_workload_matrix_doc_inp.inp_ssjx,
            v_workload_matrix_doc_inp.inp_bill,
            v_workload_matrix_doc_inp.inp_zxjx,
            v_workload_matrix_doc_inp.outp_zcfjl,
            v_workload_matrix_doc_inp.outp_ghfjl,
            v_workload_matrix_doc_inp.outp_zyjx,
            v_workload_matrix_doc_inp.outp_jrjx,
            v_workload_matrix_doc_inp.outp_ssjx,
            v_workload_matrix_doc_inp.outp_bill,
            v_workload_matrix_doc_inp.outp_zxjx,
            v_workload_matrix_doc_inp.surgery_award_3,
            v_workload_matrix_doc_inp.surgery_award_4,
            v_workload_matrix_doc_inp.total_surgery_award,
            v_workload_matrix_doc_inp.inp_nurse,
            v_workload_matrix_doc_inp.outp_nurse
           FROM v_workload_matrix_doc_inp
        UNION
         SELECT v_workload_matrix_doc_outp.yyyy_mm,
            v_workload_matrix_doc_outp."绩效科室ID",
            v_workload_matrix_doc_outp."绩效科室名称",
            v_workload_matrix_doc_outp.doctor_id,
            v_workload_matrix_doc_outp.doctor_name,
            v_workload_matrix_doc_outp.inp_zcfjl,
            v_workload_matrix_doc_outp.inp_ghfjl,
            v_workload_matrix_doc_outp.inp_zyjx,
            v_workload_matrix_doc_outp.inp_jrjx,
            v_workload_matrix_doc_outp.inp_ssjx,
            v_workload_matrix_doc_outp.inp_bill,
            v_workload_matrix_doc_outp.inp_zxjx,
            v_workload_matrix_doc_outp.outp_zcfjl,
            v_workload_matrix_doc_outp.outp_ghfjl,
            v_workload_matrix_doc_outp.outp_zyjx,
            v_workload_matrix_doc_outp.outp_jrjx,
            v_workload_matrix_doc_outp.outp_ssjx,
            v_workload_matrix_doc_outp.outp_bill,
            v_workload_matrix_doc_outp.outp_zxjx,
            v_workload_matrix_doc_outp.surgery_award_3,
            v_workload_matrix_doc_outp.surgery_award_4,
            v_workload_matrix_doc_outp.total_surgery_award,
            v_workload_matrix_doc_outp.inp_nurse,
            v_workload_matrix_doc_outp.outp_nurse
           FROM v_workload_matrix_doc_outp
        ), workload_metrics AS (
         SELECT workload_metrics_all.yyyy_mm,
            workload_metrics_all."绩效科室ID",
            workload_metrics_all."绩效科室名称",
            sum(workload_metrics_all.inp_zcfjl) AS total_inp_zcfjl,
            sum(workload_metrics_all.inp_ghfjl) AS total_inp_ghfjl,
            sum(workload_metrics_all.inp_zyjx) AS total_inp_zyjx,
            sum(workload_metrics_all.inp_jrjx) AS total_inp_jrjx,
            sum(workload_metrics_all.inp_ssjx) AS total_inp_ssjx,
            sum(workload_metrics_all.inp_bill) AS total_inp_bill,
            sum(workload_metrics_all.inp_zxjx) AS total_inp_zxjx,
            sum(workload_metrics_all.outp_zcfjl) AS total_outp_zcfjl,
            sum(workload_metrics_all.outp_ghfjl) AS total_outp_ghfjl,
            sum(workload_metrics_all.outp_zyjx) AS total_outp_zyjx,
            sum(workload_metrics_all.outp_jrjx) AS total_outp_jrjx,
            sum(workload_metrics_all.outp_ssjx) AS total_outp_ssjx,
            sum(workload_metrics_all.outp_bill) AS total_outp_bill,
            sum(workload_metrics_all.outp_zxjx) AS total_outp_zxjx,
            sum(workload_metrics_all.inp_nurse) AS total_inp_nurse,
            sum(workload_metrics_all.outp_nurse) AS total_outp_nurse,
            sum(workload_metrics_all.surgery_award_3) AS surgery_award_3,
            sum(workload_metrics_all.surgery_award_4) AS surgery_award_4
           FROM workload_metrics_all
          GROUP BY workload_metrics_all.yyyy_mm, workload_metrics_all."绩效科室ID", workload_metrics_all."绩效科室名称"
        ), award_metrics AS (
         SELECT v_workload_matrix_award.yyyy_mm,
            v_workload_matrix_award."绩效科室ID",
            v_workload_matrix_award."绩效科室名称",
            sum(v_workload_matrix_award.outp_zcfjl) AS total_outp_zcfjl,
            sum(v_workload_matrix_award.outp_ghfjl) AS total_outp_ghfjl,
            sum(v_workload_matrix_award.surgery_award_3) AS total_surgery_award_3,
            sum(v_workload_matrix_award.surgery_award_4) AS total_surgery_award_4,
            sum(v_workload_matrix_award.total_surgery_award) AS total_surgery_award_sum
           FROM v_workload_matrix_award
          GROUP BY v_workload_matrix_award.yyyy_mm, v_workload_matrix_award."绩效科室ID", v_workload_matrix_award."绩效科室名称"
        ), cost_metrics AS (
         SELECT v_workload_dep_cost_month."年月" AS yyyy_mm,
            v_workload_dep_cost_month."绩效科室ID",
            COALESCE(v_workload_dep_cost_month."科室直接成本", 0::numeric) AS "科室直接成本",
            COALESCE(v_workload_dep_cost_month."人员工资", 0::numeric) AS "人员工资",
            COALESCE(v_workload_dep_cost_month."五险一金", 0::numeric) AS "五险一金",
            COALESCE(v_workload_dep_cost_month."卫生材料", 0::numeric) AS "卫生材料",
            COALESCE(v_workload_dep_cost_month."其他材料", 0::numeric) AS "其他材料",
            COALESCE(v_workload_dep_cost_month."固定资产折旧", 0::numeric) AS "固定资产折旧",
            COALESCE(v_workload_dep_cost_month."无形资产摊销", 0::numeric) AS "无形资产摊销",
            COALESCE(v_workload_dep_cost_month."维修（护）费", 0::numeric) AS "维修（护）费",
            COALESCE(v_workload_dep_cost_month."培训费", 0::numeric) AS "培训费",
            COALESCE(v_workload_dep_cost_month."水费", 0::numeric) AS "水费",
            COALESCE(v_workload_dep_cost_month."电费", 0::numeric) AS "电费"
           FROM v_workload_dep_cost_month
        ), drg_metrics AS (
         SELECT v."年月",
            d."绩效科室ID",
            sum(v."DRG绩效") AS "DRG绩效总和",
            sum(v."总费用") AS "总费用总和",
            sum(v."总成本") AS "总成本总和"
           FROM v_workload_drg_bill_detail v
             JOIN t_workload_dep_def2his d ON d."HIS科室编码"::text = v."费用发生科室"::text
          WHERE v."转科" IS NULL
          GROUP BY v."年月", d."绩效科室ID"
        ), performance_calculations AS (
         SELECT main.yyyy_mm,
            main."绩效科室ID",
            main."绩效科室名称",
            main."绩效科室属性",
            main."绩效科室类别",
            main."绩效科室类型",
            main."工作量单价",
            main."工作量系数",
            main."人数",
            main."同类序号",
            COALESCE(income.total_income, 0::numeric) AS "总收入",
            COALESCE(aw.total_outp_zcfjl, 0::numeric) AS "诊察费奖励",
            COALESCE(aw.total_outp_ghfjl, 0::numeric) AS "挂号费奖励",
            COALESCE(aw.total_surgery_award_3, 0::numeric) AS "三级手术奖励",
            COALESCE(aw.total_surgery_award_4, 0::numeric) AS "四级手术奖励",
            COALESCE(wk.total_inp_zyjx, 0::numeric) AS "造影绩效",
            COALESCE(wk.total_inp_jrjx, 0::numeric) AS "介入绩效",
            COALESCE(wk.total_inp_bill, 0::numeric) AS "开单点数",
            COALESCE(wk.total_inp_zxjx, 0::numeric) AS "执行点数",
            COALESCE(wk.total_inp_ssjx, 0::numeric) AS "基础手术绩效",
            COALESCE(wk.total_inp_nurse, 0::numeric) AS "护理点数",
            COALESCE(wk.total_outp_zyjx, 0::numeric) AS "门诊造影绩效",
            COALESCE(wk.total_outp_jrjx, 0::numeric) AS "门诊介入绩效",
            COALESCE(wk.total_outp_bill, 0::numeric) AS "门诊开单点数",
            COALESCE(wk.total_outp_zxjx, 0::numeric) AS "门诊执行点数",
            COALESCE(wk.total_outp_ssjx, 0::numeric) AS "门诊基础手术绩效",
            COALESCE(wk.total_outp_nurse, 0::numeric) AS "门诊护理点数",
            COALESCE(drg."总成本总和", 0::numeric) AS "病种成本",
            COALESCE(drg."总费用总和", 0::numeric) AS "病种收入",
            COALESCE(drg."DRG绩效总和", 0::numeric) AS "DRG结余",
            COALESCE(cost."科室直接成本", 0::numeric) AS "科室直接成本",
            COALESCE(cost."人员工资", 0::numeric) AS "人员工资",
            COALESCE(cost."五险一金", 0::numeric) AS "五险一金",
            COALESCE(cost."卫生材料", 0::numeric) AS "卫生材料",
            COALESCE(cost."其他材料", 0::numeric) AS "其他材料",
            COALESCE(cost."固定资产折旧", 0::numeric) AS "固定资产折旧",
            COALESCE(cost."无形资产摊销", 0::numeric) AS "无形资产摊销",
            COALESCE(cost."维修（护）费", 0::numeric) AS "维修（护）费",
            COALESCE(cost."培训费", 0::numeric) AS "培训费",
            COALESCE(cost."水费", 0::numeric) AS "水费",
            COALESCE(cost."电费", 0::numeric) AS "电费",
            COALESCE(wk.total_inp_bill, 0::numeric) + COALESCE(wk.total_inp_zxjx, 0::numeric) AS inp_work_points,
            COALESCE(wk.total_outp_bill, 0::numeric) + COALESCE(wk.total_outp_zxjx, 0::numeric) AS outp_work_points,
            COALESCE(wk.total_inp_bill, 0::numeric) + COALESCE(wk.total_inp_zxjx, 0::numeric) + COALESCE(wk.total_outp_bill, 0::numeric) + COALESCE(wk.total_outp_zxjx, 0::numeric) AS work_points,
            COALESCE(wk.total_inp_nurse, 0::numeric) + COALESCE(wk.total_outp_nurse, 0::numeric) AS total_nursing_points,
            (COALESCE(wk.total_inp_bill, 0::numeric) + COALESCE(wk.total_inp_zxjx, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) AS inp_work_performance,
            (COALESCE(wk.total_outp_bill, 0::numeric) + COALESCE(wk.total_outp_zxjx, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) AS outp_work_performance,
            (COALESCE(wk.total_inp_bill, 0::numeric) + COALESCE(wk.total_inp_zxjx, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) + (COALESCE(wk.total_outp_bill, 0::numeric) + COALESCE(wk.total_outp_zxjx, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) AS work_performance,
            (COALESCE(wk.total_inp_nurse, 0::numeric) + COALESCE(wk.total_outp_nurse, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) AS nurse_performance,
            COALESCE(aw.total_surgery_award_3, 0::numeric) + COALESCE(aw.total_surgery_award_4, 0::numeric) + COALESCE(aw.total_outp_zcfjl, 0::numeric) + COALESCE(aw.total_outp_ghfjl, 0::numeric) AS work_bonus,
            (COALESCE(wk.total_inp_bill, 0::numeric) + COALESCE(wk.total_inp_zxjx, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) + (COALESCE(wk.total_outp_bill, 0::numeric) + COALESCE(wk.total_outp_zxjx, 0::numeric)) * COALESCE(main."工作量单价", 0::numeric) * COALESCE(main."工作量系数", 1::numeric) + (COALESCE(wk.total_inp_ssjx, 0::numeric) + COALESCE(wk.total_inp_zyjx, 0::numeric) + COALESCE(wk.total_inp_jrjx, 0::numeric) + COALESCE(wk.total_outp_ssjx, 0::numeric) + COALESCE(wk.total_outp_zyjx, 0::numeric) + COALESCE(wk.total_outp_jrjx, 0::numeric)) AS total_work_performance,
                CASE
                    WHEN main."绩效科室类型"::text = '外科'::text THEN 0.11
                    WHEN main."绩效科室类型"::text = '内科'::text THEN 0.09
                    WHEN main."绩效科室类型"::text = '重症'::text THEN 0.09
                    ELSE 0::numeric
                END AS difference_coefficient
           FROM main_data main
             LEFT JOIN workload_metrics wk ON main.yyyy_mm::text = wk.yyyy_mm::text AND main."绩效科室ID"::text = wk."绩效科室ID"::text
             LEFT JOIN award_metrics aw ON main.yyyy_mm::text = aw.yyyy_mm::text AND main."绩效科室ID"::text = aw."绩效科室ID"::text
             LEFT JOIN cost_metrics cost ON main.yyyy_mm::text = cost.yyyy_mm::text AND main."绩效科室ID"::text = cost."绩效科室ID"::text
             LEFT JOIN drg_metrics drg ON main.yyyy_mm::text = drg."年月" AND main."绩效科室ID"::text = drg."绩效科室ID"::text
             LEFT JOIN department_income income ON main.yyyy_mm::text = income.yyyy_mm::text AND main."绩效科室ID"::text = income."绩效科室ID"::text
        )
 SELECT yyyy_mm,
    "绩效科室ID",
    "绩效科室名称",
    "绩效科室属性",
    "绩效科室类别",
    "绩效科室类型",
    "同类序号",
    "工作量单价",
    "工作量系数",
    "人数",
    "总收入" AS "结算收入",
    "科室直接成本",
    (work_performance + "DRG结余" * difference_coefficient - "科室直接成本")::numeric(10,2) AS "工作量DRG绩效总和",
    inp_work_points::numeric(10,4) AS "住院工作量点数",
    outp_work_points::numeric(10,4) AS "门诊工作量点数",
    work_points::numeric(10,4) AS "工作量点数",
    total_nursing_points::numeric(10,2) AS "护理工作量点数",
    nurse_performance::numeric(10,2) AS "护理工作量绩效",
    inp_work_performance::numeric(10,2) AS "住院工作量绩效非手术介入",
    outp_work_performance::numeric(10,2) AS "门诊工作量绩效非手术介入",
    work_performance::numeric(10,2) AS "工作量绩效非手术介入",
    work_bonus::numeric(10,2) AS "单项奖励合计",
    total_work_performance::numeric(10,2) AS "工作量总绩效",
    "病种收入",
    "病种成本",
    "DRG结余",
    difference_coefficient AS "drg系数",
    ("DRG结余" * difference_coefficient)::numeric(10,2) AS "DRG绩效",
    (total_work_performance + "DRG结余" * difference_coefficient - "科室直接成本")::numeric(10,2) AS "绩效总额",
    "三级手术奖励",
    "四级手术奖励",
    "造影绩效",
    "介入绩效",
    "开单点数",
    "执行点数",
    "基础手术绩效",
    "护理点数",
    "诊察费奖励",
    "挂号费奖励",
    "门诊造影绩效",
    "门诊介入绩效",
    "门诊开单点数",
    "门诊执行点数",
    "门诊基础手术绩效",
    "门诊护理点数",
    "人员工资",
    "五险一金",
    "卫生材料",
    "其他材料",
    "固定资产折旧",
    "无形资产摊销",
    "维修（护）费",
    "培训费",
    "水费",
    "电费"
   FROM performance_calculations
  ORDER BY "绩效科室类别", "绩效科室类型", "同类序号";

-- ----------------------------
-- View structure for v_workload_dep_cost_month
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_dep_cost_month";
CREATE VIEW "public"."v_workload_dep_cost_month" AS  SELECT DISTINCT t_workload_dep_cost."年月",
    t_workload_dep_def."绩效科室ID",
    t_workload_dep_def."绩效科室名称",
    t_workload_dep_def."绩效科室类别",
    t_workload_dep_def."绩效科室属性",
    round(
        CASE
            WHEN t_workload_dep_def."绩效科室类别"::text = '临床'::text THEN (COALESCE(t_workload_dep_cost."卫生材料", 0::numeric) + COALESCE(t_workload_dep_cost."其他材料", 0::numeric)) * 0.3 + COALESCE(t_workload_dep_cost."人员工资", 0::numeric) * 0.15 + (COALESCE(t_workload_dep_cost."五险一金", 0::numeric) + COALESCE(t_workload_dep_cost."固定资产折旧", 0::numeric) + COALESCE(t_workload_dep_cost."无形资产摊销", 0::numeric) + COALESCE(t_workload_dep_cost."维修（护）费", 0::numeric) + COALESCE(t_workload_dep_cost."培训费", 0::numeric) + COALESCE(t_workload_dep_cost."水费", 0::numeric) + COALESCE(t_workload_dep_cost."电费", 0::numeric)) * 0.1
            WHEN t_workload_dep_def."绩效科室类别"::text = '门诊'::text THEN (COALESCE(t_workload_dep_cost."卫生材料", 0::numeric) + COALESCE(t_workload_dep_cost."其他材料", 0::numeric)) * 0.3
            WHEN t_workload_dep_def."绩效科室类别"::text = '护理'::text THEN (COALESCE(t_workload_dep_cost."卫生材料", 0::numeric) + COALESCE(t_workload_dep_cost."其他材料", 0::numeric)) * 0.3
            WHEN t_workload_dep_def."绩效科室类别"::text = '医技'::text THEN (COALESCE(t_workload_dep_cost."卫生材料", 0::numeric) + COALESCE(t_workload_dep_cost."其他材料", 0::numeric)) * 0.3
            ELSE 0::numeric
        END, 2) AS "科室直接成本",
    round(COALESCE(t_workload_dep_cost."人员工资", 0::numeric), 2) AS "人员工资",
    round(COALESCE(t_workload_dep_cost."五险一金", 0::numeric), 2) AS "五险一金",
    round(COALESCE(t_workload_dep_cost."卫生材料", 0::numeric), 2) AS "卫生材料",
    round(COALESCE(t_workload_dep_cost."其他材料", 0::numeric), 2) AS "其他材料",
    round(COALESCE(t_workload_dep_cost."固定资产折旧", 0::numeric), 2) AS "固定资产折旧",
    round(COALESCE(t_workload_dep_cost."无形资产摊销", 0::numeric), 2) AS "无形资产摊销",
    round(COALESCE(t_workload_dep_cost."维修（护）费", 0::numeric), 2) AS "维修（护）费",
    round(COALESCE(t_workload_dep_cost."培训费", 0::numeric), 2) AS "培训费",
    round(COALESCE(t_workload_dep_cost."水费", 0::numeric), 2) AS "水费",
    round(COALESCE(t_workload_dep_cost."电费", 0::numeric), 2) AS "电费"
   FROM t_workload_dep_def
     JOIN t_workload_dep_cost ON t_workload_dep_def."绩效科室ID"::text = t_workload_dep_cost."绩效科室代码"::text
  ORDER BY t_workload_dep_cost."年月" DESC, t_workload_dep_def."绩效科室ID";

-- ----------------------------
-- View structure for t_hosp_drug
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_hosp_drug";
CREATE VIEW "public"."t_hosp_drug" AS  SELECT d.med_list_code AS hosp_drug_id,
    d.med_list_code AS drug_id,
    h.hosp_id,
    h.create_user_id,
    h.create_user,
    h.create_dt,
    h.modify_user_id,
    h.modify_user,
    h.modify_dt,
    '正常'::text AS status,
    NULL::character varying(500) AS note,
    d.med_list_code AS hosp_drug_code,
    d.drug_genname AS hosp_drug_name,
    d.drug_prodname AS drug_sel_name,
    d.aprvno AS drug_permit_no,
    d.sda_drug_no AS drug_origin_no,
    d.drug_spec,
    NULL::character varying(50) AS drug_unit,
    NULL::real AS drug_unit_amount,
    NULL::character varying(50) AS drug_min_pkg,
    NULL::integer AS drug_package_amont,
    NULL::character varying(50) AS drug_sel_pkg,
    NULL::character varying(200) AS factory_name,
    d.hosp_prep_flag,
    d.hilist_code AS mi_item_code,
    NULL::character varying(50) AS hosp_account_type_id,
    NULL::character varying(50) AS hosp_page_fee_type_id,
    NULL::character varying(50) AS hosp_fee_type_id,
    NULL::character varying(50) AS fee_item_type_id
   FROM fdw.v_hosp_drug d,
    t_hosp_info h
  WHERE d.hosp_code::text = h.hosp_code::text;

-- ----------------------------
-- View structure for v_data_check_result
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_data_check_result";
CREATE VIEW "public"."v_data_check_result" AS  SELECT c.check_result_id,
    c.hosp_id,
    c.inbed_reg_id,
    c.create_user_id,
    c.create_user,
    c.create_dt,
    c.modify_user_id,
    c.modify_user,
    c.modify_dt,
    c.status,
    c.note,
    c.fee_source,
    c.check_type,
    c.exec_dt,
    c.doubt_cnt,
    c.doubt_amt,
    c.deduc_amt,
    c.deduc_cnt,
    c.total_amt,
    c.bill_cnt,
    c.org_id,
    c.org_code,
    c.org_name,
    c.si_type_id,
    c.paymtd_id,
    c.inbed_reg_code,
    c.inbed_status,
    h.hosp_code,
    h.hosp_name,
    c.dep_code,
    c.dep_name,
    c.inbed_dt,
    c.outbed_dt,
    c.inbed_days,
    c.dr_resid_code,
    c.dr_resid_name,
    c.patient_no,
    c.patient_name
   FROM t_data_check_result c,
    t_hosp_info h
  WHERE c.hosp_id::text = h.hosp_id::text;

-- ----------------------------
-- View structure for v_workload_matrix_inp
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_matrix_inp";
CREATE VIEW "public"."v_workload_matrix_inp" AS  SELECT t_workload_inp.yyyy_mm,
    sum(t_workload_inp.zcfjl) AS total_zcfjl,
    sum(t_workload_inp.ghfjl) AS total_ghfjl,
    sum(t_workload_inp.zyjx) AS total_zyjx,
    sum(t_workload_inp.jrjx) AS total_jrjx,
    sum(t_workload_inp.ssjx) AS total_ssjx,
    sum(t_workload_inp.inp_bill) AS total_inp_bill,
    NULL::numeric AS total_zxjx,
    NULL::numeric AS total_inp_nurse,
    t_workload_inp.ordered_by AS department,
    t_workload_inp.order_doctor AS doctor,
    '临床医技'::text AS wk_type
   FROM t_workload_inp
  GROUP BY t_workload_inp.yyyy_mm, t_workload_inp.ordered_by, t_workload_inp.order_doctor
UNION ALL
 SELECT t_workload_inp.yyyy_mm,
    NULL::numeric AS total_zcfjl,
    NULL::numeric AS total_ghfjl,
    NULL::numeric AS total_zyjx,
    NULL::numeric AS total_jrjx,
    NULL::numeric AS total_ssjx,
    NULL::numeric AS total_inp_bill,
    sum(t_workload_inp.inp_exec) AS total_zxjx,
    NULL::numeric AS total_inp_nurse,
    t_workload_inp.performed_by AS department,
    t_workload_inp.perform_doctor AS doctor,
    '临床医技'::text AS wk_type
   FROM t_workload_inp
  GROUP BY t_workload_inp.yyyy_mm, t_workload_inp.performed_by, t_workload_inp.perform_doctor
UNION ALL
 SELECT t_workload_inp.yyyy_mm,
    NULL::numeric AS total_zcfjl,
    NULL::numeric AS total_ghfjl,
    NULL::numeric AS total_zyjx,
    NULL::numeric AS total_jrjx,
    NULL::numeric AS total_ssjx,
    NULL::numeric AS total_inp_bill,
    NULL::numeric AS total_zxjx,
    sum(t_workload_inp.inp_nurse) AS total_inp_nurse,
    t_workload_inp.ward_code AS department,
    'nurse'::character varying AS doctor,
    '护理'::text AS wk_type
   FROM t_workload_inp
  GROUP BY t_workload_inp.yyyy_mm, t_workload_inp.ward_code;

-- ----------------------------
-- View structure for t_data_inbed_diag
-- ----------------------------
DROP VIEW IF EXISTS "public"."t_data_inbed_diag";
CREATE VIEW "public"."t_data_inbed_diag" AS  SELECT NULL::character varying(50) AS inbed_diag_id,
    d.mdtrt_id AS inbed_reg_id,
    i.icd10_id,
    d.dias_srt_no AS icd_no,
    d.dise_code AS icd_code,
    d.dise_name AS icd_name,
    d.maindise_flag AS main_flag,
    d.dise_date,
    NULL::text AS med_diag,
        CASE d.inout_dise_type
            WHEN '1'::text THEN '入院诊断'::character varying
            WHEN '2'::text THEN '出院诊断'::character varying
            ELSE d.inout_dise_type
        END AS diag_type,
    NULL::text AS diag_class,
    NULL::text AS adm_cond
   FROM fdw.v_data_inbed_diag d
     LEFT JOIN t_icd10 i ON d.dise_code::text = i.icd_code::text;

-- ----------------------------
-- View structure for v_workload_psn_list
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_psn_list";
CREATE VIEW "public"."v_workload_psn_list" AS  WITH all_doc AS (
         SELECT DISTINCT depts.doc_code
           FROM ( SELECT t_workload_inp.order_doctor AS doc_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.order_doctor IS NOT NULL
                UNION
                 SELECT t_workload_inp.perform_doctor AS doc_code
                   FROM t_workload_inp
                  WHERE t_workload_inp.perform_doctor IS NOT NULL
                UNION
                 SELECT t_workload_outp.ordered_by_doctor AS doc_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.ordered_by_doctor IS NOT NULL
                UNION
                 SELECT t_workload_outp.performed_by_doctor AS doc_code
                   FROM t_workload_outp
                  WHERE t_workload_outp.performed_by_doctor IS NOT NULL
                UNION
                 SELECT v_workload_doc_sur_award.doctor_code AS doc_code
                   FROM v_workload_doc_sur_award
                  WHERE v_workload_doc_sur_award.doctor_code IS NOT NULL
                UNION
                 SELECT t_workload_doc_2dep_def."工号" AS doc_code
                   FROM t_workload_doc_2dep_def
                  WHERE t_workload_doc_2dep_def."工号" IS NOT NULL) depts
        )
 SELECT d.doc_code,
    f."姓名"
   FROM all_doc d
     LEFT JOIN t_workload_doc_2dep_def f ON f."工号"::text = d.doc_code::text;

-- ----------------------------
-- View structure for v_workload_psn_all
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_psn_all";
CREATE VIEW "public"."v_workload_psn_all" AS  SELECT org_code AS dep_code,
    staff_code AS psn_code,
    name AS psn_name,
    status_code
   FROM t_workload_psn_f;

-- ----------------------------
-- View structure for v_workload_modification_log
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_modification_log";
CREATE VIEW "public"."v_workload_modification_log" AS  SELECT operation_time AS "操作时间",
    table_name AS "表名",
    record_id AS "记录号",
    column_name AS "列名",
    old_value AS "修改前",
    new_value AS "修改后",
    operator_id AS "操作员"
   FROM t_workload_modification_log;

-- ----------------------------
-- View structure for v_workload_drg_bill_detail
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_drg_bill_detail";
CREATE VIEW "public"."v_workload_drg_bill_detail" AS  SELECT "序号",
    mdtrt_id,
    "结算日期",
    "年月",
    "参保类型",
    "参保地",
    "转科",
    "姓名",
    "drg编码",
    "drg名称",
    "总费用",
    "总成本",
    "医保支付价",
    "盈亏",
    "总费用支付价比",
        CASE
            WHEN "总费用支付价比" <= 1.1 THEN "总费用" - "总成本"
            ELSE 0::numeric
        END AS "DRG绩效",
    "绩效基数",
    "治疗方式",
    "科室代码",
    "科室名称",
    "药品总费用",
    "服务项目总费用",
    "耗材总费用",
    "基准点数",
    "点值",
    "差异系数",
    "费用发生科室",
    "费用科室名称",
    "科室总费用",
    "费用占比",
    "科室总治疗成本",
    "科室成本费用比",
    "化验费",
    "床位费",
    "治疗费",
    "西药费",
    "材料费",
    "肺功能检查",
    "放射费",
    "手术费",
    "诊查费",
    "CT",
    "中药费",
    "护理费",
    "输氧费",
    "医疗废物",
    "脑电图",
    "高值耗材",
    "康复治疗",
    "彩超费",
    "核磁共振",
    "心电图",
    "麻醉费",
    "肠镜",
    "血费",
    "病理",
    "草药费",
    "胃镜",
    "病理外检",
    "科室检查",
    "检验外检",
    "肾透析",
    "救护车",
    "其他",
    resi_dr_code
   FROM t_workload_drg_bill_detail;

-- ----------------------------
-- View structure for v_workload_operation_type
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_operation_type";
CREATE VIEW "public"."v_workload_operation_type" AS  SELECT "分类编码",
    "分类名称",
    "项目编码",
    "项目名称",
    "类别"
   FROM t_workload_operation_type;

-- ----------------------------
-- View structure for v_workload_drg_bill
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_drg_bill";
CREATE VIEW "public"."v_workload_drg_bill" AS  SELECT "序号",
    mdtrt_id,
    "结算日期",
    "年月",
    "参保类型",
    "参保地",
    "转科",
    "姓名",
    "drg编码",
    "drg名称",
    "总费用",
    "总成本",
    "医保支付价",
    "盈亏",
    "总费用支付价比",
    "DRG绩效",
    "绩效基数",
    "治疗方式",
    "科室代码",
    "科室名称",
    "药品总费用",
    "服务项目总费用",
    "耗材总费用",
    "基准点数",
    "点值",
    "差异系数",
    "费用发生科室",
    "费用科室名称",
    "科室总费用",
    "费用占比",
    "科室总治疗成本",
    "科室成本费用比"
   FROM v_workload_drg_bill_detail
  WHERE "转科" IS NULL;

-- ----------------------------
-- View structure for v_workload_drg_by_dep_type
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_drg_by_dep_type";
CREATE VIEW "public"."v_workload_drg_by_dep_type" AS  SELECT bill."年月",
    dep."绩效科室类型",
    sum(bill."DRG绩效") AS "DRG绩效总和",
    sum(bill."总费用") AS "总费用总和",
    sum(bill."总成本") AS "总成本总和",
    round(
        CASE
            WHEN sum(bill."医保支付价") > 0::numeric THEN sum(bill."总费用") / sum(bill."医保支付价")
            ELSE 0::numeric
        END, 2)::numeric(10,2) AS "费用支付价比",
    sum(bill."总费用") - sum(bill."总成本") AS "总费用-总成本"
   FROM t_workload_dep_def2his dep
     JOIN v_workload_drg_bill bill ON dep."HIS科室编码"::text = bill."科室代码"::text
  GROUP BY bill."年月", dep."绩效科室类型"
  ORDER BY bill."年月", dep."绩效科室类型";

-- ----------------------------
-- View structure for v_workload_drg_bill_transfer
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_drg_bill_transfer";
CREATE VIEW "public"."v_workload_drg_bill_transfer" AS  SELECT "序号",
    mdtrt_id,
    "结算日期",
    "年月",
    "参保类型",
    "参保地",
    "转科",
    "姓名",
    "drg编码",
    "drg名称",
    "总费用",
    "总成本",
    "医保支付价",
    "盈亏",
    "总费用支付价比",
    "DRG绩效",
    "绩效基数",
    "治疗方式",
    "科室代码",
    "科室名称",
    "药品总费用",
    "服务项目总费用",
    "耗材总费用",
    "基准点数",
    "点值",
    "差异系数",
    "费用发生科室",
    "费用科室名称",
    "科室总费用",
    "费用占比",
    "科室总治疗成本",
    "科室成本费用比"
   FROM v_workload_drg_bill_detail
  WHERE "转科"::text = '转科'::text
  ORDER BY mdtrt_id, "年月";

-- ----------------------------
-- View structure for v_workload_perfpay_cl
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_perfpay_cl";
CREATE VIEW "public"."v_workload_perfpay_cl" AS  SELECT yyyy_mm,
    "绩效科室ID",
    "绩效科室名称",
    "效益",
    "介入台助",
    "医疗质量奖惩",
    "医疗保障补助",
    "报卡奖励",
    "综合质量奖惩",
    "主任奖惩",
    "不良事件上报",
    "抗菌药物",
    "重点药物治疗",
    "门诊危急值未书写处罚",
    "未书写病历扣罚",
    "放疗",
    "麻醉",
    "感染补助",
    "科秘书",
    "职补",
    "卫生津贴",
    "出车补助",
    "夜班费",
    COALESCE("介入台助", 0::numeric) + COALESCE("医疗质量奖惩", 0::numeric) + COALESCE("医疗保障补助", 0::numeric) + COALESCE("报卡奖励", 0::numeric) + COALESCE("综合质量奖惩", 0::numeric) + COALESCE("主任奖惩", 0::numeric) + COALESCE("不良事件上报", 0::numeric) + COALESCE("抗菌药物", 0::numeric) + COALESCE("重点药物治疗", 0::numeric) + COALESCE("门诊危急值未书写处罚", 0::numeric) + COALESCE("未书写病历扣罚", 0::numeric) + COALESCE("放疗", 0::numeric) + COALESCE("麻醉", 0::numeric) + COALESCE("感染补助", 0::numeric) + COALESCE("科秘书", 0::numeric) + COALESCE("职补", 0::numeric) + COALESCE("卫生津贴", 0::numeric) + COALESCE("出车补助", 0::numeric) + COALESCE("夜班费", 0::numeric) AS "质控奖罚及津贴"
   FROM t_workload_perfpay_cl;

-- ----------------------------
-- View structure for v_workload_doc_sur_award
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_doc_sur_award";
CREATE VIEW "public"."v_workload_doc_sur_award" AS  SELECT op.operation_doctor_code AS doctor_code,
    ib.yyyy_mm,
    r.dept_code,
    r.dept_name,
    count(DISTINCT
        CASE
            WHEN sl."手术级别"::text = '三级'::text THEN ib.mdtrt_id
            ELSE NULL::character varying
        END) * 100 AS total_ssjl3,
    count(DISTINCT
        CASE
            WHEN sl."手术级别"::text = '四级'::text THEN ib.mdtrt_id
            ELSE NULL::character varying
        END) * 500 AS total_ssjl4
   FROM t_workload_inbed_bill ib
     JOIN t_workload_opera_f op ON ib.mdtrt_id::text = op.inbed_code::text
     JOIN t_workload_surgery_level sl ON op.operation_code::text = sl."编码"::text
     JOIN t_workload_inbed_reg_f r ON r.mdtrt_id::text = ib.mdtrt_id::text
  WHERE op.operation_order::text = '1'::text AND (sl."手术级别"::text = ANY (ARRAY['三级'::character varying::text, '四级'::character varying::text]))
  GROUP BY op.operation_doctor_code, ib.yyyy_mm, r.dept_code, r.dept_name;

-- ----------------------------
-- View structure for v_workload_dep_drg
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_dep_drg";
CREATE VIEW "public"."v_workload_dep_drg" AS  SELECT v_workload_drg_bill."年月",
    t_workload_dep_def2his."绩效科室名称",
    t_workload_dep_def2his."绩效科室类别",
    t_workload_dep_def2his."绩效科室属性",
    t_workload_dep_def2his."绩效科室ID",
    sum(v_workload_drg_bill."DRG绩效") AS "DRG绩效总和",
    sum(v_workload_drg_bill."总费用") AS "总费用总和",
    sum(v_workload_drg_bill."总成本") AS "总成本总和"
   FROM t_workload_dep_def2his
     JOIN v_workload_drg_bill ON t_workload_dep_def2his."HIS科室编码"::text = v_workload_drg_bill."科室代码"::text
  GROUP BY v_workload_drg_bill."年月", t_workload_dep_def2his."绩效科室类别", t_workload_dep_def2his."绩效科室属性", t_workload_dep_def2his."绩效科室ID", t_workload_dep_def2his."绩效科室名称"
  ORDER BY v_workload_drg_bill."年月", t_workload_dep_def2his."绩效科室名称";

-- ----------------------------
-- View structure for v_workload_allperform
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_workload_allperform";
CREATE VIEW "public"."v_workload_allperform" AS  WITH allperform AS (
         SELECT m_v_workload_doc_perform_total.yyyy_mm,
            m_v_workload_doc_perform_total."绩效科室ID",
            m_v_workload_doc_perform_total."绩效科室名称",
            m_v_workload_doc_perform_total."绩效科室类别",
            m_v_workload_doc_perform_total."绩效科室类型",
            m_v_workload_doc_perform_total."同类序号",
            COALESCE(m_v_workload_doc_perform_total."人数", 0) AS "人数",
            COALESCE(m_v_workload_doc_perform_total."结算收入", 0::numeric) AS "结算收入",
            COALESCE(m_v_workload_doc_perform_total."科室直接成本", 0::numeric) AS "科室直接成本",
            COALESCE(m_v_workload_doc_perform_total."绩效总额", 0::numeric) AS "绩效总额",
            COALESCE(m_v_workload_doc_perform_total."绩效总额", 0::numeric) / NULLIF(COALESCE(m_v_workload_doc_perform_total."人数", 0), 0)::numeric AS "人均绩效",
            COALESCE(m_v_workload_doc_perform_total."住院工作量点数", 0::numeric) AS "住院工作量点数",
            COALESCE(m_v_workload_doc_perform_total."工作量单价", 0::numeric) AS "工作量单价",
            COALESCE(m_v_workload_doc_perform_total."工作量系数", 0::numeric) AS "工作量系数",
            COALESCE(m_v_workload_doc_perform_total."住院工作量绩效非手术介入", 0::numeric) AS "住院工作量绩效非手术介入",
            COALESCE(m_v_workload_doc_perform_total."基础手术绩效", 0::numeric) AS "基础手术绩效",
            COALESCE(m_v_workload_doc_perform_total."介入绩效", 0::numeric) AS "介入绩效",
            COALESCE(m_v_workload_doc_perform_total."造影绩效", 0::numeric) AS "造影绩效",
            COALESCE(m_v_workload_doc_perform_total."结算收入", 0::numeric) AS "结算费用",
            COALESCE(m_v_workload_doc_perform_total."病种成本", 0::numeric) AS "DRG病种成本",
            COALESCE(m_v_workload_doc_perform_total."DRG结余", 0::numeric) AS "DRG结余",
            COALESCE(m_v_workload_doc_perform_total."drg系数", 0::numeric) AS "drg系数",
            COALESCE(m_v_workload_doc_perform_total."DRG绩效", 0::numeric) AS "DRG绩效",
            COALESCE(m_v_workload_doc_perform_total."门诊工作量点数", 0::numeric) AS "门诊工作量点数",
            COALESCE(m_v_workload_doc_perform_total."门诊工作量绩效非手术介入", 0::numeric) AS "门诊工作量绩效非手术介入",
            COALESCE(m_v_workload_doc_perform_total."门诊基础手术绩效", 0::numeric) AS "门诊基础手术绩效",
            COALESCE(m_v_workload_doc_perform_total."门诊介入绩效", 0::numeric) AS "门诊介入绩效",
            COALESCE(m_v_workload_doc_perform_total."门诊造影绩效", 0::numeric) AS "门诊造影绩效",
            COALESCE(m_v_workload_doc_perform_total."挂号费奖励", 0::numeric) AS "挂号费奖励",
            COALESCE(m_v_workload_doc_perform_total."诊察费奖励", 0::numeric) AS "诊察费奖励",
            COALESCE(m_v_workload_doc_perform_total."三级手术奖励", 0::numeric) AS "三级手术奖励",
            COALESCE(m_v_workload_doc_perform_total."四级手术奖励", 0::numeric) AS "四级手术奖励",
            COALESCE(m_v_workload_doc_perform_total."单项奖励合计", 0::numeric) AS "单项奖励合计"
           FROM m_v_workload_doc_perform_total
        UNION
         SELECT m_v_workload_dep_perform_total.yyyy_mm,
            m_v_workload_dep_perform_total."绩效科室ID",
            m_v_workload_dep_perform_total."绩效科室名称",
            m_v_workload_dep_perform_total."绩效科室类别",
            m_v_workload_dep_perform_total."绩效科室类型",
            m_v_workload_dep_perform_total."同类序号",
            COALESCE(m_v_workload_dep_perform_total."人数", 0) AS "人数",
            COALESCE(m_v_workload_dep_perform_total."结算收入", 0::numeric) AS "结算收入",
            COALESCE(m_v_workload_dep_perform_total."科室直接成本", 0::numeric) AS "科室直接成本",
            COALESCE(m_v_workload_dep_perform_total."绩效总额", 0::numeric) AS "绩效总额",
            COALESCE(m_v_workload_dep_perform_total."绩效总额", 0::numeric) / NULLIF(COALESCE(m_v_workload_dep_perform_total."人数", 0), 0)::numeric AS "人均绩效",
            COALESCE(m_v_workload_dep_perform_total."住院工作量点数", 0::numeric) AS "住院工作量点数",
            COALESCE(m_v_workload_dep_perform_total."工作量单价", 0::numeric) AS "工作量单价",
            COALESCE(m_v_workload_dep_perform_total."工作量系数", 0::numeric) AS "工作量系数",
            COALESCE(m_v_workload_dep_perform_total."住院工作量绩效非手术介入", 0::numeric) AS "住院工作量绩效非手术介入",
            COALESCE(m_v_workload_dep_perform_total."基础手术绩效", 0::numeric) AS "基础手术绩效",
            COALESCE(m_v_workload_dep_perform_total."介入绩效", 0::numeric) AS "介入绩效",
            COALESCE(m_v_workload_dep_perform_total."造影绩效", 0::numeric) AS "造影绩效",
            COALESCE(m_v_workload_dep_perform_total."结算收入", 0::numeric) AS "结算费用",
            COALESCE(m_v_workload_dep_perform_total."病种成本", 0::numeric) AS "DRG病种成本",
            COALESCE(m_v_workload_dep_perform_total."DRG结余", 0::numeric) AS "DRG结余",
            COALESCE(m_v_workload_dep_perform_total."drg系数", 0::numeric) AS "drg系数",
            COALESCE(m_v_workload_dep_perform_total."DRG绩效", 0::numeric) AS "DRG绩效",
            COALESCE(m_v_workload_dep_perform_total."门诊工作量点数", 0::numeric) AS "门诊工作量点数",
            COALESCE(m_v_workload_dep_perform_total."门诊工作量绩效非手术介入", 0::numeric) AS "门诊工作量绩效非手术介入",
            COALESCE(m_v_workload_dep_perform_total."门诊基础手术绩效", 0::numeric) AS "门诊基础手术绩效",
            COALESCE(m_v_workload_dep_perform_total."门诊介入绩效", 0::numeric) AS "门诊介入绩效",
            COALESCE(m_v_workload_dep_perform_total."门诊造影绩效", 0::numeric) AS "门诊造影绩效",
            COALESCE(m_v_workload_dep_perform_total."挂号费奖励", 0::numeric) AS "挂号费奖励",
            COALESCE(m_v_workload_dep_perform_total."诊察费奖励", 0::numeric) AS "诊察费奖励",
            COALESCE(m_v_workload_dep_perform_total."三级手术奖励", 0::numeric) AS "三级手术奖励",
            COALESCE(m_v_workload_dep_perform_total."四级手术奖励", 0::numeric) AS "四级手术奖励",
            COALESCE(m_v_workload_dep_perform_total."单项奖励合计", 0::numeric) AS "单项奖励合计"
           FROM m_v_workload_dep_perform_total
        )
 SELECT yyyy_mm,
    "绩效科室ID",
    "绩效科室名称",
    "绩效科室类别",
    "绩效科室类型",
    "同类序号",
    "人数",
    "结算收入",
    "科室直接成本",
    "绩效总额",
    "人均绩效",
    "住院工作量点数",
    "工作量单价",
    "工作量系数",
    "住院工作量绩效非手术介入",
    "基础手术绩效",
    "介入绩效",
    "造影绩效",
    "结算费用",
    "DRG病种成本",
    "DRG结余",
    "drg系数",
    "DRG绩效",
    "门诊工作量点数",
    "门诊工作量绩效非手术介入",
    "门诊基础手术绩效",
    "门诊介入绩效",
    "门诊造影绩效",
    "挂号费奖励",
    "诊察费奖励",
    "三级手术奖励",
    "四级手术奖励",
    "单项奖励合计"
   FROM allperform;

-- ----------------------------
-- View structure for v_hosp_incom_inp
-- ----------------------------
DROP VIEW IF EXISTS "public"."v_hosp_incom_inp";
CREATE VIEW "public"."v_hosp_incom_inp" AS  SELECT rcpt_date,
    item_class_name,
    sum(costs) AS costs
   FROM t_workload_inp_f
  WHERE rcpt_date >= CURRENT_DATE AND rcpt_date < (CURRENT_DATE + 1)
  GROUP BY rcpt_date, item_class_name;

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
SELECT setval('"public"."dept_id_seq"', 1150, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."t_workload_analysis_intface_id_seq"
OWNED BY "public"."t_workload_analysis_intface"."id";
SELECT setval('"public"."t_workload_analysis_intface_id_seq"', 2, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
SELECT setval('"public"."t_workload_dep_def_dept_id_seq"', 1118, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
SELECT setval('"public"."t_workload_dep_def_绩效科室id_seq"', 1004, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."t_workload_log_log_id_seq"
OWNED BY "public"."t_workload_log"."log_id";
SELECT setval('"public"."t_workload_log_log_id_seq"', 91, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."t_workload_modification_log_log_id_seq"
OWNED BY "public"."t_workload_modification_log"."log_id";
SELECT setval('"public"."t_workload_modification_log_log_id_seq"', 834, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
SELECT setval('"public"."t_workload_point_seq"', 65102, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "public"."t_workload_rewards_序号_seq"
OWNED BY "public"."t_workload_rewards"."序号";
SELECT setval('"public"."t_workload_rewards_序号_seq"', 1, false);

-- ----------------------------
-- Indexes structure for table ai_chat_detail
-- ----------------------------
CREATE INDEX "fk_rel_ai_03" ON "public"."ai_chat_detail" USING btree (
  "ai_chat_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table ai_chat_detail
-- ----------------------------
ALTER TABLE "public"."ai_chat_detail" ADD CONSTRAINT "ai_chat_detail_pkey" PRIMARY KEY ("chat_detail_id");

-- ----------------------------
-- Indexes structure for table ai_chat_history
-- ----------------------------
CREATE INDEX "fk_rel_ai_01" ON "public"."ai_chat_history" USING btree (
  "ai_service_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_ai_02" ON "public"."ai_chat_history" USING btree (
  "user_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table ai_chat_history
-- ----------------------------
ALTER TABLE "public"."ai_chat_history" ADD CONSTRAINT "ai_chat_history_pkey" PRIMARY KEY ("ai_chat_id");

-- ----------------------------
-- Primary Key structure for table ai_service
-- ----------------------------
ALTER TABLE "public"."ai_service" ADD CONSTRAINT "ai_service_pkey" PRIMARY KEY ("ai_service_id");

-- ----------------------------
-- Primary Key structure for table t_analysis_condition
-- ----------------------------
ALTER TABLE "public"."t_analysis_condition" ADD CONSTRAINT "t_analysis_condition_pkey" PRIMARY KEY ("condition_id");

-- ----------------------------
-- Primary Key structure for table t_analysis_cube
-- ----------------------------
ALTER TABLE "public"."t_analysis_cube" ADD CONSTRAINT "t_analysis_cube_pkey" PRIMARY KEY ("cube_id");

-- ----------------------------
-- Primary Key structure for table t_analysis_indicator
-- ----------------------------
ALTER TABLE "public"."t_analysis_indicator" ADD CONSTRAINT "t_analysis_indicator_pkey" PRIMARY KEY ("analysis_indicator_id");

-- ----------------------------
-- Indexes structure for table t_analysis_model
-- ----------------------------
CREATE INDEX "fk_rel_analy_009" ON "public"."t_analysis_model" USING btree (
  "model_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_analysis_model
-- ----------------------------
ALTER TABLE "public"."t_analysis_model" ADD CONSTRAINT "t_analysis_model_pkey" PRIMARY KEY ("analysis_model_id");

-- ----------------------------
-- Indexes structure for table t_analysis_model_result
-- ----------------------------
CREATE INDEX "fk_rel_analy_010" ON "public"."t_analysis_model_result" USING btree (
  "result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_analy_011" ON "public"."t_analysis_model_result" USING btree (
  "analysis_model_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_analysis_model_result
-- ----------------------------
ALTER TABLE "public"."t_analysis_model_result" ADD CONSTRAINT "t_analysis_model_result_pkey" PRIMARY KEY ("model_result_id");

-- ----------------------------
-- Indexes structure for table t_analysis_result
-- ----------------------------
CREATE INDEX "fk_rel_analy_002" ON "public"."t_analysis_result" USING btree (
  "source_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_analysis_result
-- ----------------------------
ALTER TABLE "public"."t_analysis_result" ADD CONSTRAINT "t_analysis_result_pkey" PRIMARY KEY ("result_id");

-- ----------------------------
-- Indexes structure for table t_analysis_result_condition
-- ----------------------------
CREATE INDEX "fk_rel_analy_005" ON "public"."t_analysis_result_condition" USING btree (
  "condition_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_analy_008" ON "public"."t_analysis_result_condition" USING btree (
  "result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_analysis_result_condition
-- ----------------------------
ALTER TABLE "public"."t_analysis_result_condition" ADD CONSTRAINT "t_analysis_result_condition_pkey" PRIMARY KEY ("result_condition_id");

-- ----------------------------
-- Indexes structure for table t_analysis_result_cube
-- ----------------------------
CREATE INDEX "fk_rel_analy_003" ON "public"."t_analysis_result_cube" USING btree (
  "cube_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_analy_006" ON "public"."t_analysis_result_cube" USING btree (
  "result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_analysis_result_cube
-- ----------------------------
ALTER TABLE "public"."t_analysis_result_cube" ADD CONSTRAINT "t_analysis_result_cube_pkey" PRIMARY KEY ("result_cube_id");

-- ----------------------------
-- Indexes structure for table t_analysis_result_indicator
-- ----------------------------
CREATE INDEX "fk_rel_analy_004" ON "public"."t_analysis_result_indicator" USING btree (
  "analysis_indicator_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_analy_007" ON "public"."t_analysis_result_indicator" USING btree (
  "result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_analysis_result_indicator
-- ----------------------------
ALTER TABLE "public"."t_analysis_result_indicator" ADD CONSTRAINT "t_analysis_result_indicator_pkey" PRIMARY KEY ("result_indicator_id");

-- ----------------------------
-- Primary Key structure for table t_analysis_source
-- ----------------------------
ALTER TABLE "public"."t_analysis_source" ADD CONSTRAINT "t_analysis_source_pkey" PRIMARY KEY ("source_id");

-- ----------------------------
-- Primary Key structure for table t_chs_drug_form
-- ----------------------------
ALTER TABLE "public"."t_chs_drug_form" ADD CONSTRAINT "t_chs_drug_form_pkey" PRIMARY KEY ("drug_mi_form_id");

-- ----------------------------
-- Indexes structure for table t_chs_drug_form_rel
-- ----------------------------
CREATE INDEX "fk_rel_pub_14" ON "public"."t_chs_drug_form_rel" USING btree (
  "drug_mi_form_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_15" ON "public"."t_chs_drug_form_rel" USING btree (
  "drug_form_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_chs_drug_form_rel
-- ----------------------------
ALTER TABLE "public"."t_chs_drug_form_rel" ADD CONSTRAINT "t_chs_drug_form_rel_pkey" PRIMARY KEY ("drug_form_rel_id");

-- ----------------------------
-- Primary Key structure for table t_chs_org
-- ----------------------------
ALTER TABLE "public"."t_chs_org" ADD CONSTRAINT "t_chs_org_pkey" PRIMARY KEY ("org_id");

-- ----------------------------
-- Indexes structure for table t_chs_org_paymtd
-- ----------------------------
CREATE INDEX "fk_rel_pub_04" ON "public"."t_chs_org_paymtd" USING btree (
  "si_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_05" ON "public"."t_chs_org_paymtd" USING btree (
  "paymtd_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_20" ON "public"."t_chs_org_paymtd" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_chs_org_paymtd
-- ----------------------------
ALTER TABLE "public"."t_chs_org_paymtd" ADD CONSTRAINT "t_chs_org_paymtd_pkey" PRIMARY KEY ("org_paymtd_id");

-- ----------------------------
-- Indexes structure for table t_chs_org_ver
-- ----------------------------
CREATE INDEX "fk_rel_pub_21" ON "public"."t_chs_org_ver" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_22" ON "public"."t_chs_org_ver" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_chs_org_ver
-- ----------------------------
ALTER TABLE "public"."t_chs_org_ver" ADD CONSTRAINT "t_chs_org_ver_pkey" PRIMARY KEY ("org_ver_id");

-- ----------------------------
-- Primary Key structure for table t_chs_paymtd
-- ----------------------------
ALTER TABLE "public"."t_chs_paymtd" ADD CONSTRAINT "t_chs_paymtd_pkey" PRIMARY KEY ("paymtd_id");

-- ----------------------------
-- Primary Key structure for table t_chs_psn_type
-- ----------------------------
ALTER TABLE "public"."t_chs_psn_type" ADD CONSTRAINT "t_chs_psn_type_pkey" PRIMARY KEY ("psn_type_id");

-- ----------------------------
-- Indexes structure for table t_chs_rule
-- ----------------------------
CREATE INDEX "fk_chs_rule" ON "public"."t_chs_rule" USING btree (
  "rule_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_chs_rule
-- ----------------------------
ALTER TABLE "public"."t_chs_rule" ADD CONSTRAINT "t_chs_rule_pkey" PRIMARY KEY ("rule_id");

-- ----------------------------
-- Primary Key structure for table t_chs_rule_class
-- ----------------------------
ALTER TABLE "public"."t_chs_rule_class" ADD CONSTRAINT "t_chs_rule_class_pkey" PRIMARY KEY ("rule_class_id");

-- ----------------------------
-- Primary Key structure for table t_chs_si_type
-- ----------------------------
ALTER TABLE "public"."t_chs_si_type" ADD CONSTRAINT "t_chs_si_type_pkey" PRIMARY KEY ("si_type_id");

-- ----------------------------
-- Indexes structure for table t_chs_ver
-- ----------------------------
CREATE INDEX "fk_rel_pub_03" ON "public"."t_chs_ver" USING btree (
  "paymtd_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_chs_ver
-- ----------------------------
ALTER TABLE "public"."t_chs_ver" ADD CONSTRAINT "t_chs_ver_pkey" PRIMARY KEY ("chs_ver_id");

-- ----------------------------
-- Primary Key structure for table t_data_check_appeal
-- ----------------------------
ALTER TABLE "public"."t_data_check_appeal" ADD CONSTRAINT "t_data_check_appeal_pkey" PRIMARY KEY ("appeal_id");

-- ----------------------------
-- Indexes structure for table t_data_check_detail
-- ----------------------------
CREATE INDEX "fk_rel_hosp_19" ON "public"."t_data_check_detail" USING btree (
  "check_result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_51" ON "public"."t_data_check_detail" USING btree (
  "inbed_bill_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_check_detail
-- ----------------------------
ALTER TABLE "public"."t_data_check_detail" ADD CONSTRAINT "t_data_check_detail_pkey" PRIMARY KEY ("check_detail_id");

-- ----------------------------
-- Indexes structure for table t_data_check_result
-- ----------------------------
CREATE INDEX "fk_rel_hosp_30" ON "public"."t_data_check_result" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_92" ON "public"."t_data_check_result" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_check_result
-- ----------------------------
ALTER TABLE "public"."t_data_check_result" ADD CONSTRAINT "t_data_check_result_pkey" PRIMARY KEY ("check_result_id");

-- ----------------------------
-- Primary Key structure for table t_data_check_result_log
-- ----------------------------
ALTER TABLE "public"."t_data_check_result_log" ADD CONSTRAINT "t_data_check_result_log_pkey" PRIMARY KEY ("check_result_log_id");

-- ----------------------------
-- Primary Key structure for table t_data_check_rule
-- ----------------------------
ALTER TABLE "public"."t_data_check_rule" ADD CONSTRAINT "t_data_check_rule_pkey" PRIMARY KEY ("inbed_check_rule_id");

-- ----------------------------
-- Indexes structure for table t_data_group_result
-- ----------------------------
CREATE INDEX "fk_rel_hosp_110" ON "public"."t_data_group_result" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_111" ON "public"."t_data_group_result" USING btree (
  "inbed_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_112" ON "public"."t_data_group_result" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_113" ON "public"."t_data_group_result" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_114" ON "public"."t_data_group_result" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_115" ON "public"."t_data_group_result" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_116" ON "public"."t_data_group_result" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_117" ON "public"."t_data_group_result" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_relationship_86" ON "public"."t_data_group_result" USING btree (
  "mdc_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_relationship_87" ON "public"."t_data_group_result" USING btree (
  "adrg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_group_result
-- ----------------------------
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "t_data_group_result_pkey" PRIMARY KEY ("group_result_id");

-- ----------------------------
-- Primary Key structure for table t_data_group_result_log
-- ----------------------------
ALTER TABLE "public"."t_data_group_result_log" ADD CONSTRAINT "t_data_group_result_log_pkey" PRIMARY KEY ("group_result_log_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_bill_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_08" ON "public"."t_data_inbed_bill_d" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_69" ON "public"."t_data_inbed_bill_d" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_70" ON "public"."t_data_inbed_bill_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_dep_inbed" ON "public"."t_data_inbed_bill_d" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_psn_inbed" ON "public"."t_data_inbed_bill_d" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_bill_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_bill_d" ADD CONSTRAINT "t_data_inbed_bill_pkey" PRIMARY KEY ("inbed_bill_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_bill_detail_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_09" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_10" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "inbed_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_73" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_74" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_75" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_76" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_77" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_78" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_79" ON "public"."t_data_inbed_bill_detail_d" USING btree (
  "med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_bill_detail_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_bill_detail_d" ADD CONSTRAINT "t_data_inbed_bill_detail_pkey" PRIMARY KEY ("inbed_bill_detail_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_diag_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_12" ON "public"."t_data_inbed_diag_d" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_80" ON "public"."t_data_inbed_diag_d" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_diag_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_diag_d" ADD CONSTRAINT "t_data_inbed_diag_pkey" PRIMARY KEY ("inbed_diag_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_diag_file
-- ----------------------------
CREATE INDEX "idx_diag_file_1" ON "public"."t_data_inbed_diag_file" USING btree (
  "inbed_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "hosp_id" "pg_catalog"."numeric_ops" ASC NULLS LAST
);
CREATE INDEX "idx_diag_file_2" ON "public"."t_data_inbed_diag_file" USING btree (
  "clic_diag_type" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "icd_order" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "icd_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "icd_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "inbed_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "hosp_id" "pg_catalog"."numeric_ops" ASC NULLS LAST
);
CREATE INDEX "idx_diag_file_3" ON "public"."t_data_inbed_diag_file" USING btree (
  "inbed_reg_id" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "clic_diag_type" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_diag_file
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_diag_file" ADD CONSTRAINT "pk_t_data_inbed_diag_file" PRIMARY KEY ("inbed_diag_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_emr
-- ----------------------------
CREATE INDEX "fk_rel_hosp_21" ON "public"."t_data_inbed_emr" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_emr
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_emr" ADD CONSTRAINT "t_data_inbed_emr_pkey" PRIMARY KEY ("inbed_emr_id");

-- ----------------------------
-- Primary Key structure for table t_data_inbed_medical_record
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_medical_record" ADD CONSTRAINT "pk_t_data_inbed_medical_record" PRIMARY KEY ("inbed_reg_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_operation_file
-- ----------------------------
CREATE INDEX "idx_opertaion_file_1" ON "public"."t_data_inbed_operation_file" USING btree (
  "inbed_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "hosp_id" "pg_catalog"."numeric_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_operation_file
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_operation_file" ADD CONSTRAINT "pk_data_inbed_operation" PRIMARY KEY ("operation_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_opt_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_13" ON "public"."t_data_inbed_opt_d" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_81" ON "public"."t_data_inbed_opt_d" USING btree (
  "icd_9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_opt_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_opt_d" ADD CONSTRAINT "t_data_inbed_opt_pkey" PRIMARY KEY ("inbed_opt_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_page_bill
-- ----------------------------
CREATE INDEX "fk_rel_hosp_56" ON "public"."t_data_inbed_page_bill" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_57" ON "public"."t_data_inbed_page_bill" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_58" ON "public"."t_data_inbed_page_bill" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_59" ON "public"."t_data_inbed_page_bill" USING btree (
  "inbed_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_page_bill
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill" ADD CONSTRAINT "t_data_inbed_page_bill_pkey" PRIMARY KEY ("inbed_page_bill_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_page_bill_blood
-- ----------------------------
CREATE INDEX "fk_rel_hosp_15" ON "public"."t_data_inbed_page_bill_blood" USING btree (
  "inbed_page_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_page_bill_blood
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_blood" ADD CONSTRAINT "t_data_inbed_page_bill_blood_pkey" PRIMARY KEY ("page_bill_blood_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_page_bill_diag
-- ----------------------------
CREATE INDEX "fk_rel_hosp_18" ON "public"."t_data_inbed_page_bill_diag" USING btree (
  "inbed_page_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_23" ON "public"."t_data_inbed_page_bill_diag" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_page_bill_diag
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_diag" ADD CONSTRAINT "t_data_inbed_page_bill_diag_pkey" PRIMARY KEY ("page_bill_diag_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_page_bill_icu
-- ----------------------------
CREATE INDEX "fk_rel_hosp_16" ON "public"."t_data_inbed_page_bill_icu" USING btree (
  "inbed_page_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_page_bill_icu
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_icu" ADD CONSTRAINT "t_data_inbed_page_bill_icu_pkey" PRIMARY KEY ("page_bill_icu_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_page_bill_item
-- ----------------------------
CREATE INDEX "fk_rel_hosp_11" ON "public"."t_data_inbed_page_bill_item" USING btree (
  "inbed_page_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_page_bill_item
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_item" ADD CONSTRAINT "t_data_inbed_page_bill_item_pkey" PRIMARY KEY ("page_bill_item_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_page_bill_opt
-- ----------------------------
CREATE INDEX "fk_rel_hosp_17" ON "public"."t_data_inbed_page_bill_opt" USING btree (
  "inbed_page_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_24" ON "public"."t_data_inbed_page_bill_opt" USING btree (
  "icd_9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_page_bill_opt
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_opt" ADD CONSTRAINT "t_data_inbed_page_bill_opt_pkey" PRIMARY KEY ("page_bill_id");

-- ----------------------------
-- Indexes structure for table t_data_inbed_reg_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_71" ON "public"."t_data_inbed_reg_d" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_72" ON "public"."t_data_inbed_reg_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_inbed_reg_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_reg_d" ADD CONSTRAINT "t_data_inbed_reg_pkey" PRIMARY KEY ("inbed_reg_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_appeal_file
-- ----------------------------
CREATE INDEX "fk_mi_appeal_file" ON "public"."t_data_mi_appeal_file" USING btree (
  "si_group_result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_appeal_file
-- ----------------------------
ALTER TABLE "public"."t_data_mi_appeal_file" ADD CONSTRAINT "t_data_mi_appeal_file_pkey" PRIMARY KEY ("appeal_file_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_appeal_template
-- ----------------------------
CREATE INDEX "fk_mi_appeal_template" ON "public"."t_data_mi_appeal_template" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_appeal_template
-- ----------------------------
ALTER TABLE "public"."t_data_mi_appeal_template" ADD CONSTRAINT "t_data_mi_appeal_template_pkey" PRIMARY KEY ("appeal_template_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_check_result
-- ----------------------------
CREATE INDEX "fk_rel_hosp_100" ON "public"."t_data_mi_check_result" USING btree (
  "drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_101" ON "public"."t_data_mi_check_result" USING btree (
  "diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_102" ON "public"."t_data_mi_check_result" USING btree (
  "med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_47" ON "public"."t_data_mi_check_result" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_48" ON "public"."t_data_mi_check_result" USING btree (
  "inbed_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_49" ON "public"."t_data_mi_check_result" USING btree (
  "pres_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_50" ON "public"."t_data_mi_check_result" USING btree (
  "inbed_bill_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_52" ON "public"."t_data_mi_check_result" USING btree (
  "pres_bill_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_95" ON "public"."t_data_mi_check_result" USING btree (
  "rule_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_96" ON "public"."t_data_mi_check_result" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_97" ON "public"."t_data_mi_check_result" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_98" ON "public"."t_data_mi_check_result" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_99" ON "public"."t_data_mi_check_result" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_check_result
-- ----------------------------
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "t_data_mi_check_result_pkey" PRIMARY KEY ("si_check_result_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_group_result
-- ----------------------------
CREATE INDEX "fk_rel_hosp_118" ON "public"."t_data_mi_group_result" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_119" ON "public"."t_data_mi_group_result" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_120" ON "public"."t_data_mi_group_result" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_121" ON "public"."t_data_mi_group_result" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_39" ON "public"."t_data_mi_group_result" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_40" ON "public"."t_data_mi_group_result" USING btree (
  "inbed_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_43" ON "public"."t_data_mi_group_result" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_44" ON "public"."t_data_mi_group_result" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_relationship_84" ON "public"."t_data_mi_group_result" USING btree (
  "mdc_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_relationship_85" ON "public"."t_data_mi_group_result" USING btree (
  "adrg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_group_result
-- ----------------------------
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "t_data_mi_group_result_pkey" PRIMARY KEY ("si_group_result_id");

-- ----------------------------
-- Primary Key structure for table t_data_mi_group_result_import
-- ----------------------------
ALTER TABLE "public"."t_data_mi_group_result_import" ADD CONSTRAINT "t_data_mi_group_result_import_pkey" PRIMARY KEY ("si_group_result_id");

-- ----------------------------
-- Primary Key structure for table t_data_mi_item
-- ----------------------------
ALTER TABLE "public"."t_data_mi_item" ADD CONSTRAINT "t_data_mi_item_pkey" PRIMARY KEY ("item_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_mission
-- ----------------------------
CREATE INDEX "fk_mi_mission" ON "public"."t_data_mi_mission" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_mission
-- ----------------------------
ALTER TABLE "public"."t_data_mi_mission" ADD CONSTRAINT "t_data_mi_mission_pkey" PRIMARY KEY ("mission_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_template
-- ----------------------------
CREATE INDEX "fk_mi_template" ON "public"."t_data_mi_template" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_template
-- ----------------------------
ALTER TABLE "public"."t_data_mi_template" ADD CONSTRAINT "t_data_mi_template_pkey" PRIMARY KEY ("mi_template_id");

-- ----------------------------
-- Indexes structure for table t_data_mi_template_detail
-- ----------------------------
CREATE INDEX "fk_mi_template_detail" ON "public"."t_data_mi_template_detail" USING btree (
  "item_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "mi_template_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "item_no" "pg_catalog"."int4_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_mi_template_detail
-- ----------------------------
ALTER TABLE "public"."t_data_mi_template_detail" ADD CONSTRAINT "t_data_mi_template_detail_pkey" PRIMARY KEY ("template_detail_id");

-- ----------------------------
-- Indexes structure for table t_data_pres_bill
-- ----------------------------
CREATE INDEX "fk_rel_hosp_60" ON "public"."t_data_pres_bill" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_61" ON "public"."t_data_pres_bill" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_dep_pres" ON "public"."t_data_pres_bill" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_psn_pres" ON "public"."t_data_pres_bill" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_pres_bill
-- ----------------------------
ALTER TABLE "public"."t_data_pres_bill" ADD CONSTRAINT "t_data_pres_bill_pkey" PRIMARY KEY ("pres_bill_id");

-- ----------------------------
-- Indexes structure for table t_data_pres_bill_detail
-- ----------------------------
CREATE INDEX "fk_rel_hosp_07" ON "public"."t_data_pres_bill_detail" USING btree (
  "pres_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_62" ON "public"."t_data_pres_bill_detail" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_63" ON "public"."t_data_pres_bill_detail" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_64" ON "public"."t_data_pres_bill_detail" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_65" ON "public"."t_data_pres_bill_detail" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_66" ON "public"."t_data_pres_bill_detail" USING btree (
  "drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_67" ON "public"."t_data_pres_bill_detail" USING btree (
  "diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_68" ON "public"."t_data_pres_bill_detail" USING btree (
  "med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_pres_bill_detail
-- ----------------------------
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "t_data_pres_bill_detail_pkey" PRIMARY KEY ("pres_bill_detail_id");

-- ----------------------------
-- Indexes structure for table t_data_pres_diag
-- ----------------------------
CREATE INDEX "fk_rel_hosp_14" ON "public"."t_data_pres_diag" USING btree (
  "pres_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_82" ON "public"."t_data_pres_diag" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_pres_diag
-- ----------------------------
ALTER TABLE "public"."t_data_pres_diag" ADD CONSTRAINT "t_data_pres_diag_pkey" PRIMARY KEY ("pres_diag_id");

-- ----------------------------
-- Indexes structure for table t_data_pres_emr
-- ----------------------------
CREATE INDEX "fk_rel_hosp_22" ON "public"."t_data_pres_emr" USING btree (
  "pres_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_data_pres_emr
-- ----------------------------
ALTER TABLE "public"."t_data_pres_emr" ADD CONSTRAINT "t_data_pres_emr_pkey" PRIMARY KEY ("pres_emr_id");

-- ----------------------------
-- Indexes structure for table t_diag
-- ----------------------------
CREATE INDEX "fk_rel_pub_06" ON "public"."t_diag" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_12" ON "public"."t_diag" USING btree (
  "diag_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_diag
-- ----------------------------
ALTER TABLE "public"."t_diag" ADD CONSTRAINT "t_diag_pkey" PRIMARY KEY ("diag_id");

-- ----------------------------
-- Primary Key structure for table t_diag_class
-- ----------------------------
ALTER TABLE "public"."t_diag_class" ADD CONSTRAINT "t_diag_class_pkey" PRIMARY KEY ("diag_class_id");

-- ----------------------------
-- Primary Key structure for table t_dic_domain
-- ----------------------------
ALTER TABLE "public"."t_dic_domain" ADD CONSTRAINT "t_dic_domain_pkey" PRIMARY KEY ("domain_id");

-- ----------------------------
-- Indexes structure for table t_dic_domain_value
-- ----------------------------
CREATE INDEX "fk_rel_pub_01" ON "public"."t_dic_domain_value" USING btree (
  "domain_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_dic_domain_value
-- ----------------------------
ALTER TABLE "public"."t_dic_domain_value" ADD CONSTRAINT "t_dic_domain_value_pkey" PRIMARY KEY ("domain_value_id");

-- ----------------------------
-- Primary Key structure for table t_dic_hosp_lev
-- ----------------------------
ALTER TABLE "public"."t_dic_hosp_lev" ADD CONSTRAINT "t_dic_hosp_lev_pkey" PRIMARY KEY ("hosp_lev_id");

-- ----------------------------
-- Primary Key structure for table t_dic_hosp_type
-- ----------------------------
ALTER TABLE "public"."t_dic_hosp_type" ADD CONSTRAINT "t_dic_hosp_type_pkey" PRIMARY KEY ("hosp_type_id");

-- ----------------------------
-- Indexes structure for table t_dip_dips
-- ----------------------------
CREATE INDEX "fk_rel_drg_19" ON "public"."t_dip_dips" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_dip_dips
-- ----------------------------
ALTER TABLE "public"."t_dip_dips" ADD CONSTRAINT "t_dip_dips_pkey" PRIMARY KEY ("dip_id");

-- ----------------------------
-- Indexes structure for table t_dip_icd10
-- ----------------------------
CREATE INDEX "fk_rel_drg_05" ON "public"."t_dip_icd10" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_21" ON "public"."t_dip_icd10" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_30" ON "public"."t_dip_icd10" USING btree (
  "icd10_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_dip_icd10
-- ----------------------------
ALTER TABLE "public"."t_dip_icd10" ADD CONSTRAINT "t_dip_icd10_pkey" PRIMARY KEY ("dip_icd10_id");

-- ----------------------------
-- Indexes structure for table t_dip_icd9
-- ----------------------------
CREATE INDEX "fk_rel_drg_01" ON "public"."t_dip_icd9" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_20" ON "public"."t_dip_icd9" USING btree (
  "icd_9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_29" ON "public"."t_dip_icd9" USING btree (
  "icd9_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_dip_icd9
-- ----------------------------
ALTER TABLE "public"."t_dip_icd9" ADD CONSTRAINT "t_dip_icd9_pkey" PRIMARY KEY ("dip_icd9_id");

-- ----------------------------
-- Indexes structure for table t_drg_adrg
-- ----------------------------
CREATE INDEX "fk_rel_drg_02" ON "public"."t_drg_adrg" USING btree (
  "mdc_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_11" ON "public"."t_drg_adrg" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_adrg
-- ----------------------------
ALTER TABLE "public"."t_drg_adrg" ADD CONSTRAINT "t_drg_adrg_pkey" PRIMARY KEY ("adrg_id");

-- ----------------------------
-- Indexes structure for table t_drg_adrg_icd10
-- ----------------------------
CREATE INDEX "fk_rel_drg_03" ON "public"."t_drg_adrg_icd10" USING btree (
  "adrg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_17" ON "public"."t_drg_adrg_icd10" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_adrg_icd10
-- ----------------------------
ALTER TABLE "public"."t_drg_adrg_icd10" ADD CONSTRAINT "t_drg_adrg_icd10_pkey" PRIMARY KEY ("adrg_icd10_id");

-- ----------------------------
-- Indexes structure for table t_drg_adrg_icd9
-- ----------------------------
CREATE INDEX "fk_rel_drg_04" ON "public"."t_drg_adrg_icd9" USING btree (
  "adrg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_15" ON "public"."t_drg_adrg_icd9" USING btree (
  "icd_9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_adrg_icd9
-- ----------------------------
ALTER TABLE "public"."t_drg_adrg_icd9" ADD CONSTRAINT "t_drg_adrg_icd9_pkey" PRIMARY KEY ("adrg_icd9_id");

-- ----------------------------
-- Indexes structure for table t_drg_dip_cnf
-- ----------------------------
CREATE INDEX "fk_rel_drg_24" ON "public"."t_drg_dip_cnf" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_26" ON "public"."t_drg_dip_cnf" USING btree (
  "psn_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_27" ON "public"."t_drg_dip_cnf" USING btree (
  "si_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_28" ON "public"."t_drg_dip_cnf" USING btree (
  "hosp_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_dip_cnf
-- ----------------------------
ALTER TABLE "public"."t_drg_dip_cnf" ADD CONSTRAINT "t_drg_dip_cnf_pkey" PRIMARY KEY ("drg_dip_cnf_id");

-- ----------------------------
-- Indexes structure for table t_drg_dip_values
-- ----------------------------
CREATE INDEX "fk_rel_drg_22" ON "public"."t_drg_dip_values" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_23" ON "public"."t_drg_dip_values" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_25" ON "public"."t_drg_dip_values" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_dip_values
-- ----------------------------
ALTER TABLE "public"."t_drg_dip_values" ADD CONSTRAINT "t_drg_dip_values_pkey" PRIMARY KEY ("drg_dip_values_id");

-- ----------------------------
-- Indexes structure for table t_drg_drgs
-- ----------------------------
CREATE INDEX "fk_rel_drg_06" ON "public"."t_drg_drgs" USING btree (
  "adrg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_12" ON "public"."t_drg_drgs" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_drgs
-- ----------------------------
ALTER TABLE "public"."t_drg_drgs" ADD CONSTRAINT "t_drg_drgs_pkey" PRIMARY KEY ("drg_id");

-- ----------------------------
-- Indexes structure for table t_drg_mcc_cc
-- ----------------------------
CREATE INDEX "fk_rel_drg_07" ON "public"."t_drg_mcc_cc" USING btree (
  "mcc_cc_except_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_13" ON "public"."t_drg_mcc_cc" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_mcc_cc
-- ----------------------------
ALTER TABLE "public"."t_drg_mcc_cc" ADD CONSTRAINT "t_drg_mcc_cc_pkey" PRIMARY KEY ("mcc_cc_id");

-- ----------------------------
-- Indexes structure for table t_drg_mcc_cc_except
-- ----------------------------
CREATE INDEX "fk_rel_drg_14" ON "public"."t_drg_mcc_cc_except" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_mcc_cc_except
-- ----------------------------
ALTER TABLE "public"."t_drg_mcc_cc_except" ADD CONSTRAINT "t_drg_mcc_cc_except_pkey" PRIMARY KEY ("mcc_cc_except_id");

-- ----------------------------
-- Indexes structure for table t_drg_mcc_cc_except_detail
-- ----------------------------
CREATE INDEX "fk_rel_drg_08" ON "public"."t_drg_mcc_cc_except_detail" USING btree (
  "mcc_cc_except_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_18" ON "public"."t_drg_mcc_cc_except_detail" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_mcc_cc_except_detail
-- ----------------------------
ALTER TABLE "public"."t_drg_mcc_cc_except_detail" ADD CONSTRAINT "t_drg_mcc_cc_except_detail_pkey" PRIMARY KEY ("mcc_cc_except_detail_id");

-- ----------------------------
-- Indexes structure for table t_drg_mdc
-- ----------------------------
CREATE INDEX "fk_rel_drg_10" ON "public"."t_drg_mdc" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_mdc
-- ----------------------------
ALTER TABLE "public"."t_drg_mdc" ADD CONSTRAINT "t_drg_mdc_pkey" PRIMARY KEY ("mdc_id");

-- ----------------------------
-- Indexes structure for table t_drg_mdc_icd10
-- ----------------------------
CREATE INDEX "fk_rel_drg_09" ON "public"."t_drg_mdc_icd10" USING btree (
  "mdc_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_drg_16" ON "public"."t_drg_mdc_icd10" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drg_mdc_icd10
-- ----------------------------
ALTER TABLE "public"."t_drg_mdc_icd10" ADD CONSTRAINT "t_drg_mdc_icd10_pkey" PRIMARY KEY ("mdc_icd10_id");

-- ----------------------------
-- Indexes structure for table t_drug
-- ----------------------------
CREATE INDEX "fk_rel_pub_02" ON "public"."t_drug" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_11" ON "public"."t_drug" USING btree (
  "drug_pub_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drug
-- ----------------------------
ALTER TABLE "public"."t_drug" ADD CONSTRAINT "t_drug_pkey" PRIMARY KEY ("drug_id");

-- ----------------------------
-- Indexes structure for table t_drug_class
-- ----------------------------
CREATE INDEX "fk_rel_pub_13" ON "public"."t_drug_class" USING btree (
  "drug_mi_form_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drug_class
-- ----------------------------
ALTER TABLE "public"."t_drug_class" ADD CONSTRAINT "t_drug_class_pkey" PRIMARY KEY ("drug_class_id");

-- ----------------------------
-- Primary Key structure for table t_drug_form
-- ----------------------------
ALTER TABLE "public"."t_drug_form" ADD CONSTRAINT "t_drug_form_pkey" PRIMARY KEY ("drug_form_id");

-- ----------------------------
-- Indexes structure for table t_drug_pub
-- ----------------------------
CREATE INDEX "fk_rel_pub_17" ON "public"."t_drug_pub" USING btree (
  "drug_form_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drug_pub
-- ----------------------------
ALTER TABLE "public"."t_drug_pub" ADD CONSTRAINT "t_drug_pub_pkey" PRIMARY KEY ("drug_pub_id");

-- ----------------------------
-- Indexes structure for table t_drug_pub_class
-- ----------------------------
CREATE INDEX "fk_rel_pub_10" ON "public"."t_drug_pub_class" USING btree (
  "drug_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_16" ON "public"."t_drug_pub_class" USING btree (
  "drug_pub_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_drug_pub_class
-- ----------------------------
ALTER TABLE "public"."t_drug_pub_class" ADD CONSTRAINT "t_drug_pub_class_pkey" PRIMARY KEY ("drug_pub_class_id");

-- ----------------------------
-- Indexes structure for table t_exam_mission
-- ----------------------------
CREATE INDEX "fk_rel_exam_10" ON "public"."t_exam_mission" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_11" ON "public"."t_exam_mission" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_exam_mission
-- ----------------------------
ALTER TABLE "public"."t_exam_mission" ADD CONSTRAINT "t_exam_mission_pkey" PRIMARY KEY ("mission_id");

-- ----------------------------
-- Indexes structure for table t_exam_result_detail
-- ----------------------------
CREATE INDEX "fk_rel_exam_03" ON "public"."t_exam_result_detail" USING btree (
  "task_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_12" ON "public"."t_exam_result_detail" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_13" ON "public"."t_exam_result_detail" USING btree (
  "inbed_bill_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_14" ON "public"."t_exam_result_detail" USING btree (
  "inbed_bill_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_15" ON "public"."t_exam_result_detail" USING btree (
  "check_result_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_16" ON "public"."t_exam_result_detail" USING btree (
  "check_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_17" ON "public"."t_exam_result_detail" USING btree (
  "si_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_18" ON "public"."t_exam_result_detail" USING btree (
  "paymtd_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_19" ON "public"."t_exam_result_detail" USING btree (
  "psn_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_20" ON "public"."t_exam_result_detail" USING btree (
  "rule_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_hosp" ON "public"."t_exam_result_detail" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_mission" ON "public"."t_exam_result_detail" USING btree (
  "mission_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_task" ON "public"."t_exam_result_detail" USING btree (
  "task_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_exam_result_detail
-- ----------------------------
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "t_exam_result_detail_pkey" PRIMARY KEY ("result_detail_id");

-- ----------------------------
-- Indexes structure for table t_exam_task
-- ----------------------------
CREATE INDEX "fk_rel_exam_01" ON "public"."t_exam_task" USING btree (
  "mission_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_exam_task
-- ----------------------------
ALTER TABLE "public"."t_exam_task" ADD CONSTRAINT "t_exam_task_pkey" PRIMARY KEY ("task_id");

-- ----------------------------
-- Indexes structure for table t_exam_task_detail
-- ----------------------------
CREATE INDEX "fk_rel_exam_02" ON "public"."t_exam_task_detail" USING btree (
  "task_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_04" ON "public"."t_exam_task_detail" USING btree (
  "drug_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_05" ON "public"."t_exam_task_detail" USING btree (
  "drug_pub_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_06" ON "public"."t_exam_task_detail" USING btree (
  "diag_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_07" ON "public"."t_exam_task_detail" USING btree (
  "diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_08" ON "public"."t_exam_task_detail" USING btree (
  "medsup_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_09" ON "public"."t_exam_task_detail" USING btree (
  "med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_exam_21" ON "public"."t_exam_task_detail" USING btree (
  "rule_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_exam_task_detail
-- ----------------------------
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "t_exam_task_detail_pkey" PRIMARY KEY ("task_detail_id");

-- ----------------------------
-- Indexes structure for table t_hosp_advice
-- ----------------------------
CREATE INDEX "fk_rel_hosp_028" ON "public"."t_hosp_advice" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_advice
-- ----------------------------
ALTER TABLE "public"."t_hosp_advice" ADD CONSTRAINT "t_hosp_advice_pkey" PRIMARY KEY ("advice_id");

-- ----------------------------
-- Indexes structure for table t_hosp_advice_fee
-- ----------------------------
CREATE INDEX "fk_rel_hosp_038" ON "public"."t_hosp_advice_fee" USING btree (
  "advice_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_085" ON "public"."t_hosp_advice_fee" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_086" ON "public"."t_hosp_advice_fee" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_087" ON "public"."t_hosp_advice_fee" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_088" ON "public"."t_hosp_advice_fee" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_advice_fee
-- ----------------------------
ALTER TABLE "public"."t_hosp_advice_fee" ADD CONSTRAINT "t_hosp_advice_fee_pkey" PRIMARY KEY ("advice_fee_id");

-- ----------------------------
-- Indexes structure for table t_hosp_chi_drug_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_03" ON "public"."t_hosp_chi_drug_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_27" ON "public"."t_hosp_chi_drug_d" USING btree (
  "drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_chi_drug_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "t_hosp_chi_drug_pkey" PRIMARY KEY ("chi_drug_id");

-- ----------------------------
-- Indexes structure for table t_hosp_clinical_path
-- ----------------------------
CREATE INDEX "fk_rel_hosp_029" ON "public"."t_hosp_clinical_path" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_074" ON "public"."t_hosp_clinical_path" USING btree (
  "clinical_path_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_clinical_path
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path" ADD CONSTRAINT "t_hosp_clinical_path_pkey" PRIMARY KEY ("clinical_path_id");

-- ----------------------------
-- Indexes structure for table t_hosp_clinical_path_cost
-- ----------------------------
CREATE INDEX "fk_rel_hosp_012" ON "public"."t_hosp_clinical_path_cost" USING btree (
  "inbed_path_cost_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_022" ON "public"."t_hosp_clinical_path_cost" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_033" ON "public"."t_hosp_clinical_path_cost" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_035" ON "public"."t_hosp_clinical_path_cost" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_037" ON "public"."t_hosp_clinical_path_cost" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_clinical_path_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "t_hosp_clinical_path_cost_pkey" PRIMARY KEY ("clinical_path_cost_id");

-- ----------------------------
-- Indexes structure for table t_hosp_clinical_path_detail
-- ----------------------------
CREATE INDEX "fk_rel_hosp_039" ON "public"."t_hosp_clinical_path_detail" USING btree (
  "advice_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_041" ON "public"."t_hosp_clinical_path_detail" USING btree (
  "clinical_path_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_081" ON "public"."t_hosp_clinical_path_detail" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_082" ON "public"."t_hosp_clinical_path_detail" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_083" ON "public"."t_hosp_clinical_path_detail" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_084" ON "public"."t_hosp_clinical_path_detail" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_clinical_path_detail
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "t_hosp_clinical_path_detail_pkey" PRIMARY KEY ("clinical_path_detail_id");

-- ----------------------------
-- Indexes structure for table t_hosp_clinical_path_icd
-- ----------------------------
CREATE INDEX "fk_rel_hosp_001" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_004" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_017" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_040" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "clinical_path_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_066" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_067" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "icd10_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_068" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "icd9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_069" ON "public"."t_hosp_clinical_path_icd" USING btree (
  "icd9_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_clinical_path_icd
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "t_hosp_clinical_path_icd_pkey" PRIMARY KEY ("clinical_path_ic_id");

-- ----------------------------
-- Primary Key structure for table t_hosp_clinical_path_step
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_step" ADD CONSTRAINT "t_hosp_clinical_path_step_pkey" PRIMARY KEY ("clinical_path_step_id");

-- ----------------------------
-- Indexes structure for table t_hosp_dep_d
-- ----------------------------
CREATE INDEX "fk_rel_12" ON "public"."t_hosp_dep_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_dep_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_dep_d" ADD CONSTRAINT "t_hosp_dep_pkey" PRIMARY KEY ("dep_id");

-- ----------------------------
-- Indexes structure for table t_hosp_diag_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_05" ON "public"."t_hosp_diag_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_28" ON "public"."t_hosp_diag_d" USING btree (
  "diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_diag_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "t_hosp_diag_pkey" PRIMARY KEY ("hosp_diag_id");

-- ----------------------------
-- Primary Key structure for table t_hosp_diag_type
-- ----------------------------
ALTER TABLE "public"."t_hosp_diag_type" ADD CONSTRAINT "t_hosp_diag_type_pkey" PRIMARY KEY ("diag_type_id");

-- ----------------------------
-- Indexes structure for table t_hosp_drg_dip_cnf
-- ----------------------------
CREATE INDEX "inx_drg_cnf_24" ON "public"."t_hosp_drg_dip_cnf" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "inx_drg_cnf_26" ON "public"."t_hosp_drg_dip_cnf" USING btree (
  "psn_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "inx_drg_cnf_27" ON "public"."t_hosp_drg_dip_cnf" USING btree (
  "si_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "inx_drg_cnf_28" ON "public"."t_hosp_drg_dip_cnf" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_drg_dip_cnf
-- ----------------------------
ALTER TABLE "public"."t_hosp_drg_dip_cnf" ADD CONSTRAINT "t_hosp_drg_dip_cnf_pk" PRIMARY KEY ("drg_dip_cnf_id");

-- ----------------------------
-- Indexes structure for table t_hosp_drg_dip_values
-- ----------------------------
CREATE INDEX "inx_drg_value_22" ON "public"."t_hosp_drg_dip_values" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "inx_drg_value_23" ON "public"."t_hosp_drg_dip_values" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "inx_drg_value_25" ON "public"."t_hosp_drg_dip_values" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "inx_drg_value_29" ON "public"."t_hosp_drg_dip_values" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_drg_dip_values
-- ----------------------------
ALTER TABLE "public"."t_hosp_drg_dip_values" ADD CONSTRAINT "t_hosp_drg_dip_values_pk" PRIMARY KEY ("drg_dip_values_id");

-- ----------------------------
-- Indexes structure for table t_hosp_drug_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_02" ON "public"."t_hosp_drug_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_26" ON "public"."t_hosp_drug_d" USING btree (
  "drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_drug_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "t_hosp_drug_pkey" PRIMARY KEY ("hosp_drug_id");

-- ----------------------------
-- Indexes structure for table t_hosp_fee_item_cost
-- ----------------------------
CREATE INDEX "fk_rel_hosp_051" ON "public"."t_hosp_fee_item_cost" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_055" ON "public"."t_hosp_fee_item_cost" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_078" ON "public"."t_hosp_fee_item_cost" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_079" ON "public"."t_hosp_fee_item_cost" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_080" ON "public"."t_hosp_fee_item_cost" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_fee_item_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "t_hosp_fee_item_cost_pkey" PRIMARY KEY ("fee_item_cost_id");

-- ----------------------------
-- Primary Key structure for table t_hosp_fee_item_type
-- ----------------------------
ALTER TABLE "public"."t_hosp_fee_item_type" ADD CONSTRAINT "t_hosp_fee_item_type_pkey" PRIMARY KEY ("fee_item_type_id");

-- ----------------------------
-- Indexes structure for table t_hosp_fee_type
-- ----------------------------
CREATE INDEX "ix_hosp_fee_type_name" ON "public"."t_hosp_fee_type" USING btree (
  "hosp_fee_type_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_fee_type
-- ----------------------------
ALTER TABLE "public"."t_hosp_fee_type" ADD CONSTRAINT "t_medical_fee_type_pkey" PRIMARY KEY ("hosp_fee_type_id");

-- ----------------------------
-- Indexes structure for table t_hosp_inbed_item_cost
-- ----------------------------
CREATE INDEX "fk_rel_hosp_010" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "clinical_path_cost_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_011" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "inbed_path_cost_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_013" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_015" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "inbed_bill_detail_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_021" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "chi_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_027" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_032" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "hosp_med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_034" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "hosp_diag_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_036" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "hosp_drug_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_046" ON "public"."t_hosp_inbed_item_cost" USING btree (
  "fee_item_cost_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_inbed_item_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "t_hosp_inbed_item_cost_pkey" PRIMARY KEY ("inbed_item_cost_id");

-- ----------------------------
-- Indexes structure for table t_hosp_inbed_path_cost
-- ----------------------------
CREATE INDEX "fk_rel_hosp_002" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_005" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_014" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "inbed_reg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_016" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "chs_ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_018" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_030" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_042" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "clinical_path_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_044" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "team_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_070" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_071" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "icd9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_072" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "risk_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_073" ON "public"."t_hosp_inbed_path_cost" USING btree (
  "opt_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_inbed_path_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "t_hosp_inbed_path_cost_pkey" PRIMARY KEY ("inbed_path_cost_id");

-- ----------------------------
-- Indexes structure for table t_hosp_indicator_result
-- ----------------------------
CREATE INDEX "fk_rel_hosp_003" ON "public"."t_hosp_indicator_result" USING btree (
  "dip_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_006" ON "public"."t_hosp_indicator_result" USING btree (
  "drg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_020" ON "public"."t_hosp_indicator_result" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_031" ON "public"."t_hosp_indicator_result" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_043" ON "public"."t_hosp_indicator_result" USING btree (
  "clinical_path_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_045" ON "public"."t_hosp_indicator_result" USING btree (
  "team_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_075" ON "public"."t_hosp_indicator_result" USING btree (
  "indicator_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_076" ON "public"."t_hosp_indicator_result" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_077" ON "public"."t_hosp_indicator_result" USING btree (
  "indicator_caliber_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_indicator_result
-- ----------------------------
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "t_hosp_indicator_result_pkey" PRIMARY KEY ("indicator_result_id");

-- ----------------------------
-- Indexes structure for table t_hosp_indicator_union
-- ----------------------------
CREATE INDEX "fk_rel_hosp_026" ON "public"."t_hosp_indicator_union" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_056" ON "public"."t_hosp_indicator_union" USING btree (
  "indicator_caliber_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_057" ON "public"."t_hosp_indicator_union" USING btree (
  "indicator_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_058" ON "public"."t_hosp_indicator_union" USING btree (
  "indicator_prg_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_indicator_union
-- ----------------------------
ALTER TABLE "public"."t_hosp_indicator_union" ADD CONSTRAINT "t_hosp_indicator_union_pkey" PRIMARY KEY ("indicator_union_id");

-- ----------------------------
-- Indexes structure for table t_hosp_info
-- ----------------------------
CREATE INDEX "fk_rel_hosp_41" ON "public"."t_hosp_info" USING btree (
  "hosp_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_42" ON "public"."t_hosp_info" USING btree (
  "hosp_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_info
-- ----------------------------
ALTER TABLE "public"."t_hosp_info" ADD CONSTRAINT "t_hosp_info_pkey" PRIMARY KEY ("hosp_id");

-- ----------------------------
-- Indexes structure for table t_hosp_item_workload
-- ----------------------------
CREATE INDEX "ix_fee_item_code" ON "public"."t_hosp_item_workload" USING btree (
  "fee_item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_item_workload
-- ----------------------------
ALTER TABLE "public"."t_hosp_item_workload" ADD CONSTRAINT "t_hosp_item_workload_pkey" PRIMARY KEY ("item_workload_id");

-- ----------------------------
-- Indexes structure for table t_hosp_medsup_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_04" ON "public"."t_hosp_medsup_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_29" ON "public"."t_hosp_medsup_d" USING btree (
  "med_sup_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_medsup_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "t_hosp_medsup_pkey" PRIMARY KEY ("hosp_med_sup_id");

-- ----------------------------
-- Indexes structure for table t_hosp_opt_lev_icd
-- ----------------------------
CREATE INDEX "fk_rel_hosp_025" ON "public"."t_hosp_opt_lev_icd" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_047" ON "public"."t_hosp_opt_lev_icd" USING btree (
  "icd9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_060" ON "public"."t_hosp_opt_lev_icd" USING btree (
  "opt_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_065" ON "public"."t_hosp_opt_lev_icd" USING btree (
  "icd9_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_opt_lev_icd
-- ----------------------------
ALTER TABLE "public"."t_hosp_opt_lev_icd" ADD CONSTRAINT "t_hosp_opt_lev_icd_pkey" PRIMARY KEY ("opt_lev_icd_id");

-- ----------------------------
-- Indexes structure for table t_hosp_psn_d
-- ----------------------------
CREATE INDEX "fk_rel_hosp_06" ON "public"."t_hosp_psn_d" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_psn_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_psn_d" ADD CONSTRAINT "t_hosp_psn_pkey" PRIMARY KEY ("psn_id");

-- ----------------------------
-- Indexes structure for table t_hosp_psn_dep
-- ----------------------------
CREATE INDEX "fk_rel_hosp_45" ON "public"."t_hosp_psn_dep" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_46" ON "public"."t_hosp_psn_dep" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_psn_dep
-- ----------------------------
ALTER TABLE "public"."t_hosp_psn_dep" ADD CONSTRAINT "t_hosp_psn_dep_pkey" PRIMARY KEY ("psn_dep_id");

-- ----------------------------
-- Indexes structure for table t_hosp_risk_icd
-- ----------------------------
CREATE INDEX "fk_rel_hosp_024" ON "public"."t_hosp_risk_icd" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_062" ON "public"."t_hosp_risk_icd" USING btree (
  "icd10_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_063" ON "public"."t_hosp_risk_icd" USING btree (
  "icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_064" ON "public"."t_hosp_risk_icd" USING btree (
  "risk_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_risk_icd
-- ----------------------------
ALTER TABLE "public"."t_hosp_risk_icd" ADD CONSTRAINT "t_hosp_risk_icd_pkey" PRIMARY KEY ("risk_icd_id");

-- ----------------------------
-- Indexes structure for table t_hosp_rule
-- ----------------------------
CREATE INDEX "fk_rel_hosp_rule_62" ON "public"."t_hosp_rule" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_rule_65" ON "public"."t_hosp_rule" USING btree (
  "rule_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_rule
-- ----------------------------
ALTER TABLE "public"."t_hosp_rule" ADD CONSTRAINT "t_hosp_rule_pkey" PRIMARY KEY ("hosp_rule_id");

-- ----------------------------
-- Indexes structure for table t_hosp_team
-- ----------------------------
CREATE INDEX "fk_rel_hosp_019" ON "public"."t_hosp_team" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_023" ON "public"."t_hosp_team" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_059" ON "public"."t_hosp_team" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_team
-- ----------------------------
ALTER TABLE "public"."t_hosp_team" ADD CONSTRAINT "t_hosp_team_pkey" PRIMARY KEY ("team_id");

-- ----------------------------
-- Indexes structure for table t_hosp_user_authorize
-- ----------------------------
CREATE INDEX "fk_rel_hosp_dep_63" ON "public"."t_hosp_user_authorize" USING btree (
  "dep_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_hosp_61" ON "public"."t_hosp_user_authorize" USING btree (
  "hosp_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_psn_64" ON "public"."t_hosp_user_authorize" USING btree (
  "psn_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_user_60" ON "public"."t_hosp_user_authorize" USING btree (
  "user_id" COLLATE "pg_catalog"."default" "pg_catalog"."bpchar_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_hosp_user_authorize
-- ----------------------------
ALTER TABLE "public"."t_hosp_user_authorize" ADD CONSTRAINT "t_hosp_user_authorize_pkey" PRIMARY KEY ("user_authorize_id");

-- ----------------------------
-- Indexes structure for table t_icd10
-- ----------------------------
CREATE INDEX "fk_rel_pub_09" ON "public"."t_icd10" USING btree (
  "tumor_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_19" ON "public"."t_icd10" USING btree (
  "icd10_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_t_icd10_icd_code" ON "public"."t_icd10" USING btree (
  "icd_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_icd10
-- ----------------------------
ALTER TABLE "public"."t_icd10" ADD CONSTRAINT "t_icd10_pkey" PRIMARY KEY ("icd10_id");

-- ----------------------------
-- Primary Key structure for table t_icd10_class
-- ----------------------------
ALTER TABLE "public"."t_icd10_class" ADD CONSTRAINT "t_icd10_class_pkey" PRIMARY KEY ("icd10_class_id");

-- ----------------------------
-- Indexes structure for table t_icd9
-- ----------------------------
CREATE INDEX "fk_rel_pub_18" ON "public"."t_icd9" USING btree (
  "icd9_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_icd9
-- ----------------------------
ALTER TABLE "public"."t_icd9" ADD CONSTRAINT "t_icd9_pkey" PRIMARY KEY ("icd_9_id");

-- ----------------------------
-- Primary Key structure for table t_icd9_class
-- ----------------------------
ALTER TABLE "public"."t_icd9_class" ADD CONSTRAINT "t_icd9_class_pkey" PRIMARY KEY ("icd9_class_id");

-- ----------------------------
-- Primary Key structure for table t_icd_tumor_type
-- ----------------------------
ALTER TABLE "public"."t_icd_tumor_type" ADD CONSTRAINT "t_icd_tumor_type_pkey" PRIMARY KEY ("tumor_type_id");

-- ----------------------------
-- Primary Key structure for table t_kw_ver
-- ----------------------------
ALTER TABLE "public"."t_kw_ver" ADD CONSTRAINT "t_kw_ver_pkey" PRIMARY KEY ("ver_id");

-- ----------------------------
-- Indexes structure for table t_kw_ver_export
-- ----------------------------
CREATE INDEX "fk_relationship_1" ON "public"."t_kw_ver_export" USING btree (
  "ver_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_kw_ver_export
-- ----------------------------
ALTER TABLE "public"."t_kw_ver_export" ADD CONSTRAINT "t_kw_ver_export_pkey" PRIMARY KEY ("ver_export_id");

-- ----------------------------
-- Primary Key structure for table t_medical_account_type
-- ----------------------------
ALTER TABLE "public"."t_medical_account_type" ADD CONSTRAINT "t_medica_account_type_pkey" PRIMARY KEY ("hosp_account_type_id");

-- ----------------------------
-- Primary Key structure for table t_medical_clinical_path_type
-- ----------------------------
ALTER TABLE "public"."t_medical_clinical_path_type" ADD CONSTRAINT "t_medica_clinical_path_type_pkey" PRIMARY KEY ("clinical_path_type_id");

-- ----------------------------
-- Primary Key structure for table t_medical_cost_type
-- ----------------------------
ALTER TABLE "public"."t_medical_cost_type" ADD CONSTRAINT "t_medical_cost_type_pkey" PRIMARY KEY ("cost_type_id");

-- ----------------------------
-- Indexes structure for table t_medical_diag
-- ----------------------------
CREATE INDEX "fk_rel_hosp_048" ON "public"."t_medical_diag" USING btree (
  "diag_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_052" ON "public"."t_medical_diag" USING btree (
  "hosp_account_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_053" ON "public"."t_medical_diag" USING btree (
  "hosp_fee_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_054" ON "public"."t_medical_diag" USING btree (
  "hosp_page_fee_type_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_061" ON "public"."t_medical_diag" USING btree (
  "hosp_medsup_lev_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_medical_diag
-- ----------------------------
ALTER TABLE "public"."t_medical_diag" ADD CONSTRAINT "t_medical_diag_pkey" PRIMARY KEY ("diag_id");

-- ----------------------------
-- Primary Key structure for table t_medical_diag_class
-- ----------------------------
ALTER TABLE "public"."t_medical_diag_class" ADD CONSTRAINT "t_medical_diag_class_pkey" PRIMARY KEY ("diag_class_id");

-- ----------------------------
-- Indexes structure for table t_medical_icd10
-- ----------------------------
CREATE INDEX "fk_rel_hosp_009" ON "public"."t_medical_icd10" USING btree (
  "mi_icd10_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_050" ON "public"."t_medical_icd10" USING btree (
  "icd10_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_med_icd10_code" ON "public"."t_medical_icd10" USING btree (
  "icd_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_medical_icd10
-- ----------------------------
ALTER TABLE "public"."t_medical_icd10" ADD CONSTRAINT "t_medical_icd10_pkey" PRIMARY KEY ("icd10_id");

-- ----------------------------
-- Indexes structure for table t_medical_icd10_class
-- ----------------------------
CREATE INDEX "idx_t_medical_icd10_class_icd10_class_code" ON "public"."t_medical_icd10_class" USING btree (
  "icd10_class_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_medical_icd10_class
-- ----------------------------
ALTER TABLE "public"."t_medical_icd10_class" ADD CONSTRAINT "t_medical_icd10_class_pkey" PRIMARY KEY ("icd10_class_id");

-- ----------------------------
-- Indexes structure for table t_medical_icd9
-- ----------------------------
CREATE INDEX "fk_rel_hosp_007" ON "public"."t_medical_icd9" USING btree (
  "mi_icd9_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_hosp_049" ON "public"."t_medical_icd9" USING btree (
  "icd9_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_med_icd9_code" ON "public"."t_medical_icd9" USING btree (
  "icd_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_medical_icd9
-- ----------------------------
ALTER TABLE "public"."t_medical_icd9" ADD CONSTRAINT "t_medical_icd9_pkey" PRIMARY KEY ("icd9_id");

-- ----------------------------
-- Primary Key structure for table t_medical_icd9_class
-- ----------------------------
ALTER TABLE "public"."t_medical_icd9_class" ADD CONSTRAINT "t_medical_icd9_class_pkey" PRIMARY KEY ("icd9_class_id");

-- ----------------------------
-- Primary Key structure for table t_medical_indicator
-- ----------------------------
ALTER TABLE "public"."t_medical_indicator" ADD CONSTRAINT "t_medica_indicator_pkey" PRIMARY KEY ("indicator_id");

-- ----------------------------
-- Primary Key structure for table t_medical_indicator_caliber
-- ----------------------------
ALTER TABLE "public"."t_medical_indicator_caliber" ADD CONSTRAINT "t_medical_indicator_caliber_pkey" PRIMARY KEY ("indicator_caliber_id");

-- ----------------------------
-- Primary Key structure for table t_medical_indicator_prg
-- ----------------------------
ALTER TABLE "public"."t_medical_indicator_prg" ADD CONSTRAINT "t_medical_indicator_prg_pkey" PRIMARY KEY ("indicator_prg_id");

-- ----------------------------
-- Primary Key structure for table t_medical_medsup_lev
-- ----------------------------
ALTER TABLE "public"."t_medical_medsup_lev" ADD CONSTRAINT "t_medical_medsup_lev_pkey" PRIMARY KEY ("hosp_medsup_lev_id");

-- ----------------------------
-- Indexes structure for table t_medical_opt_lev
-- ----------------------------
CREATE INDEX "ix_opt_lev_code" ON "public"."t_medical_opt_lev" USING btree (
  "opt_lev_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_opt_lev_name" ON "public"."t_medical_opt_lev" USING btree (
  "opt_lev_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_medical_opt_lev
-- ----------------------------
ALTER TABLE "public"."t_medical_opt_lev" ADD CONSTRAINT "t_medical_opt_lev_pkey" PRIMARY KEY ("opt_lev_id");

-- ----------------------------
-- Primary Key structure for table t_medical_page_fee_type
-- ----------------------------
ALTER TABLE "public"."t_medical_page_fee_type" ADD CONSTRAINT "t_medical_page_fee_type_pkey" PRIMARY KEY ("hosp_page_fee_type_id");

-- ----------------------------
-- Primary Key structure for table t_medical_psn_type
-- ----------------------------
ALTER TABLE "public"."t_medical_psn_type" ADD CONSTRAINT "t_medical_psn_type_pkey" PRIMARY KEY ("hosp_psn_type_id");

-- ----------------------------
-- Primary Key structure for table t_medical_risk_lev
-- ----------------------------
ALTER TABLE "public"."t_medical_risk_lev" ADD CONSTRAINT "t_medical_risk_lev_pkey" PRIMARY KEY ("risk_lev_id");

-- ----------------------------
-- Indexes structure for table t_medsup
-- ----------------------------
CREATE INDEX "fk_rel_pub_07" ON "public"."t_medsup" USING btree (
  "org_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_pub_08" ON "public"."t_medsup" USING btree (
  "medsup_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_medsup
-- ----------------------------
ALTER TABLE "public"."t_medsup" ADD CONSTRAINT "t_medsup_pkey" PRIMARY KEY ("med_sup_id");

-- ----------------------------
-- Primary Key structure for table t_medsup_class
-- ----------------------------
ALTER TABLE "public"."t_medsup_class" ADD CONSTRAINT "t_medsup_class_pkey" PRIMARY KEY ("medsup_class_id");

-- ----------------------------
-- Primary Key structure for table t_platform_user
-- ----------------------------
ALTER TABLE "public"."t_platform_user" ADD CONSTRAINT "t_platform_user_pkey" PRIMARY KEY ("platform_user_id");

-- ----------------------------
-- Primary Key structure for table t_sys_config
-- ----------------------------
ALTER TABLE "public"."t_sys_config" ADD CONSTRAINT "t_sys_config_pkey" PRIMARY KEY ("sys_config_id");

-- ----------------------------
-- Indexes structure for table t_sys_log
-- ----------------------------
CREATE INDEX "fk_rel_01" ON "public"."t_sys_log" USING btree (
  "user_id" COLLATE "pg_catalog"."default" "pg_catalog"."bpchar_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_04" ON "public"."t_sys_log" USING btree (
  "model_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_sys_log
-- ----------------------------
ALTER TABLE "public"."t_sys_log" ADD CONSTRAINT "t_sys_log_pkey" PRIMARY KEY ("log_id");

-- ----------------------------
-- Indexes structure for table t_sys_menu
-- ----------------------------
CREATE INDEX "fk_rel_27" ON "public"."t_sys_menu" USING btree (
  "model_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_sys_menu
-- ----------------------------
ALTER TABLE "public"."t_sys_menu" ADD CONSTRAINT "t_sys_menu_pkey" PRIMARY KEY ("menu_item_id");

-- ----------------------------
-- Primary Key structure for table t_sys_model
-- ----------------------------
ALTER TABLE "public"."t_sys_model" ADD CONSTRAINT "t_sys_model_pkey" PRIMARY KEY ("model_code");

-- ----------------------------
-- Indexes structure for table t_sys_model_perm
-- ----------------------------
CREATE INDEX "fk_rel_02" ON "public"."t_sys_model_perm" USING btree (
  "perm_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_03" ON "public"."t_sys_model_perm" USING btree (
  "model_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_sys_model_perm
-- ----------------------------
ALTER TABLE "public"."t_sys_model_perm" ADD CONSTRAINT "t_sys_model_perm_pkey" PRIMARY KEY ("model_perm_id");

-- ----------------------------
-- Primary Key structure for table t_sys_opt_log
-- ----------------------------
ALTER TABLE "public"."t_sys_opt_log" ADD CONSTRAINT "t_sys_opt_log_pkey" PRIMARY KEY ("opt_log_id");

-- ----------------------------
-- Primary Key structure for table t_sys_perm
-- ----------------------------
ALTER TABLE "public"."t_sys_perm" ADD CONSTRAINT "t_sys_perm_pkey" PRIMARY KEY ("perm_code");

-- ----------------------------
-- Primary Key structure for table t_sys_role
-- ----------------------------
ALTER TABLE "public"."t_sys_role" ADD CONSTRAINT "t_sys_role_pkey" PRIMARY KEY ("role_id");

-- ----------------------------
-- Indexes structure for table t_sys_role_perm
-- ----------------------------
CREATE INDEX "fk_rel_06" ON "public"."t_sys_role_perm" USING btree (
  "perm_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_08" ON "public"."t_sys_role_perm" USING btree (
  "role_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_19" ON "public"."t_sys_role_perm" USING btree (
  "model_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_sys_role_perm
-- ----------------------------
ALTER TABLE "public"."t_sys_role_perm" ADD CONSTRAINT "t_sys_role_perm_pkey" PRIMARY KEY ("role_perm_id");

-- ----------------------------
-- Primary Key structure for table t_sys_user
-- ----------------------------
ALTER TABLE "public"."t_sys_user" ADD CONSTRAINT "t_sys_user_pkey" PRIMARY KEY ("user_id");

-- ----------------------------
-- Indexes structure for table t_sys_user_role
-- ----------------------------
CREATE INDEX "fk_rel_09" ON "public"."t_sys_user_role" USING btree (
  "user_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_10" ON "public"."t_sys_user_role" USING btree (
  "role_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_sys_user_role
-- ----------------------------
ALTER TABLE "public"."t_sys_user_role" ADD CONSTRAINT "t_sys_user_role_pkey" PRIMARY KEY ("user_role_id");

-- ----------------------------
-- Indexes structure for table t_test_case
-- ----------------------------
CREATE INDEX "fk_rel_kw_017" ON "public"."t_test_case" USING btree (
  "case_data_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_case
-- ----------------------------
ALTER TABLE "public"."t_test_case" ADD CONSTRAINT "t_test_case_pkey" PRIMARY KEY ("case_id");

-- ----------------------------
-- Indexes structure for table t_test_case_data
-- ----------------------------
CREATE INDEX "fk_rel_kw_018" ON "public"."t_test_case_data" USING btree (
  "test_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_case_data
-- ----------------------------
ALTER TABLE "public"."t_test_case_data" ADD CONSTRAINT "t_test_case_data_pkey" PRIMARY KEY ("case_data_id");

-- ----------------------------
-- Indexes structure for table t_test_case_diag
-- ----------------------------
CREATE INDEX "fk_rel_kw_014" ON "public"."t_test_case_diag" USING btree (
  "case_data_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_case_diag
-- ----------------------------
ALTER TABLE "public"."t_test_case_diag" ADD CONSTRAINT "t_test_case_diag_pkey" PRIMARY KEY ("case_diag_id");

-- ----------------------------
-- Indexes structure for table t_test_case_fee
-- ----------------------------
CREATE INDEX "fk_rel_kw_016" ON "public"."t_test_case_fee" USING btree (
  "case_data_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_case_fee
-- ----------------------------
ALTER TABLE "public"."t_test_case_fee" ADD CONSTRAINT "t_test_case_fee_pkey" PRIMARY KEY ("case_fee_id");

-- ----------------------------
-- Indexes structure for table t_test_case_log
-- ----------------------------
CREATE INDEX "fk_rel_kw_013" ON "public"."t_test_case_log" USING btree (
  "case_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_case_log
-- ----------------------------
ALTER TABLE "public"."t_test_case_log" ADD CONSTRAINT "t_test_case_log_pkey" PRIMARY KEY ("case_log_id");

-- ----------------------------
-- Indexes structure for table t_test_case_opt
-- ----------------------------
CREATE INDEX "fk_rel_kw_015" ON "public"."t_test_case_opt" USING btree (
  "case_data_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_case_opt
-- ----------------------------
ALTER TABLE "public"."t_test_case_opt" ADD CONSTRAINT "t_test_case_opt_pkey" PRIMARY KEY ("case_opt_id");

-- ----------------------------
-- Primary Key structure for table t_test_class
-- ----------------------------
ALTER TABLE "public"."t_test_class" ADD CONSTRAINT "t_test_class_pkey" PRIMARY KEY ("test_class_id");

-- ----------------------------
-- Indexes structure for table t_test_class_case
-- ----------------------------
CREATE INDEX "fk_rel_kw_011" ON "public"."t_test_class_case" USING btree (
  "test_class_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "fk_rel_kw_012" ON "public"."t_test_class_case" USING btree (
  "case_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_test_class_case
-- ----------------------------
ALTER TABLE "public"."t_test_class_case" ADD CONSTRAINT "t_test_class_case_pkey" PRIMARY KEY ("class_case_id");

-- ----------------------------
-- Primary Key structure for table t_test_config
-- ----------------------------
ALTER TABLE "public"."t_test_config" ADD CONSTRAINT "t_test_config_pkey" PRIMARY KEY ("test_config_id");

-- ----------------------------
-- Primary Key structure for table t_workload_adjusted_total
-- ----------------------------
ALTER TABLE "public"."t_workload_adjusted_total" ADD CONSTRAINT "pk_adjusted_total" PRIMARY KEY ("yyyy_mm", "绩效科室ID");

-- ----------------------------
-- Primary Key structure for table t_workload_analysis_intface
-- ----------------------------
ALTER TABLE "public"."t_workload_analysis_intface" ADD CONSTRAINT "t_workload_analysis_intface_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Indexes structure for table t_workload_dep_def
-- ----------------------------
CREATE INDEX "idx_dep_def_dept" ON "public"."t_workload_dep_def" USING btree (
  "绩效科室ID" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_dep_def2fina
-- ----------------------------
CREATE INDEX "idx_dep_his_code_copy1" ON "public"."t_workload_dep_def2fina" USING btree (
  "财务科室编码" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_dep_mapping_copy1" ON "public"."t_workload_dep_def2fina" USING btree (
  "绩效科室ID" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_dep_def2his
-- ----------------------------
CREATE INDEX "idx_dep_his_code" ON "public"."t_workload_dep_def2his" USING btree (
  "HIS科室编码" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_dep_mapping" ON "public"."t_workload_dep_def2his" USING btree (
  "绩效科室ID" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_doc_perform_detail
-- ----------------------------
ALTER TABLE "public"."t_workload_doc_perform_detail" ADD CONSTRAINT "pk_workload_doc_perform_detail" PRIMARY KEY ("yyyy_mm", "doctor_id", "department_code");

-- ----------------------------
-- Indexes structure for table t_workload_doc_perform_total
-- ----------------------------
CREATE INDEX "idx_perform_total_category" ON "public"."t_workload_doc_perform_total" USING btree (
  "绩效科室类别" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_perform_total_dept" ON "public"."t_workload_doc_perform_total" USING btree (
  "绩效科室ID" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_perform_total_ym" ON "public"."t_workload_doc_perform_total" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_drg_bill
-- ----------------------------
CREATE INDEX "ix_yyyy_mm_dg" ON "public"."t_workload_drg_bill" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_drg_bill_detail
-- ----------------------------
CREATE INDEX "idx_drg_mdtrt_id" ON "public"."t_workload_drg_bill_detail" USING btree (
  "mdtrt_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_drg_point
-- ----------------------------
CREATE INDEX "idx_drg_point_code" ON "public"."t_workload_drg_point" USING btree (
  "DRG编码" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "参保类型" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_drg" ON "public"."t_workload_drg_point" USING btree (
  "DRG编码" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Triggers structure for table t_workload_drg_point
-- ----------------------------
CREATE TRIGGER "trg_t_workload_drg_point_audit" AFTER INSERT OR UPDATE OR DELETE ON "public"."t_workload_drg_point"
FOR EACH ROW
EXECUTE PROCEDURE "public"."hx_audit_trigger"();

-- ----------------------------
-- Primary Key structure for table t_workload_drg_point
-- ----------------------------
ALTER TABLE "public"."t_workload_drg_point" ADD CONSTRAINT "t_workload_drg_point_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Indexes structure for table t_workload_drg_sum_fee
-- ----------------------------
CREATE INDEX "idx_drg_sum_fee_dept" ON "public"."t_workload_drg_sum_fee" USING btree (
  "费用发生科室" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_drg_sum_fee_visit" ON "public"."t_workload_drg_sum_fee" USING btree (
  "住院标识" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_drg_sum_fee_detail
-- ----------------------------
CREATE INDEX "idx_drg_detail_visit" ON "public"."t_workload_drg_sum_fee_detail" USING btree (
  "住院标识" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_drgs
-- ----------------------------
CREATE INDEX "idx_drgs_inbed_reg_id" ON "public"."t_workload_drgs" USING btree (
  "inbed_reg_id" "pg_catalog"."numeric_ops" ASC NULLS LAST
);
CREATE INDEX "idx_inbde_drgs_1" ON "public"."t_workload_drgs" USING btree (
  "drgs_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "drgs_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "pre_yk" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "group_result" "pg_catalog"."numeric_ops" ASC NULLS LAST
);
CREATE INDEX "idx_inbde_drgs_2" ON "public"."t_workload_drgs" USING btree (
  "group_result" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "case_points" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "payment_avg" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "mdc_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "inbed_days_avg" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "inbed_days" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "death_lev" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "drgs_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "bill_amt" "pg_catalog"."numeric_ops" ASC NULLS LAST,
  "inbed_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "hosp_id" "pg_catalog"."numeric_ops" ASC NULLS LAST
);
CREATE INDEX "index_drgs_out_date" ON "public"."t_workload_drgs" USING btree (
  "outhosp_date" "pg_catalog"."timestamp_ops" ASC NULLS LAST
);
CREATE INDEX "index_drgs_reason_type" ON "public"."t_workload_drgs" USING btree (
  "reason_type" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "index_inbed_drgs_inbed_drgs_id" ON "public"."t_workload_drgs" USING btree (
  "drgs_id" "pg_catalog"."numeric_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_drgs
-- ----------------------------
ALTER TABLE "public"."t_workload_drgs" ADD CONSTRAINT "pk_t_data_inbed_drgs" PRIMARY KEY ("inbed_drgs_id");

-- ----------------------------
-- Uniques structure for table t_workload_hosp_all
-- ----------------------------
ALTER TABLE "public"."t_workload_hosp_all" ADD CONSTRAINT "ix_yyyymm" UNIQUE ("年月");

-- ----------------------------
-- Primary Key structure for table t_workload_hosp_all
-- ----------------------------
ALTER TABLE "public"."t_workload_hosp_all" ADD CONSTRAINT "t_workload_hosp_all_pkey" PRIMARY KEY ("年月");

-- ----------------------------
-- Indexes structure for table t_workload_inbed_bill
-- ----------------------------
CREATE INDEX "ix_bill_mdtrt_id" ON "public"."t_workload_inbed_bill" USING btree (
  "mdtrt_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_inbed_bill
-- ----------------------------
ALTER TABLE "public"."t_workload_inbed_bill" ADD CONSTRAINT "t_workload_inbed_bill_pkey" PRIMARY KEY ("rcpt_id");

-- ----------------------------
-- Indexes structure for table t_workload_inp
-- ----------------------------
CREATE INDEX "idx_inp" ON "public"."t_workload_inp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "patient_in_dept" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "status_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_inp_ym" ON "public"."t_workload_inp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_vworkload_inp" ON "public"."t_workload_inp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ item_code" ON "public"."t_workload_inp" USING btree (
  "item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_inp_yyyy_mm" ON "public"."t_workload_inp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_class_name" ON "public"."t_workload_inp" USING btree (
  "item_class_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_type_name" ON "public"."t_workload_inp" USING btree (
  "item_type_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_order_doctor" ON "public"."t_workload_inp" USING btree (
  "order_doctor" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ordered_by" ON "public"."t_workload_inp" USING btree (
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_patient_in_dept" ON "public"."t_workload_inp" USING btree (
  "patient_in_dept" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_perform_doctor" ON "public"."t_workload_inp" USING btree (
  "perform_doctor" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_performed_by" ON "public"."t_workload_inp" USING btree (
  "performed_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_rcpt id" ON "public"."t_workload_inp" USING btree (
  "rcpt_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_status_code" ON "public"."t_workload_inp" USING btree (
  "status_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_visit_id" ON "public"."t_workload_inp" USING btree (
  "visit_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ward_code" ON "public"."t_workload_inp" USING btree (
  "ward_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ward_code_inp" ON "public"."t_workload_inp" USING btree (
  "ward_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ym_order" ON "public"."t_workload_inp" USING btree (
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_yy_performed" ON "public"."t_workload_inp" USING btree (
  "performed_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_item_point
-- ----------------------------
CREATE INDEX "ix_fee_item_code_copy2" ON "public"."t_workload_item_point" USING btree (
  "fee_item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_item_point
-- ----------------------------
ALTER TABLE "public"."t_workload_item_point" ADD CONSTRAINT "t_hosp_item_workload_copy1_pkey1" PRIMARY KEY ("item_workload_id");

-- ----------------------------
-- Primary Key structure for table t_workload_log
-- ----------------------------
ALTER TABLE "public"."t_workload_log" ADD CONSTRAINT "t_workload_log_pkey" PRIMARY KEY ("log_id");

-- ----------------------------
-- Primary Key structure for table t_workload_modification_log
-- ----------------------------
ALTER TABLE "public"."t_workload_modification_log" ADD CONSTRAINT "t_workload_modification_log_pkey" PRIMARY KEY ("log_id");

-- ----------------------------
-- Indexes structure for table t_workload_operation_type
-- ----------------------------
CREATE INDEX "ix_类别_jr" ON "public"."t_workload_operation_type" USING btree (
  "类别" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_operation_type
-- ----------------------------
ALTER TABLE "public"."t_workload_operation_type" ADD CONSTRAINT "t_workload_dir_jrzy_pkey" PRIMARY KEY ("项目编码");

-- ----------------------------
-- Indexes structure for table t_workload_outp
-- ----------------------------
CREATE INDEX "idx_outp" ON "public"."t_workload_outp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "status_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_outp_ym" ON "public"."t_workload_outp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_class_name_o" ON "public"."t_workload_outp" USING btree (
  "item_class_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_code_o" ON "public"."t_workload_outp" USING btree (
  "item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_type_name_o" ON "public"."t_workload_outp" USING btree (
  "item_type_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ordered_by_doctor" ON "public"."t_workload_outp" USING btree (
  "ordered_by_doctor" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ordered_by_outp" ON "public"."t_workload_outp" USING btree (
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_outp_yyyy_mm" ON "public"."t_workload_outp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_performed_by_doctor" ON "public"."t_workload_outp" USING btree (
  "performed_by_doctor" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_performed_by_outp" ON "public"."t_workload_outp" USING btree (
  "performed_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_status_code_o" ON "public"."t_workload_outp" USING btree (
  "status_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_visit_no" ON "public"."t_workload_outp" USING btree (
  "visit_no" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ward_code_outp" ON "public"."t_workload_outp" USING btree (
  "ward_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_yyyy_mm_outp" ON "public"."t_workload_outp" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_outp_bak
-- ----------------------------
CREATE INDEX "idx_outp_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "status_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_outp_ym_copy1" ON "public"."t_workload_outp_bak" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_class_name_o_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "item_class_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_code_o_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_item_type_name_o_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "item_type_name" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ordered_by_doctor_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "ordered_by_doctor" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ordered_by_outp_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "ordered_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_outp_yyyy_mm_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "yyyy_mm" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_performed_by_doctor_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "performed_by_doctor" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_performed_by_outp_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "performed_by" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_status_code_o_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "status_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_visit_no_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "visit_no" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "ix_ward_code_outp_copy2" ON "public"."t_workload_outp_bak" USING btree (
  "ward_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table t_workload_overal
-- ----------------------------
ALTER TABLE "public"."t_workload_overal" ADD CONSTRAINT "ix_yyyy_mm" UNIQUE ("年月");

-- ----------------------------
-- Uniques structure for table t_workload_perform_allocate1
-- ----------------------------
ALTER TABLE "public"."t_workload_perform_allocate1" ADD CONSTRAINT "t_workload_perform_allocate_copy1_年月_key" UNIQUE ("年月");

-- ----------------------------
-- Uniques structure for table t_workload_perfpay_cl
-- ----------------------------
ALTER TABLE "public"."t_workload_perfpay_cl" ADD CONSTRAINT "key_id_yyyy_mm_cl" UNIQUE ("绩效科室ID", "yyyy_mm");

-- ----------------------------
-- Uniques structure for table t_workload_perfpay_hl
-- ----------------------------
ALTER TABLE "public"."t_workload_perfpay_hl" ADD CONSTRAINT "key_id_yyyy_mm_hl" UNIQUE ("绩效科室ID", "yyyy_mm");

-- ----------------------------
-- Uniques structure for table t_workload_perfpay_mz
-- ----------------------------
ALTER TABLE "public"."t_workload_perfpay_mz" ADD CONSTRAINT "t_workload_perfpay_cl_copy1_绩效科室ID_yyyy_mm_key" UNIQUE ("绩效科室ID", "yyyy_mm");

-- ----------------------------
-- Uniques structure for table t_workload_perfpay_yj
-- ----------------------------
ALTER TABLE "public"."t_workload_perfpay_yj" ADD CONSTRAINT "key_id_yyyy_mm_yj" UNIQUE ("绩效科室ID", "yyyy_mm");

-- ----------------------------
-- Indexes structure for table t_workload_point
-- ----------------------------
CREATE INDEX "idx_fee_item_code" ON "public"."t_workload_point" USING btree (
  "fee_item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_point
-- ----------------------------
ALTER TABLE "public"."t_workload_point" ADD CONSTRAINT "t_workload_point_pkey" PRIMARY KEY ("item_workload_id");

-- ----------------------------
-- Indexes structure for table t_workload_point_exe_sp
-- ----------------------------
CREATE INDEX "ix_item_code" ON "public"."t_workload_point_exe_sp" USING btree (
  "item_code" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Indexes structure for table t_workload_supplement
-- ----------------------------
CREATE INDEX "idx_dep_def_dept_copy1" ON "public"."t_workload_supplement" USING btree (
  "绩效科室ID" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Uniques structure for table t_workload_supplement
-- ----------------------------
ALTER TABLE "public"."t_workload_supplement" ADD CONSTRAINT "ix_id_yyyy_mm_sup" UNIQUE ("绩效科室ID", "yyyy_mm", "绩效科室名称");

-- ----------------------------
-- Indexes structure for table t_workload_surgery_level
-- ----------------------------
CREATE INDEX "idx_surgery_level" ON "public"."t_workload_surgery_level" USING btree (
  "编码" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST,
  "手术级别" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Primary Key structure for table t_workload_surgery_level
-- ----------------------------
ALTER TABLE "public"."t_workload_surgery_level" ADD CONSTRAINT "t_surgery_level_pkey" PRIMARY KEY ("编码");

-- ----------------------------
-- Indexes structure for table t_workload_transfer
-- ----------------------------
CREATE INDEX "i_visit_id_1" ON "public"."t_workload_transfer" USING btree (
  "visit_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
CREATE INDEX "idx_transfer_visit" ON "public"."t_workload_transfer" USING btree (
  "visit_id" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);

-- ----------------------------
-- Foreign Keys structure for table ai_chat_detail
-- ----------------------------
ALTER TABLE "public"."ai_chat_detail" ADD CONSTRAINT "fk_rel_ai_03" FOREIGN KEY ("ai_chat_id") REFERENCES "public"."ai_chat_history" ("ai_chat_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table ai_chat_history
-- ----------------------------
ALTER TABLE "public"."ai_chat_history" ADD CONSTRAINT "fk_rel_ai_01" FOREIGN KEY ("ai_service_id") REFERENCES "public"."ai_service" ("ai_service_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."ai_chat_history" ADD CONSTRAINT "fk_rel_ai_user" FOREIGN KEY ("user_id") REFERENCES "public"."t_sys_user" ("user_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_analysis_model
-- ----------------------------
ALTER TABLE "public"."t_analysis_model" ADD CONSTRAINT "fk_rel_analy_009" FOREIGN KEY ("model_code") REFERENCES "public"."t_sys_model" ("model_code") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_analysis_model_result
-- ----------------------------
ALTER TABLE "public"."t_analysis_model_result" ADD CONSTRAINT "fk_rel_analy_010" FOREIGN KEY ("result_id") REFERENCES "public"."t_analysis_result" ("result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_analysis_model_result" ADD CONSTRAINT "fk_rel_analy_011" FOREIGN KEY ("analysis_model_id") REFERENCES "public"."t_analysis_model" ("analysis_model_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_analysis_result
-- ----------------------------
ALTER TABLE "public"."t_analysis_result" ADD CONSTRAINT "fk_rel_analy_002" FOREIGN KEY ("source_id") REFERENCES "public"."t_analysis_source" ("source_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_analysis_result_condition
-- ----------------------------
ALTER TABLE "public"."t_analysis_result_condition" ADD CONSTRAINT "fk_rel_analy_005" FOREIGN KEY ("condition_id") REFERENCES "public"."t_analysis_condition" ("condition_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_analysis_result_condition" ADD CONSTRAINT "fk_rel_analy_008" FOREIGN KEY ("result_id") REFERENCES "public"."t_analysis_result" ("result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_analysis_result_cube
-- ----------------------------
ALTER TABLE "public"."t_analysis_result_cube" ADD CONSTRAINT "fk_rel_analy_003" FOREIGN KEY ("cube_id") REFERENCES "public"."t_analysis_cube" ("cube_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_analysis_result_cube" ADD CONSTRAINT "fk_rel_analy_006" FOREIGN KEY ("result_id") REFERENCES "public"."t_analysis_result" ("result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_analysis_result_indicator
-- ----------------------------
ALTER TABLE "public"."t_analysis_result_indicator" ADD CONSTRAINT "fk_rel_analy_004" FOREIGN KEY ("analysis_indicator_id") REFERENCES "public"."t_analysis_indicator" ("analysis_indicator_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_analysis_result_indicator" ADD CONSTRAINT "fk_rel_analy_007" FOREIGN KEY ("result_id") REFERENCES "public"."t_analysis_result" ("result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_chs_drug_form_rel
-- ----------------------------
ALTER TABLE "public"."t_chs_drug_form_rel" ADD CONSTRAINT "fk_rel_pub_14" FOREIGN KEY ("drug_mi_form_id") REFERENCES "public"."t_chs_drug_form" ("drug_mi_form_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_chs_drug_form_rel" ADD CONSTRAINT "fk_rel_pub_15" FOREIGN KEY ("drug_form_id") REFERENCES "public"."t_drug_form" ("drug_form_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_chs_org_paymtd
-- ----------------------------
ALTER TABLE "public"."t_chs_org_paymtd" ADD CONSTRAINT "fk_rel_pub_04" FOREIGN KEY ("si_type_id") REFERENCES "public"."t_chs_si_type" ("si_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_chs_org_paymtd" ADD CONSTRAINT "fk_rel_pub_05" FOREIGN KEY ("paymtd_id") REFERENCES "public"."t_chs_paymtd" ("paymtd_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_chs_org_paymtd" ADD CONSTRAINT "fk_rel_pub_20" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_chs_org_ver
-- ----------------------------
ALTER TABLE "public"."t_chs_org_ver" ADD CONSTRAINT "fk_rel_pub_21" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_chs_org_ver" ADD CONSTRAINT "fk_rel_pub_22" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_chs_rule
-- ----------------------------
ALTER TABLE "public"."t_chs_rule" ADD CONSTRAINT "fk_chs_rule" FOREIGN KEY ("rule_class_id") REFERENCES "public"."t_chs_rule_class" ("rule_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_chs_ver
-- ----------------------------
ALTER TABLE "public"."t_chs_ver" ADD CONSTRAINT "fk_rel_pub_03" FOREIGN KEY ("paymtd_id") REFERENCES "public"."t_chs_paymtd" ("paymtd_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_check_appeal
-- ----------------------------
ALTER TABLE "public"."t_data_check_appeal" ADD CONSTRAINT "fk_check_appeal_result" FOREIGN KEY ("check_result_id") REFERENCES "public"."t_data_check_result" ("check_result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_check_appeal" ADD CONSTRAINT "fk_check_appeal_rule" FOREIGN KEY ("inbed_check_rule_id") REFERENCES "public"."t_data_check_rule" ("inbed_check_rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_check_detail
-- ----------------------------
ALTER TABLE "public"."t_data_check_detail" ADD CONSTRAINT "fk_rel_check_detail_rule" FOREIGN KEY ("inbed_check_rule_id") REFERENCES "public"."t_data_check_rule" ("inbed_check_rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_check_detail" ADD CONSTRAINT "fk_rel_hosp_19" FOREIGN KEY ("check_result_id") REFERENCES "public"."t_data_check_result" ("check_result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_check_result
-- ----------------------------
ALTER TABLE "public"."t_data_check_result" ADD CONSTRAINT "fk_rel_hosp_30" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_check_rule
-- ----------------------------
ALTER TABLE "public"."t_data_check_rule" ADD CONSTRAINT "fk_check_rule_result" FOREIGN KEY ("check_result_id") REFERENCES "public"."t_data_check_result" ("check_result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_check_rule" ADD CONSTRAINT "fk_check_rule_rule" FOREIGN KEY ("rule_id") REFERENCES "public"."t_chs_rule" ("rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_check_rule_detail
-- ----------------------------
ALTER TABLE "public"."t_data_check_rule_detail" ADD CONSTRAINT "fk_rel_check_rule_detail" FOREIGN KEY ("inbed_check_rule_id") REFERENCES "public"."t_data_check_rule" ("inbed_check_rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_check_rule_detail" ADD CONSTRAINT "fk_rel_hosp_20" FOREIGN KEY ("check_detail_id") REFERENCES "public"."t_data_check_detail" ("check_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_group_result
-- ----------------------------
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "fk_rel_hosp_112" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "fk_rel_hosp_113" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "fk_rel_hosp_114" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "fk_rel_hosp_115" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "fk_relationship_86" FOREIGN KEY ("mdc_id") REFERENCES "public"."t_drg_mdc" ("mdc_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_group_result" ADD CONSTRAINT "fk_relationship_87" FOREIGN KEY ("adrg_id") REFERENCES "public"."t_drg_adrg" ("adrg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_bill_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_bill_d" ADD CONSTRAINT "fk_rel_hosp_08" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_bill_d" ADD CONSTRAINT "fk_rel_hosp_69" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_bill_d" ADD CONSTRAINT "fk_rel_hosp_70" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_diag_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_diag_d" ADD CONSTRAINT "fk_rel_hosp_12" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_diag_d" ADD CONSTRAINT "fk_rel_hosp_80" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_emr
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_emr" ADD CONSTRAINT "fk_rel_hosp_21" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_opt_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_opt_d" ADD CONSTRAINT "fk_rel_hosp_13" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_opt_d" ADD CONSTRAINT "fk_rel_hosp_81" FOREIGN KEY ("icd_9_id") REFERENCES "public"."t_icd9" ("icd_9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_page_bill
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill" ADD CONSTRAINT "fk_rel_hosp_56" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_page_bill" ADD CONSTRAINT "fk_rel_hosp_57" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_page_bill" ADD CONSTRAINT "fk_rel_hosp_58" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_page_bill" ADD CONSTRAINT "fk_rel_hosp_59" FOREIGN KEY ("inbed_bill_id") REFERENCES "public"."t_data_inbed_bill_d" ("inbed_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_page_bill_blood
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_blood" ADD CONSTRAINT "fk_rel_hosp_15" FOREIGN KEY ("inbed_page_bill_id") REFERENCES "public"."t_data_inbed_page_bill" ("inbed_page_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_page_bill_diag
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_diag" ADD CONSTRAINT "fk_rel_hosp_18" FOREIGN KEY ("inbed_page_bill_id") REFERENCES "public"."t_data_inbed_page_bill" ("inbed_page_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_page_bill_diag" ADD CONSTRAINT "fk_rel_hosp_23" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_page_bill_icu
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_icu" ADD CONSTRAINT "fk_rel_hosp_16" FOREIGN KEY ("inbed_page_bill_id") REFERENCES "public"."t_data_inbed_page_bill" ("inbed_page_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_page_bill_item
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_item" ADD CONSTRAINT "fk_rel_hosp_11" FOREIGN KEY ("inbed_page_bill_id") REFERENCES "public"."t_data_inbed_page_bill" ("inbed_page_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_page_bill_opt
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_page_bill_opt" ADD CONSTRAINT "fk_rel_hosp_17" FOREIGN KEY ("inbed_page_bill_id") REFERENCES "public"."t_data_inbed_page_bill" ("inbed_page_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_page_bill_opt" ADD CONSTRAINT "fk_rel_hosp_24" FOREIGN KEY ("icd_9_id") REFERENCES "public"."t_icd9" ("icd_9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_inbed_reg_d
-- ----------------------------
ALTER TABLE "public"."t_data_inbed_reg_d" ADD CONSTRAINT "fk_rel_hosp_71" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_inbed_reg_d" ADD CONSTRAINT "fk_rel_hosp_72" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_appeal_file
-- ----------------------------
ALTER TABLE "public"."t_data_mi_appeal_file" ADD CONSTRAINT "fk_rel_group_file" FOREIGN KEY ("si_group_result_id") REFERENCES "public"."t_data_mi_group_result" ("si_group_result_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_appeal_template
-- ----------------------------
ALTER TABLE "public"."t_data_mi_appeal_template" ADD CONSTRAINT "fk_rel_hosp_77" FOREIGN KEY ("psn_id") REFERENCES "public"."t_hosp_psn_d" ("psn_id") ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE "public"."t_data_mi_appeal_template" ADD CONSTRAINT "fk_rel_hosp_78" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE "public"."t_data_mi_appeal_template" ADD CONSTRAINT "fk_rel_hosp_79" FOREIGN KEY ("dep_id") REFERENCES "public"."t_hosp_dep_d" ("dep_id") ON DELETE RESTRICT ON UPDATE RESTRICT;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_check_result
-- ----------------------------
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_100" FOREIGN KEY ("drug_id") REFERENCES "public"."t_drug" ("drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_101" FOREIGN KEY ("diag_id") REFERENCES "public"."t_diag" ("diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_102" FOREIGN KEY ("med_sup_id") REFERENCES "public"."t_medsup" ("med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_47" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_48" FOREIGN KEY ("inbed_bill_id") REFERENCES "public"."t_data_inbed_bill_d" ("inbed_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_49" FOREIGN KEY ("pres_bill_id") REFERENCES "public"."t_data_pres_bill" ("pres_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_50" FOREIGN KEY ("inbed_bill_detail_id") REFERENCES "public"."t_data_inbed_bill_detail_d" ("inbed_bill_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_52" FOREIGN KEY ("pres_bill_detail_id") REFERENCES "public"."t_data_pres_bill_detail" ("pres_bill_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_95" FOREIGN KEY ("rule_id") REFERENCES "public"."t_chs_rule" ("rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_96" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_97" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_98" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_check_result" ADD CONSTRAINT "fk_rel_hosp_99" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_group_result
-- ----------------------------
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_group_mission" FOREIGN KEY ("mission_id") REFERENCES "public"."t_data_mi_mission" ("mission_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_118" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_119" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_120" FOREIGN KEY ("psn_id") REFERENCES "public"."t_hosp_psn_d" ("psn_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_121" FOREIGN KEY ("dep_id") REFERENCES "public"."t_hosp_dep_d" ("dep_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_39" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_40" FOREIGN KEY ("inbed_bill_id") REFERENCES "public"."t_data_inbed_bill_d" ("inbed_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_43" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_rel_hosp_44" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_relationship_84" FOREIGN KEY ("mdc_id") REFERENCES "public"."t_drg_mdc" ("mdc_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_mi_group_result" ADD CONSTRAINT "fk_relationship_85" FOREIGN KEY ("adrg_id") REFERENCES "public"."t_drg_adrg" ("adrg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_mission
-- ----------------------------
ALTER TABLE "public"."t_data_mi_mission" ADD CONSTRAINT "fk_rel_hosp_68" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE "public"."t_data_mi_mission" ADD CONSTRAINT "fk_rel_hosp_69" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE RESTRICT ON UPDATE RESTRICT;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_template
-- ----------------------------
ALTER TABLE "public"."t_data_mi_template" ADD CONSTRAINT "fk_rel_hosp_80" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE RESTRICT ON UPDATE RESTRICT;

-- ----------------------------
-- Foreign Keys structure for table t_data_mi_template_detail
-- ----------------------------
ALTER TABLE "public"."t_data_mi_template_detail" ADD CONSTRAINT "fk_rel_hosp_81" FOREIGN KEY ("item_id") REFERENCES "public"."t_data_mi_item" ("item_id") ON DELETE RESTRICT ON UPDATE RESTRICT;
ALTER TABLE "public"."t_data_mi_template_detail" ADD CONSTRAINT "fk_rel_hosp_82" FOREIGN KEY ("mi_template_id") REFERENCES "public"."t_data_mi_template" ("mi_template_id") ON DELETE RESTRICT ON UPDATE RESTRICT;

-- ----------------------------
-- Foreign Keys structure for table t_data_pres_bill
-- ----------------------------
ALTER TABLE "public"."t_data_pres_bill" ADD CONSTRAINT "fk_rel_hosp_60" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill" ADD CONSTRAINT "fk_rel_hosp_61" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill" ADD CONSTRAINT "fk_rel_hosp_dep_pres" FOREIGN KEY ("dep_id") REFERENCES "public"."t_hosp_dep_d" ("dep_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill" ADD CONSTRAINT "fk_rel_hosp_psn_pres" FOREIGN KEY ("psn_id") REFERENCES "public"."t_hosp_psn_d" ("psn_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_pres_bill_detail
-- ----------------------------
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_07" FOREIGN KEY ("pres_bill_id") REFERENCES "public"."t_data_pres_bill" ("pres_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_62" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_63" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_64" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_65" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_66" FOREIGN KEY ("drug_id") REFERENCES "public"."t_drug" ("drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_67" FOREIGN KEY ("diag_id") REFERENCES "public"."t_diag" ("diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_bill_detail" ADD CONSTRAINT "fk_rel_hosp_68" FOREIGN KEY ("med_sup_id") REFERENCES "public"."t_medsup" ("med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_pres_diag
-- ----------------------------
ALTER TABLE "public"."t_data_pres_diag" ADD CONSTRAINT "fk_rel_hosp_14" FOREIGN KEY ("pres_bill_id") REFERENCES "public"."t_data_pres_bill" ("pres_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_data_pres_diag" ADD CONSTRAINT "fk_rel_hosp_82" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_data_pres_emr
-- ----------------------------
ALTER TABLE "public"."t_data_pres_emr" ADD CONSTRAINT "fk_rel_hosp_22" FOREIGN KEY ("pres_bill_id") REFERENCES "public"."t_data_pres_bill" ("pres_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_diag
-- ----------------------------
ALTER TABLE "public"."t_diag" ADD CONSTRAINT "fk_rel_pub_06" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_diag" ADD CONSTRAINT "fk_rel_pub_12" FOREIGN KEY ("diag_class_id") REFERENCES "public"."t_diag_class" ("diag_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_dic_domain_value
-- ----------------------------
ALTER TABLE "public"."t_dic_domain_value" ADD CONSTRAINT "fk_rel_pub_01" FOREIGN KEY ("domain_id") REFERENCES "public"."t_dic_domain" ("domain_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_dip_dips
-- ----------------------------
ALTER TABLE "public"."t_dip_dips" ADD CONSTRAINT "fk_rel_drg_19" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_dip_icd10
-- ----------------------------
ALTER TABLE "public"."t_dip_icd10" ADD CONSTRAINT "fk_rel_drg_05" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_dip_icd10" ADD CONSTRAINT "fk_rel_drg_21" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_dip_icd10" ADD CONSTRAINT "fk_rel_drg_30" FOREIGN KEY ("icd10_class_id") REFERENCES "public"."t_icd10_class" ("icd10_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_dip_icd9
-- ----------------------------
ALTER TABLE "public"."t_dip_icd9" ADD CONSTRAINT "fk_rel_drg_01" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_dip_icd9" ADD CONSTRAINT "fk_rel_drg_20" FOREIGN KEY ("icd_9_id") REFERENCES "public"."t_icd9" ("icd_9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_dip_icd9" ADD CONSTRAINT "fk_rel_drg_29" FOREIGN KEY ("icd9_class_id") REFERENCES "public"."t_icd9_class" ("icd9_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_adrg
-- ----------------------------
ALTER TABLE "public"."t_drg_adrg" ADD CONSTRAINT "fk_rel_drg_02" FOREIGN KEY ("mdc_id") REFERENCES "public"."t_drg_mdc" ("mdc_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_adrg" ADD CONSTRAINT "fk_rel_drg_11" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_adrg_icd10
-- ----------------------------
ALTER TABLE "public"."t_drg_adrg_icd10" ADD CONSTRAINT "fk_rel_drg_03" FOREIGN KEY ("adrg_id") REFERENCES "public"."t_drg_adrg" ("adrg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_adrg_icd10" ADD CONSTRAINT "fk_rel_drg_17" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_adrg_icd9
-- ----------------------------
ALTER TABLE "public"."t_drg_adrg_icd9" ADD CONSTRAINT "fk_rel_drg_04" FOREIGN KEY ("adrg_id") REFERENCES "public"."t_drg_adrg" ("adrg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_adrg_icd9" ADD CONSTRAINT "fk_rel_drg_15" FOREIGN KEY ("icd_9_id") REFERENCES "public"."t_icd9" ("icd_9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_dip_cnf
-- ----------------------------
ALTER TABLE "public"."t_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_24" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_26" FOREIGN KEY ("psn_type_id") REFERENCES "public"."t_chs_psn_type" ("psn_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_27" FOREIGN KEY ("si_type_id") REFERENCES "public"."t_chs_si_type" ("si_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_28" FOREIGN KEY ("hosp_lev_id") REFERENCES "public"."t_dic_hosp_lev" ("hosp_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_dip_values
-- ----------------------------
ALTER TABLE "public"."t_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_22" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_23" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_25" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_drgs
-- ----------------------------
ALTER TABLE "public"."t_drg_drgs" ADD CONSTRAINT "fk_rel_drg_06" FOREIGN KEY ("adrg_id") REFERENCES "public"."t_drg_adrg" ("adrg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_drgs" ADD CONSTRAINT "fk_rel_drg_12" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_mcc_cc
-- ----------------------------
ALTER TABLE "public"."t_drg_mcc_cc" ADD CONSTRAINT "fk_rel_drg_07" FOREIGN KEY ("mcc_cc_except_id") REFERENCES "public"."t_drg_mcc_cc_except" ("mcc_cc_except_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_mcc_cc" ADD CONSTRAINT "fk_rel_drg_13" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_mcc_cc_except
-- ----------------------------
ALTER TABLE "public"."t_drg_mcc_cc_except" ADD CONSTRAINT "fk_rel_drg_14" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_mcc_cc_except_detail
-- ----------------------------
ALTER TABLE "public"."t_drg_mcc_cc_except_detail" ADD CONSTRAINT "fk_rel_drg_08" FOREIGN KEY ("mcc_cc_except_id") REFERENCES "public"."t_drg_mcc_cc_except" ("mcc_cc_except_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_mcc_cc_except_detail" ADD CONSTRAINT "fk_rel_drg_18" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_mdc
-- ----------------------------
ALTER TABLE "public"."t_drg_mdc" ADD CONSTRAINT "fk_rel_drg_10" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drg_mdc_icd10
-- ----------------------------
ALTER TABLE "public"."t_drg_mdc_icd10" ADD CONSTRAINT "fk_rel_drg_09" FOREIGN KEY ("mdc_id") REFERENCES "public"."t_drg_mdc" ("mdc_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drg_mdc_icd10" ADD CONSTRAINT "fk_rel_drg_16" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drug
-- ----------------------------
ALTER TABLE "public"."t_drug" ADD CONSTRAINT "fk_rel_pub_02" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drug" ADD CONSTRAINT "fk_rel_pub_11" FOREIGN KEY ("drug_pub_id") REFERENCES "public"."t_drug_pub" ("drug_pub_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drug_class
-- ----------------------------
ALTER TABLE "public"."t_drug_class" ADD CONSTRAINT "fk_rel_pub_13" FOREIGN KEY ("drug_mi_form_id") REFERENCES "public"."t_chs_drug_form" ("drug_mi_form_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drug_pub
-- ----------------------------
ALTER TABLE "public"."t_drug_pub" ADD CONSTRAINT "fk_rel_pub_17" FOREIGN KEY ("drug_form_id") REFERENCES "public"."t_drug_form" ("drug_form_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_drug_pub_class
-- ----------------------------
ALTER TABLE "public"."t_drug_pub_class" ADD CONSTRAINT "fk_rel_pub_10" FOREIGN KEY ("drug_class_id") REFERENCES "public"."t_drug_class" ("drug_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_drug_pub_class" ADD CONSTRAINT "fk_rel_pub_16" FOREIGN KEY ("drug_pub_id") REFERENCES "public"."t_drug_pub" ("drug_pub_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_exam_mission
-- ----------------------------
ALTER TABLE "public"."t_exam_mission" ADD CONSTRAINT "fk_rel_exam_10" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_mission" ADD CONSTRAINT "fk_rel_exam_11" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_exam_result_detail
-- ----------------------------
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_03" FOREIGN KEY ("task_detail_id") REFERENCES "public"."t_exam_task_detail" ("task_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_12" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_13" FOREIGN KEY ("inbed_bill_id") REFERENCES "public"."t_data_inbed_bill_d" ("inbed_bill_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_14" FOREIGN KEY ("inbed_bill_detail_id") REFERENCES "public"."t_data_inbed_bill_detail_d" ("inbed_bill_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_17" FOREIGN KEY ("si_type_id") REFERENCES "public"."t_chs_si_type" ("si_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_18" FOREIGN KEY ("paymtd_id") REFERENCES "public"."t_chs_paymtd" ("paymtd_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_19" FOREIGN KEY ("psn_type_id") REFERENCES "public"."t_chs_psn_type" ("psn_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_20" FOREIGN KEY ("rule_id") REFERENCES "public"."t_chs_rule" ("rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_hosp" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_mission" FOREIGN KEY ("mission_id") REFERENCES "public"."t_exam_mission" ("mission_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_result_detail" ADD CONSTRAINT "fk_rel_exam_task" FOREIGN KEY ("task_id") REFERENCES "public"."t_exam_task" ("task_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_exam_task
-- ----------------------------
ALTER TABLE "public"."t_exam_task" ADD CONSTRAINT "fk_rel_exam_01" FOREIGN KEY ("mission_id") REFERENCES "public"."t_exam_mission" ("mission_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_exam_task_detail
-- ----------------------------
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_02" FOREIGN KEY ("task_id") REFERENCES "public"."t_exam_task" ("task_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_04" FOREIGN KEY ("drug_class_id") REFERENCES "public"."t_drug_class" ("drug_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_05" FOREIGN KEY ("drug_pub_id") REFERENCES "public"."t_drug_pub" ("drug_pub_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_06" FOREIGN KEY ("diag_class_id") REFERENCES "public"."t_diag_class" ("diag_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_07" FOREIGN KEY ("diag_id") REFERENCES "public"."t_diag" ("diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_08" FOREIGN KEY ("medsup_class_id") REFERENCES "public"."t_medsup_class" ("medsup_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_09" FOREIGN KEY ("med_sup_id") REFERENCES "public"."t_medsup" ("med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_exam_task_detail" ADD CONSTRAINT "fk_rel_exam_21" FOREIGN KEY ("rule_id") REFERENCES "public"."t_chs_rule" ("rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_advice
-- ----------------------------
ALTER TABLE "public"."t_hosp_advice" ADD CONSTRAINT "fk_rel_hosp_028" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_advice_fee
-- ----------------------------
ALTER TABLE "public"."t_hosp_advice_fee" ADD CONSTRAINT "fk_rel_hosp_038" FOREIGN KEY ("advice_id") REFERENCES "public"."t_hosp_advice" ("advice_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_advice_fee" ADD CONSTRAINT "fk_rel_hosp_085" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_advice_fee" ADD CONSTRAINT "fk_rel_hosp_086" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_advice_fee" ADD CONSTRAINT "fk_rel_hosp_087" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_advice_fee" ADD CONSTRAINT "fk_rel_hosp_088" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_chi_drug_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "fk_rel_hosp_03" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "fk_rel_hosp_27" FOREIGN KEY ("drug_id") REFERENCES "public"."t_drug" ("drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "fk_rel_hosp_account_type" FOREIGN KEY ("hosp_account_type_id") REFERENCES "public"."t_medical_account_type" ("hosp_account_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "fk_rel_hosp_fee_type_id" FOREIGN KEY ("hosp_fee_type_id") REFERENCES "public"."t_hosp_fee_type" ("hosp_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "fk_rel_hosp_item_type_chi_drug" FOREIGN KEY ("fee_item_type_id") REFERENCES "public"."t_hosp_fee_item_type" ("fee_item_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_chi_drug_d" ADD CONSTRAINT "fk_rel_hosp_page_fee_type" FOREIGN KEY ("hosp_page_fee_type_id") REFERENCES "public"."t_medical_page_fee_type" ("hosp_page_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_clinical_path
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path" ADD CONSTRAINT "fk_rel_hosp_029" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path" ADD CONSTRAINT "fk_rel_hosp_074" FOREIGN KEY ("clinical_path_type_id") REFERENCES "public"."t_medical_clinical_path_type" ("clinical_path_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_clinical_path_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "fk_rel_clin_path_detail" FOREIGN KEY ("clinical_path_detail_id") REFERENCES "public"."t_hosp_clinical_path_detail" ("clinical_path_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "fk_rel_hosp_012" FOREIGN KEY ("inbed_path_cost_id") REFERENCES "public"."t_hosp_inbed_path_cost" ("inbed_path_cost_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "fk_rel_hosp_022" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "fk_rel_hosp_033" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "fk_rel_hosp_035" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_cost" ADD CONSTRAINT "fk_rel_hosp_037" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_clinical_path_detail
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_039" FOREIGN KEY ("advice_id") REFERENCES "public"."t_hosp_advice" ("advice_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_041" FOREIGN KEY ("clinical_path_id") REFERENCES "public"."t_hosp_clinical_path" ("clinical_path_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_081" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_082" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_083" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_084" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_detail" ADD CONSTRAINT "fk_rel_hosp_path_detail_step" FOREIGN KEY ("clinical_path_step_id") REFERENCES "public"."t_hosp_clinical_path_step" ("clinical_path_step_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_clinical_path_icd
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "fk_rel_hosp_001" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "fk_rel_hosp_004" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "fk_rel_hosp_017" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "fk_rel_hosp_040" FOREIGN KEY ("clinical_path_id") REFERENCES "public"."t_hosp_clinical_path" ("clinical_path_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "fk_rel_hosp_066" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_medical_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_clinical_path_icd" ADD CONSTRAINT "fk_rel_hosp_067" FOREIGN KEY ("icd10_class_id") REFERENCES "public"."t_medical_icd10_class" ("icd10_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_clinical_path_step
-- ----------------------------
ALTER TABLE "public"."t_hosp_clinical_path_step" ADD CONSTRAINT "fk_clic_step_path" FOREIGN KEY ("clinical_path_id") REFERENCES "public"."t_hosp_clinical_path" ("clinical_path_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_dep_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_dep_d" ADD CONSTRAINT "fk_rel_12" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_diag_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_05" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_28" FOREIGN KEY ("diag_id") REFERENCES "public"."t_diag" ("diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_account_type" FOREIGN KEY ("hosp_account_type_id") REFERENCES "public"."t_medical_account_type" ("hosp_account_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_diag_type2" FOREIGN KEY ("diag_type_id") REFERENCES "public"."t_hosp_diag_type" ("diag_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_fee_type_id" FOREIGN KEY ("hosp_fee_type_id") REFERENCES "public"."t_hosp_fee_type" ("hosp_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_item_type_diag" FOREIGN KEY ("fee_item_type_id") REFERENCES "public"."t_hosp_fee_item_type" ("fee_item_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_medical_diag" FOREIGN KEY ("medical_diag_id") REFERENCES "public"."t_medical_diag" ("diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_diag_d" ADD CONSTRAINT "fk_rel_hosp_page_fee_type" FOREIGN KEY ("hosp_page_fee_type_id") REFERENCES "public"."t_medical_page_fee_type" ("hosp_page_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_diag_type
-- ----------------------------
ALTER TABLE "public"."t_hosp_diag_type" ADD CONSTRAINT "fk_rel_hosp_diag_type" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_drg_dip_cnf
-- ----------------------------
ALTER TABLE "public"."t_hosp_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_24" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_26" FOREIGN KEY ("psn_type_id") REFERENCES "public"."t_chs_psn_type" ("psn_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_27" FOREIGN KEY ("si_type_id") REFERENCES "public"."t_chs_si_type" ("si_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drg_dip_cnf" ADD CONSTRAINT "fk_rel_drg_28" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_drg_dip_values
-- ----------------------------
ALTER TABLE "public"."t_hosp_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_22" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_23" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_25" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drg_dip_values" ADD CONSTRAINT "fk_rel_drg_29" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_drug_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "fk_rel_hosp_02" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "fk_rel_hosp_26" FOREIGN KEY ("drug_id") REFERENCES "public"."t_drug" ("drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "fk_rel_hosp_account_type" FOREIGN KEY ("hosp_account_type_id") REFERENCES "public"."t_medical_account_type" ("hosp_account_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "fk_rel_hosp_fee_type_id" FOREIGN KEY ("hosp_fee_type_id") REFERENCES "public"."t_hosp_fee_type" ("hosp_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "fk_rel_hosp_item_type_drug" FOREIGN KEY ("fee_item_type_id") REFERENCES "public"."t_hosp_fee_item_type" ("fee_item_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_drug_d" ADD CONSTRAINT "fk_rel_hosp_page_fee_type" FOREIGN KEY ("hosp_page_fee_type_id") REFERENCES "public"."t_medical_page_fee_type" ("hosp_page_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_fee_item_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "fk_rel_fee_item_cost" FOREIGN KEY ("cost_type_id") REFERENCES "public"."t_medical_cost_type" ("cost_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "fk_rel_hosp_051" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "fk_rel_hosp_055" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "fk_rel_hosp_078" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "fk_rel_hosp_079" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_fee_item_cost" ADD CONSTRAINT "fk_rel_hosp_080" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_fee_item_type
-- ----------------------------
ALTER TABLE "public"."t_hosp_fee_item_type" ADD CONSTRAINT "fk_hosp_item_type" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_fee_type
-- ----------------------------
ALTER TABLE "public"."t_hosp_fee_type" ADD CONSTRAINT "fk_hosp_fee_type_hosp" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_inbed_item_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_010" FOREIGN KEY ("clinical_path_cost_id") REFERENCES "public"."t_hosp_clinical_path_cost" ("clinical_path_cost_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_011" FOREIGN KEY ("inbed_path_cost_id") REFERENCES "public"."t_hosp_inbed_path_cost" ("inbed_path_cost_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_013" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_015" FOREIGN KEY ("inbed_bill_detail_id") REFERENCES "public"."t_data_inbed_bill_detail_d" ("inbed_bill_detail_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_021" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_027" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_032" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_034" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_036" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_hosp_046" FOREIGN KEY ("fee_item_cost_id") REFERENCES "public"."t_hosp_fee_item_cost" ("fee_item_cost_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_item_cost" ADD CONSTRAINT "fk_rel_inbed_item_cost" FOREIGN KEY ("cost_type_id") REFERENCES "public"."t_medical_cost_type" ("cost_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_inbed_path_cost
-- ----------------------------
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_002" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_005" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_014" FOREIGN KEY ("inbed_reg_id") REFERENCES "public"."t_data_inbed_reg_d" ("inbed_reg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_016" FOREIGN KEY ("chs_ver_id") REFERENCES "public"."t_chs_ver" ("chs_ver_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_018" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_030" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_042" FOREIGN KEY ("clinical_path_id") REFERENCES "public"."t_hosp_clinical_path" ("clinical_path_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_044" FOREIGN KEY ("team_id") REFERENCES "public"."t_hosp_team" ("team_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_070" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_medical_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_071" FOREIGN KEY ("icd9_id") REFERENCES "public"."t_medical_icd9" ("icd9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_072" FOREIGN KEY ("risk_lev_id") REFERENCES "public"."t_medical_risk_lev" ("risk_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_inbed_path_cost" ADD CONSTRAINT "fk_rel_hosp_073" FOREIGN KEY ("opt_lev_id") REFERENCES "public"."t_medical_opt_lev" ("opt_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_indicator_result
-- ----------------------------
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_003" FOREIGN KEY ("dip_id") REFERENCES "public"."t_dip_dips" ("dip_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_006" FOREIGN KEY ("drg_id") REFERENCES "public"."t_drg_drgs" ("drg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_020" FOREIGN KEY ("psn_id") REFERENCES "public"."t_hosp_psn_d" ("psn_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_031" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_043" FOREIGN KEY ("clinical_path_id") REFERENCES "public"."t_hosp_clinical_path" ("clinical_path_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_045" FOREIGN KEY ("team_id") REFERENCES "public"."t_hosp_team" ("team_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_075" FOREIGN KEY ("indicator_id") REFERENCES "public"."t_medical_indicator" ("indicator_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_076" FOREIGN KEY ("dep_id") REFERENCES "public"."t_hosp_dep_d" ("dep_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_result" ADD CONSTRAINT "fk_rel_hosp_077" FOREIGN KEY ("indicator_caliber_id") REFERENCES "public"."t_medical_indicator_caliber" ("indicator_caliber_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_indicator_union
-- ----------------------------
ALTER TABLE "public"."t_hosp_indicator_union" ADD CONSTRAINT "fk_rel_hosp_026" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_union" ADD CONSTRAINT "fk_rel_hosp_056" FOREIGN KEY ("indicator_caliber_id") REFERENCES "public"."t_medical_indicator_caliber" ("indicator_caliber_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_union" ADD CONSTRAINT "fk_rel_hosp_057" FOREIGN KEY ("indicator_id") REFERENCES "public"."t_medical_indicator" ("indicator_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_indicator_union" ADD CONSTRAINT "fk_rel_hosp_058" FOREIGN KEY ("indicator_prg_id") REFERENCES "public"."t_medical_indicator_prg" ("indicator_prg_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_info
-- ----------------------------
ALTER TABLE "public"."t_hosp_info" ADD CONSTRAINT "fk_rel_hosp_41" FOREIGN KEY ("hosp_lev_id") REFERENCES "public"."t_dic_hosp_lev" ("hosp_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_info" ADD CONSTRAINT "fk_rel_hosp_42" FOREIGN KEY ("hosp_type_id") REFERENCES "public"."t_dic_hosp_type" ("hosp_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_item_workload
-- ----------------------------
ALTER TABLE "public"."t_hosp_item_workload" ADD CONSTRAINT "fk_rel_hosp_workload" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_item_workload" ADD CONSTRAINT "fk_rel_hosp_workload_chidrug" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_item_workload" ADD CONSTRAINT "fk_rel_hosp_workload_diag" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_item_workload" ADD CONSTRAINT "fk_rel_hosp_workload_drug" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_item_workload" ADD CONSTRAINT "fk_rel_hosp_workload_medsup" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_medsup_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "fk_rel_hosp_04" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "fk_rel_hosp_29" FOREIGN KEY ("med_sup_id") REFERENCES "public"."t_medsup" ("med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "fk_rel_hosp_account_type" FOREIGN KEY ("hosp_account_type_id") REFERENCES "public"."t_medical_account_type" ("hosp_account_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "fk_rel_hosp_fee_type_id" FOREIGN KEY ("hosp_fee_type_id") REFERENCES "public"."t_hosp_fee_type" ("hosp_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "fk_rel_hosp_item_type_medsup" FOREIGN KEY ("fee_item_type_id") REFERENCES "public"."t_hosp_fee_item_type" ("fee_item_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_medsup_d" ADD CONSTRAINT "fk_rel_hosp_page_fee_type" FOREIGN KEY ("hosp_page_fee_type_id") REFERENCES "public"."t_medical_page_fee_type" ("hosp_page_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_opt_lev_icd
-- ----------------------------
ALTER TABLE "public"."t_hosp_opt_lev_icd" ADD CONSTRAINT "fk_rel_hosp_025" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_opt_lev_icd" ADD CONSTRAINT "fk_rel_hosp_047" FOREIGN KEY ("icd9_id") REFERENCES "public"."t_medical_icd9" ("icd9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_opt_lev_icd" ADD CONSTRAINT "fk_rel_hosp_060" FOREIGN KEY ("opt_lev_id") REFERENCES "public"."t_medical_opt_lev" ("opt_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_opt_lev_icd" ADD CONSTRAINT "fk_rel_hosp_065" FOREIGN KEY ("icd9_class_id") REFERENCES "public"."t_medical_icd9_class" ("icd9_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_psn_d
-- ----------------------------
ALTER TABLE "public"."t_hosp_psn_d" ADD CONSTRAINT "fk_rel_hosp_06" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_psn_dep
-- ----------------------------
ALTER TABLE "public"."t_hosp_psn_dep" ADD CONSTRAINT "fk_rel_hosp_45" FOREIGN KEY ("psn_id") REFERENCES "public"."t_hosp_psn_d" ("psn_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_psn_dep" ADD CONSTRAINT "fk_rel_hosp_46" FOREIGN KEY ("dep_id") REFERENCES "public"."t_hosp_dep_d" ("dep_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_risk_icd
-- ----------------------------
ALTER TABLE "public"."t_hosp_risk_icd" ADD CONSTRAINT "fk_rel_hosp_024" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_risk_icd" ADD CONSTRAINT "fk_rel_hosp_062" FOREIGN KEY ("icd10_class_id") REFERENCES "public"."t_medical_icd10_class" ("icd10_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_risk_icd" ADD CONSTRAINT "fk_rel_hosp_063" FOREIGN KEY ("icd10_id") REFERENCES "public"."t_medical_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_risk_icd" ADD CONSTRAINT "fk_rel_hosp_064" FOREIGN KEY ("risk_lev_id") REFERENCES "public"."t_medical_risk_lev" ("risk_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_rule
-- ----------------------------
ALTER TABLE "public"."t_hosp_rule" ADD CONSTRAINT "fk_rel_hosp_rule_62" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_rule" ADD CONSTRAINT "fk_rel_hosp_rule_65" FOREIGN KEY ("rule_id") REFERENCES "public"."t_chs_rule" ("rule_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_team
-- ----------------------------
ALTER TABLE "public"."t_hosp_team" ADD CONSTRAINT "fk_rel_hosp_019" FOREIGN KEY ("psn_id") REFERENCES "public"."t_hosp_psn_d" ("psn_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_team" ADD CONSTRAINT "fk_rel_hosp_023" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_team" ADD CONSTRAINT "fk_rel_hosp_059" FOREIGN KEY ("dep_id") REFERENCES "public"."t_hosp_dep_d" ("dep_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_hosp_user_authorize
-- ----------------------------
ALTER TABLE "public"."t_hosp_user_authorize" ADD CONSTRAINT "fk_rel_hosp_hosp_61" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_hosp_user_authorize" ADD CONSTRAINT "fk_rel_hosp_user_60" FOREIGN KEY ("user_id") REFERENCES "public"."t_sys_user" ("user_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_icd10
-- ----------------------------
ALTER TABLE "public"."t_icd10" ADD CONSTRAINT "fk_rel_pub_09" FOREIGN KEY ("tumor_type_id") REFERENCES "public"."t_icd_tumor_type" ("tumor_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_icd10" ADD CONSTRAINT "fk_rel_pub_19" FOREIGN KEY ("icd10_class_id") REFERENCES "public"."t_icd10_class" ("icd10_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_icd9
-- ----------------------------
ALTER TABLE "public"."t_icd9" ADD CONSTRAINT "fk_rel_pub_18" FOREIGN KEY ("icd9_class_id") REFERENCES "public"."t_icd9_class" ("icd9_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_medical_diag
-- ----------------------------
ALTER TABLE "public"."t_medical_diag" ADD CONSTRAINT "fk_rel_hosp_048" FOREIGN KEY ("diag_class_id") REFERENCES "public"."t_medical_diag_class" ("diag_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_diag" ADD CONSTRAINT "fk_rel_hosp_052" FOREIGN KEY ("hosp_account_type_id") REFERENCES "public"."t_medical_account_type" ("hosp_account_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_diag" ADD CONSTRAINT "fk_rel_hosp_053" FOREIGN KEY ("hosp_fee_type_id") REFERENCES "public"."t_hosp_fee_type" ("hosp_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_diag" ADD CONSTRAINT "fk_rel_hosp_054" FOREIGN KEY ("hosp_page_fee_type_id") REFERENCES "public"."t_medical_page_fee_type" ("hosp_page_fee_type_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_diag" ADD CONSTRAINT "fk_rel_hosp_061" FOREIGN KEY ("hosp_medsup_lev_id") REFERENCES "public"."t_medical_medsup_lev" ("hosp_medsup_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_medical_icd10
-- ----------------------------
ALTER TABLE "public"."t_medical_icd10" ADD CONSTRAINT "fk_rel_hosp_009" FOREIGN KEY ("mi_icd10_id") REFERENCES "public"."t_icd10" ("icd10_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_icd10" ADD CONSTRAINT "fk_rel_hosp_050" FOREIGN KEY ("icd10_class_id") REFERENCES "public"."t_medical_icd10_class" ("icd10_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_icd10" ADD CONSTRAINT "fk_rel_hosp_icd_risk_lev" FOREIGN KEY ("risk_lev_id") REFERENCES "public"."t_medical_risk_lev" ("risk_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_medical_icd9
-- ----------------------------
ALTER TABLE "public"."t_medical_icd9" ADD CONSTRAINT "fk_rel_hosp_007" FOREIGN KEY ("mi_icd9_id") REFERENCES "public"."t_icd9" ("icd_9_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_icd9" ADD CONSTRAINT "fk_rel_hosp_049" FOREIGN KEY ("icd9_class_id") REFERENCES "public"."t_medical_icd9_class" ("icd9_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medical_icd9" ADD CONSTRAINT "fk_rel_hosp_icd9_opt_lev" FOREIGN KEY ("opt_lev_id") REFERENCES "public"."t_medical_opt_lev" ("opt_lev_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_medsup
-- ----------------------------
ALTER TABLE "public"."t_medsup" ADD CONSTRAINT "fk_rel_pub_07" FOREIGN KEY ("org_id") REFERENCES "public"."t_chs_org" ("org_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_medsup" ADD CONSTRAINT "fk_rel_pub_08" FOREIGN KEY ("medsup_class_id") REFERENCES "public"."t_medsup_class" ("medsup_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_platform_service
-- ----------------------------
ALTER TABLE "public"."t_platform_service" ADD CONSTRAINT "fk_pl_service_user" FOREIGN KEY ("platform_user_id") REFERENCES "public"."t_platform_user" ("platform_user_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_sys_log
-- ----------------------------
ALTER TABLE "public"."t_sys_log" ADD CONSTRAINT "fk_rel_01" FOREIGN KEY ("user_id") REFERENCES "public"."t_sys_user" ("user_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_sys_log" ADD CONSTRAINT "fk_rel_04" FOREIGN KEY ("model_code") REFERENCES "public"."t_sys_model" ("model_code") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_sys_menu
-- ----------------------------
ALTER TABLE "public"."t_sys_menu" ADD CONSTRAINT "fk_rel_27" FOREIGN KEY ("model_code") REFERENCES "public"."t_sys_model" ("model_code") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_sys_model_perm
-- ----------------------------
ALTER TABLE "public"."t_sys_model_perm" ADD CONSTRAINT "fk_rel_02" FOREIGN KEY ("perm_code") REFERENCES "public"."t_sys_perm" ("perm_code") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_sys_model_perm" ADD CONSTRAINT "fk_rel_03" FOREIGN KEY ("model_code") REFERENCES "public"."t_sys_model" ("model_code") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_sys_role_perm
-- ----------------------------
ALTER TABLE "public"."t_sys_role_perm" ADD CONSTRAINT "fk_rel_06" FOREIGN KEY ("perm_code") REFERENCES "public"."t_sys_perm" ("perm_code") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_sys_role_perm" ADD CONSTRAINT "fk_rel_08" FOREIGN KEY ("role_id") REFERENCES "public"."t_sys_role" ("role_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_sys_role_perm" ADD CONSTRAINT "fk_rel_19" FOREIGN KEY ("model_code") REFERENCES "public"."t_sys_model" ("model_code") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_sys_user_role
-- ----------------------------
ALTER TABLE "public"."t_sys_user_role" ADD CONSTRAINT "fk_rel_09" FOREIGN KEY ("user_id") REFERENCES "public"."t_sys_user" ("user_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_sys_user_role" ADD CONSTRAINT "fk_rel_10" FOREIGN KEY ("role_id") REFERENCES "public"."t_sys_role" ("role_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_case
-- ----------------------------
ALTER TABLE "public"."t_test_case" ADD CONSTRAINT "fk_rel_kw_017" FOREIGN KEY ("case_data_id") REFERENCES "public"."t_test_case_data" ("case_data_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_case_data
-- ----------------------------
ALTER TABLE "public"."t_test_case_data" ADD CONSTRAINT "fk_rel_kw_018" FOREIGN KEY ("test_class_id") REFERENCES "public"."t_test_class" ("test_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_case_diag
-- ----------------------------
ALTER TABLE "public"."t_test_case_diag" ADD CONSTRAINT "fk_rel_kw_014" FOREIGN KEY ("case_data_id") REFERENCES "public"."t_test_case_data" ("case_data_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_case_fee
-- ----------------------------
ALTER TABLE "public"."t_test_case_fee" ADD CONSTRAINT "fk_rel_kw_016" FOREIGN KEY ("case_data_id") REFERENCES "public"."t_test_case_data" ("case_data_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_case_log
-- ----------------------------
ALTER TABLE "public"."t_test_case_log" ADD CONSTRAINT "fk_rel_kw_013" FOREIGN KEY ("case_id") REFERENCES "public"."t_test_case" ("case_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_case_opt
-- ----------------------------
ALTER TABLE "public"."t_test_case_opt" ADD CONSTRAINT "fk_rel_kw_015" FOREIGN KEY ("case_data_id") REFERENCES "public"."t_test_case_data" ("case_data_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_test_class_case
-- ----------------------------
ALTER TABLE "public"."t_test_class_case" ADD CONSTRAINT "fk_rel_kw_011" FOREIGN KEY ("test_class_id") REFERENCES "public"."t_test_class" ("test_class_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_test_class_case" ADD CONSTRAINT "fk_rel_kw_012" FOREIGN KEY ("case_id") REFERENCES "public"."t_test_case" ("case_id") ON DELETE NO ACTION ON UPDATE NO ACTION;

-- ----------------------------
-- Foreign Keys structure for table t_workload_item_point
-- ----------------------------
ALTER TABLE "public"."t_workload_item_point" ADD CONSTRAINT "t_hosp_item_workload_copy1_chi_drug_id_fkey1" FOREIGN KEY ("chi_drug_id") REFERENCES "public"."t_hosp_chi_drug_d" ("chi_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_workload_item_point" ADD CONSTRAINT "t_hosp_item_workload_copy1_hosp_diag_id_fkey1" FOREIGN KEY ("hosp_diag_id") REFERENCES "public"."t_hosp_diag_d" ("hosp_diag_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_workload_item_point" ADD CONSTRAINT "t_hosp_item_workload_copy1_hosp_drug_id_fkey1" FOREIGN KEY ("hosp_drug_id") REFERENCES "public"."t_hosp_drug_d" ("hosp_drug_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_workload_item_point" ADD CONSTRAINT "t_hosp_item_workload_copy1_hosp_id_fkey1" FOREIGN KEY ("hosp_id") REFERENCES "public"."t_hosp_info" ("hosp_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "public"."t_workload_item_point" ADD CONSTRAINT "t_hosp_item_workload_copy1_hosp_med_sup_id_fkey1" FOREIGN KEY ("hosp_med_sup_id") REFERENCES "public"."t_hosp_medsup_d" ("hosp_med_sup_id") ON DELETE NO ACTION ON UPDATE NO ACTION;
